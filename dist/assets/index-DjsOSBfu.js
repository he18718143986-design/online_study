var Hu=e=>{throw TypeError(e)};var fo=(e,t,r)=>t.has(e)||Hu("Cannot "+r);var C=(e,t,r)=>(fo(e,t,"read from private field"),r?r.call(e):t.get(e)),X=(e,t,r)=>t.has(e)?Hu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$=(e,t,r,n)=>(fo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),oe=(e,t,r)=>(fo(e,t,"access private method"),r);var gl=(e,t,r,n)=>({set _(a){$(e,t,a,r)},get _(){return C(e,t,n)}});function _y(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Oy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Om={exports:{}},Mi={},Mm={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=Symbol.for("react.element"),My=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),Uy=Symbol.for("react.suspense"),By=Symbol.for("react.memo"),Hy=Symbol.for("react.lazy"),Qu=Symbol.iterator;function Qy(e){return e===null||typeof e!="object"?null:(e=Qu&&e[Qu]||e["@@iterator"],typeof e=="function"?e:null)}var Im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dm=Object.assign,Am={};function Fs(e,t,r){this.props=e,this.context=t,this.refs=Am,this.updater=r||Im}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fm(){}Fm.prototype=Fs.prototype;function pc(e,t,r){this.props=e,this.context=t,this.refs=Am,this.updater=r||Im}var xc=pc.prototype=new Fm;xc.constructor=pc;Dm(xc,Fs.prototype);xc.isPureReactComponent=!0;var Vu=Array.isArray,zm=Object.prototype.hasOwnProperty,gc={current:null},$m={key:!0,ref:!0,__self:!0,__source:!0};function Um(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)zm.call(t,n)&&!$m.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ya,type:e,key:l,ref:i,props:a,_owner:gc.current}}function Vy(e,t){return{$$typeof:Ya,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ya}function Wy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wu=/\/+/g;function ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wy(""+e.key):t.toString(36)}function Hl(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ya:case My:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+ho(i,0):n,Vu(a)?(r="",e!=null&&(r=e.replace(Wu,"$&/")+"/"),Hl(a,t,r,"",function(c){return c})):a!=null&&(yc(a)&&(a=Vy(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Wu,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Vu(e))for(var o=0;o<e.length;o++){l=e[o];var d=n+ho(l,o);i+=Hl(l,t,r,d,a)}else if(d=Qy(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=n+ho(l,o++),i+=Hl(l,t,r,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function yl(e,t,r){if(e==null)return e;var n=[],a=0;return Hl(e,n,"","",function(l){return t.call(r,l,a++)}),n}function Ky(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Ql={transition:null},qy={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:gc};function Bm(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:yl,forEach:function(e,t,r){yl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yl(e,function(){t++}),t},toArray:function(e){return yl(e,function(t){return t})||[]},only:function(e){if(!yc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Fs;ie.Fragment=Iy;ie.Profiler=Ay;ie.PureComponent=pc;ie.StrictMode=Dy;ie.Suspense=Uy;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qy;ie.act=Bm;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dm({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=gc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)zm.call(t,d)&&!$m.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ya,type:e.type,key:a,ref:l,props:n,_owner:i}};ie.createContext=function(e){return e={$$typeof:zy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fy,_context:e},e.Consumer=e};ie.createElement=Um;ie.createFactory=function(e){var t=Um.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:$y,render:e}};ie.isValidElement=yc;ie.lazy=function(e){return{$$typeof:Hy,_payload:{_status:-1,_result:e},_init:Ky}};ie.memo=function(e,t){return{$$typeof:By,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Ql.transition;Ql.transition={};try{e()}finally{Ql.transition=t}};ie.unstable_act=Bm;ie.useCallback=function(e,t){return ot.current.useCallback(e,t)};ie.useContext=function(e){return ot.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};ie.useEffect=function(e,t){return ot.current.useEffect(e,t)};ie.useId=function(){return ot.current.useId()};ie.useImperativeHandle=function(e,t,r){return ot.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ot.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return ot.current.useReducer(e,t,r)};ie.useRef=function(e){return ot.current.useRef(e)};ie.useState=function(e){return ot.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return ot.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return ot.current.useTransition()};ie.version="18.3.1";Mm.exports=ie;var E=Mm.exports;const S=Oy(E),Gy=_y({__proto__:null,default:S},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=E,Jy=Symbol.for("react.element"),Xy=Symbol.for("react.fragment"),Zy=Object.prototype.hasOwnProperty,eb=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tb={key:!0,ref:!0,__self:!0,__source:!0};function Hm(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Zy.call(t,n)&&!tb.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Jy,type:e,key:l,ref:i,props:a,_owner:eb.current}}Mi.Fragment=Xy;Mi.jsx=Hm;Mi.jsxs=Hm;Om.exports=Mi;var s=Om.exports,Xo={},Qm={exports:{}},St={},Vm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,V){var W=M.length;M.push(V);e:for(;0<W;){var ee=W-1>>>1,ae=M[ee];if(0<a(ae,V))M[ee]=V,M[W]=ae,W=ee;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],W=M.pop();if(W!==V){M[0]=W;e:for(var ee=0,ae=M.length,Ie=ae>>>1;ee<Ie;){var ke=2*(ee+1)-1,Ne=M[ke],ze=ke+1,or=M[ze];if(0>a(Ne,W))ze<ae&&0>a(or,Ne)?(M[ee]=or,M[ze]=W,ee=ze):(M[ee]=Ne,M[ke]=W,ee=ke);else if(ze<ae&&0>a(or,W))M[ee]=or,M[ze]=W,ee=ze;else break e}}return V}function a(M,V){var W=M.sortIndex-V.sortIndex;return W!==0?W:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],c=[],u=1,f=null,h=3,m=!1,x=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=M)n(c),V.sortIndex=V.expirationTime,t(d,V);else break;V=r(c)}}function j(M){if(b=!1,y(M),!x)if(r(d)!==null)x=!0,Z(N);else{var V=r(c);V!==null&&me(j,V.startTime-M)}}function N(M,V){x=!1,b&&(b=!1,p(_),_=-1),m=!0;var W=h;try{for(y(V),f=r(d);f!==null&&(!(f.expirationTime>V)||M&&!B());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ae=ee(f.expirationTime<=V);V=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===r(d)&&n(d),y(V)}else n(d);f=r(d)}if(f!==null)var Ie=!0;else{var ke=r(c);ke!==null&&me(j,ke.startTime-V),Ie=!1}return Ie}finally{f=null,h=W,m=!1}}var P=!1,v=null,_=-1,A=5,O=-1;function B(){return!(e.unstable_now()-O<A)}function se(){if(v!==null){var M=e.unstable_now();O=M;var V=!0;try{V=v(!0,M)}finally{V?ue():(P=!1,v=null)}}else P=!1}var ue;if(typeof g=="function")ue=function(){g(se)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ge=z.port2;z.port1.onmessage=se,ue=function(){ge.postMessage(null)}}else ue=function(){w(se,0)};function Z(M){v=M,P||(P=!0,ue())}function me(M,V){_=w(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,Z(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var W=h;h=V;try{return M()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=h;h=M;try{return V()}finally{h=W}},e.unstable_scheduleCallback=function(M,V,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,M){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,M={id:u++,callback:V,priorityLevel:M,startTime:W,expirationTime:ae,sortIndex:-1},W>ee?(M.sortIndex=W,t(c,M),r(d)===null&&M===r(c)&&(b?(p(_),_=-1):b=!0,me(j,W-ee))):(M.sortIndex=ae,t(d,M),x||m||(x=!0,Z(N))),M},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(M){var V=h;return function(){var W=h;h=V;try{return M.apply(this,arguments)}finally{h=W}}}})(Wm);Vm.exports=Wm;var rb=Vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=E,Nt=rb;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Km=new Set,ja={};function Hn(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(ja[e]=t,e=0;e<t.length;e++)Km.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},qu={};function ab(e){return Zo.call(qu,e)?!0:Zo.call(Ku,e)?!1:sb.test(e)?qu[e]=!0:(Ku[e]=!0,!1)}function lb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ib(e,t,r,n){if(t===null||typeof t>"u"||lb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function vc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bc,vc);qe[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bc,vc);qe[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bc,vc);qe[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function wc(e,t,r,n){var a=qe.hasOwnProperty(t)?qe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ib(t,r,a,n)&&(r=null),n||a===null?ab(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cr=nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),ed=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),td=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),Nc=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),Ym=Symbol.for("react.offscreen"),Gu=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,mo;function aa(e){if(mo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||""}return`
`+mo+e}var po=!1;function xo(e,t){if(!e||po)return"";po=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{po=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?aa(e):""}function ob(e){switch(e.tag){case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return e=xo(e.type,!1),e;case 11:return e=xo(e.type.render,!1),e;case 1:return e=xo(e.type,!0),e;default:return""}}function nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Yn:return"Portal";case ed:return"Profiler";case jc:return"StrictMode";case td:return"Suspense";case rd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gm:return(e.displayName||"Context")+".Consumer";case qm:return(e._context.displayName||"Context")+".Provider";case kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nc:return t=e.displayName||null,t!==null?t:nd(e.type)||"Memo";case Lr:t=e._payload,e=e._init;try{return nd(e(t))}catch{}}return null}function db(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(t);case 8:return t===jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cb(e){var t=Jm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vl(e){e._valueTracker||(e._valueTracker=cb(e))}function Xm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Jm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sd(e,t){var r=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zm(e,t){t=t.checked,t!=null&&wc(e,"checked",t,!1)}function ad(e,t){Zm(e,t);var r=rn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ld(e,t.type,r):t.hasOwnProperty("defaultValue")&&ld(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ju(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ld(e,t,r){(t!=="number"||ii(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var la=Array.isArray;function cs(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function id(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(la(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rn(r)}}function ep(e,t){var r=rn(t.value),n=rn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wl,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ka(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ub=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){ub.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});function np(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function sp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=np(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var fb=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(e,t){if(t){if(fb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=null;function Sc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fd=null,us=null,fs=null;function ef(e){if(e=Za(e)){if(typeof fd!="function")throw Error(D(280));var t=e.stateNode;t&&(t=zi(t),fd(e.stateNode,e.type,t))}}function ap(e){us?fs?fs.push(e):fs=[e]:us=e}function lp(){if(us){var e=us,t=fs;if(fs=us=null,ef(e),t)for(e=0;e<t.length;e++)ef(t[e])}}function ip(e,t){return e(t)}function op(){}var go=!1;function dp(e,t,r){if(go)return e(t,r);go=!0;try{return ip(e,t,r)}finally{go=!1,(us!==null||fs!==null)&&(op(),lp())}}function Na(e,t){var r=e.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var hd=!1;if(jr)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){hd=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{hd=!1}function hb(e,t,r,n,a,l,i,o,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var ha=!1,oi=null,di=!1,md=null,mb={onError:function(e){ha=!0,oi=e}};function pb(e,t,r,n,a,l,i,o,d){ha=!1,oi=null,hb.apply(mb,arguments)}function xb(e,t,r,n,a,l,i,o,d){if(pb.apply(this,arguments),ha){if(ha){var c=oi;ha=!1,oi=null}else throw Error(D(198));di||(di=!0,md=c)}}function Qn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tf(e){if(Qn(e)!==e)throw Error(D(188))}function gb(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return tf(a),e;if(l===n)return tf(a),t;l=l.sibling}throw Error(D(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function up(e){return e=gb(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var hp=Nt.unstable_scheduleCallback,rf=Nt.unstable_cancelCallback,yb=Nt.unstable_shouldYield,bb=Nt.unstable_requestPaint,Oe=Nt.unstable_now,vb=Nt.unstable_getCurrentPriorityLevel,Cc=Nt.unstable_ImmediatePriority,mp=Nt.unstable_UserBlockingPriority,ci=Nt.unstable_NormalPriority,wb=Nt.unstable_LowPriority,pp=Nt.unstable_IdlePriority,Ii=null,sr=null;function jb(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Sb,kb=Math.log,Nb=Math.LN2;function Sb(e){return e>>>=0,e===0?32:31-(kb(e)/Nb|0)|0}var jl=64,kl=4194304;function ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=ia(o):(l&=i,l!==0&&(n=ia(l)))}else i=r&~a,i!==0?n=ia(i):l!==0&&(n=ia(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vt(t),a=1<<r,n|=e[r],t&=~a;return n}function Cb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Vt(l),o=1<<i,d=a[i];d===-1?(!(o&r)||o&n)&&(a[i]=Cb(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function pd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=jl;return jl<<=1,!(jl&4194240)&&(jl=64),e}function yo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ja(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=r}function Rb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Vt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function Ec(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var xe=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yp,Rc,bp,vp,wp,xd=!1,Nl=[],Kr=null,qr=null,Gr=null,Sa=new Map,Ca=new Map,_r=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(e,t){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(t.pointerId)}}function Gs(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Za(t),t!==null&&Rc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Lb(e,t,r,n,a){switch(t){case"focusin":return Kr=Gs(Kr,e,t,r,n,a),!0;case"dragenter":return qr=Gs(qr,e,t,r,n,a),!0;case"mouseover":return Gr=Gs(Gr,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return Sa.set(l,Gs(Sa.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Ca.set(l,Gs(Ca.get(l)||null,e,t,r,n,a)),!0}return!1}function jp(e){var t=yn(e.target);if(t!==null){var r=Qn(t);if(r!==null){if(t=r.tag,t===13){if(t=cp(r),t!==null){e.blockedOn=t,wp(e.priority,function(){bp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ud=n,r.target.dispatchEvent(n),ud=null}else return t=Za(r),t!==null&&Rc(t),e.blockedOn=r,!1;t.shift()}return!0}function sf(e,t,r){Vl(e)&&r.delete(t)}function Tb(){xd=!1,Kr!==null&&Vl(Kr)&&(Kr=null),qr!==null&&Vl(qr)&&(qr=null),Gr!==null&&Vl(Gr)&&(Gr=null),Sa.forEach(sf),Ca.forEach(sf)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,xd||(xd=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,Tb)))}function Ea(e){function t(a){return Ys(a,e)}if(0<Nl.length){Ys(Nl[0],e);for(var r=1;r<Nl.length;r++){var n=Nl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kr!==null&&Ys(Kr,e),qr!==null&&Ys(qr,e),Gr!==null&&Ys(Gr,e),Sa.forEach(t),Ca.forEach(t),r=0;r<_r.length;r++)n=_r[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)jp(r),r.blockedOn===null&&_r.shift()}var hs=Cr.ReactCurrentBatchConfig,fi=!0;function _b(e,t,r,n){var a=xe,l=hs.transition;hs.transition=null;try{xe=1,Pc(e,t,r,n)}finally{xe=a,hs.transition=l}}function Ob(e,t,r,n){var a=xe,l=hs.transition;hs.transition=null;try{xe=4,Pc(e,t,r,n)}finally{xe=a,hs.transition=l}}function Pc(e,t,r,n){if(fi){var a=gd(e,t,r,n);if(a===null)Ro(e,t,n,hi,r),nf(e,n);else if(Lb(a,e,t,r,n))n.stopPropagation();else if(nf(e,n),t&4&&-1<Pb.indexOf(e)){for(;a!==null;){var l=Za(a);if(l!==null&&yp(l),l=gd(e,t,r,n),l===null&&Ro(e,t,n,hi,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Ro(e,t,n,null,r)}}var hi=null;function gd(e,t,r,n){if(hi=null,e=Sc(n),e=yn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function kp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vb()){case Cc:return 1;case mp:return 4;case ci:case wb:return 16;case pp:return 536870912;default:return 16}default:return 16}}var Qr=null,Lc=null,Wl=null;function Np(){if(Wl)return Wl;var e,t=Lc,r=t.length,n,a="value"in Qr?Qr.value:Qr.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return Wl=a.slice(e,1<n?1-n:void 0)}function Kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function af(){return!1}function Ct(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Sl:af,this.isPropagationStopped=af,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=Ct(zs),Xa=Re({},zs,{view:0,detail:0}),Mb=Ct(Xa),bo,vo,Js,Di=Re({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Js&&(Js&&e.type==="mousemove"?(bo=e.screenX-Js.screenX,vo=e.screenY-Js.screenY):vo=bo=0,Js=e),bo)},movementY:function(e){return"movementY"in e?e.movementY:vo}}),lf=Ct(Di),Ib=Re({},Di,{dataTransfer:0}),Db=Ct(Ib),Ab=Re({},Xa,{relatedTarget:0}),wo=Ct(Ab),Fb=Re({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),zb=Ct(Fb),$b=Re({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ub=Ct($b),Bb=Re({},zs,{data:0}),of=Ct(Bb),Hb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vb[e])?!!t[e]:!1}function _c(){return Wb}var Kb=Re({},Xa,{key:function(e){if(e.key){var t=Hb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qb=Ct(Kb),Gb=Re({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=Ct(Gb),Yb=Re({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),Jb=Ct(Yb),Xb=Re({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zb=Ct(Xb),ev=Re({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=Ct(ev),rv=[9,13,27,32],Oc=jr&&"CompositionEvent"in window,ma=null;jr&&"documentMode"in document&&(ma=document.documentMode);var nv=jr&&"TextEvent"in window&&!ma,Sp=jr&&(!Oc||ma&&8<ma&&11>=ma),cf=" ",uf=!1;function Cp(e,t){switch(e){case"keyup":return rv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ep(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function sv(e,t){switch(e){case"compositionend":return Ep(t);case"keypress":return t.which!==32?null:(uf=!0,cf);case"textInput":return e=t.data,e===cf&&uf?null:e;default:return null}}function av(e,t){if(Xn)return e==="compositionend"||!Oc&&Cp(e,t)?(e=Np(),Wl=Lc=Qr=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sp&&t.locale!=="ko"?null:t.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lv[e.type]:t==="textarea"}function Rp(e,t,r,n){ap(n),t=mi(t,"onChange"),0<t.length&&(r=new Tc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pa=null,Ra=null;function iv(e){zp(e,0)}function Ai(e){var t=ts(e);if(Xm(t))return e}function ov(e,t){if(e==="change")return t}var Pp=!1;if(jr){var jo;if(jr){var ko="oninput"in document;if(!ko){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),ko=typeof hf.oninput=="function"}jo=ko}else jo=!1;Pp=jo&&(!document.documentMode||9<document.documentMode)}function mf(){pa&&(pa.detachEvent("onpropertychange",Lp),Ra=pa=null)}function Lp(e){if(e.propertyName==="value"&&Ai(Ra)){var t=[];Rp(t,Ra,e,Sc(e)),dp(iv,t)}}function dv(e,t,r){e==="focusin"?(mf(),pa=t,Ra=r,pa.attachEvent("onpropertychange",Lp)):e==="focusout"&&mf()}function cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(Ra)}function uv(e,t){if(e==="click")return Ai(t)}function fv(e,t){if(e==="input"||e==="change")return Ai(t)}function hv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:hv;function Pa(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Zo.call(t,a)||!Kt(e[a],t[a]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var r=pf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pf(r)}}function Tp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _p(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ii(e.document)}return t}function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mv(e){var t=_p(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tp(r.ownerDocument.documentElement,r)){if(n!==null&&Mc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=xf(r,l);var i=xf(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pv=jr&&"documentMode"in document&&11>=document.documentMode,Zn=null,yd=null,xa=null,bd=!1;function gf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bd||Zn==null||Zn!==ii(n)||(n=Zn,"selectionStart"in n&&Mc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xa&&Pa(xa,n)||(xa=n,n=mi(yd,"onSelect"),0<n.length&&(t=new Tc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zn)))}function Cl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var es={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},No={},Op={};jr&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Fi(e){if(No[e])return No[e];if(!es[e])return e;var t=es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Op)return No[e]=t[r];return e}var Mp=Fi("animationend"),Ip=Fi("animationiteration"),Dp=Fi("animationstart"),Ap=Fi("transitionend"),Fp=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){Fp.set(e,t),Hn(t,[e])}for(var So=0;So<yf.length;So++){var Co=yf[So],xv=Co.toLowerCase(),gv=Co[0].toUpperCase()+Co.slice(1);sn(xv,"on"+gv)}sn(Mp,"onAnimationEnd");sn(Ip,"onAnimationIteration");sn(Dp,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(Ap,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yv=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function bf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xb(n,t,void 0,e),e.currentTarget=null}function zp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;bf(a,o,c),l=d}else for(i=0;i<n.length;i++){if(o=n[i],d=o.instance,c=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;bf(a,o,c),l=d}}}if(di)throw e=md,di=!1,md=null,e}function we(e,t){var r=t[Nd];r===void 0&&(r=t[Nd]=new Set);var n=e+"__bubble";r.has(n)||($p(t,e,2,!1),r.add(n))}function Eo(e,t,r){var n=0;t&&(n|=4),$p(r,e,n,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function La(e){if(!e[El]){e[El]=!0,Km.forEach(function(r){r!=="selectionchange"&&(yv.has(r)||Eo(r,!1,e),Eo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,Eo("selectionchange",!1,t))}}function $p(e,t,r,n){switch(kp(t)){case 1:var a=_b;break;case 4:a=Ob;break;default:a=Pc}r=a.bind(null,t,r,e),a=void 0,!hd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ro(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=yn(o),i===null)return;if(d=i.tag,d===5||d===6){n=l=i;continue e}o=o.parentNode}}n=n.return}dp(function(){var c=l,u=Sc(r),f=[];e:{var h=Fp.get(e);if(h!==void 0){var m=Tc,x=e;switch(e){case"keypress":if(Kl(r)===0)break e;case"keydown":case"keyup":m=qb;break;case"focusin":x="focus",m=wo;break;case"focusout":x="blur",m=wo;break;case"beforeblur":case"afterblur":m=wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Jb;break;case Mp:case Ip:case Dp:m=zb;break;case Ap:m=Zb;break;case"scroll":m=Mb;break;case"wheel":m=tv;break;case"copy":case"cut":case"paste":m=Ub;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=df}var b=(t&4)!==0,w=!b&&e==="scroll",p=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,y;g!==null;){y=g;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,p!==null&&(j=Na(g,p),j!=null&&b.push(Ta(g,j,y)))),w)break;g=g.return}0<b.length&&(h=new m(h,x,null,r,u),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==ud&&(x=r.relatedTarget||r.fromElement)&&(yn(x)||x[kr]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=c,x=x?yn(x):null,x!==null&&(w=Qn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(b=lf,j="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=df,j="onPointerLeave",p="onPointerEnter",g="pointer"),w=m==null?h:ts(m),y=x==null?h:ts(x),h=new b(j,g+"leave",m,r,u),h.target=w,h.relatedTarget=y,j=null,yn(u)===c&&(b=new b(p,g+"enter",x,r,u),b.target=y,b.relatedTarget=w,j=b),w=j,m&&x)t:{for(b=m,p=x,g=0,y=b;y;y=qn(y))g++;for(y=0,j=p;j;j=qn(j))y++;for(;0<g-y;)b=qn(b),g--;for(;0<y-g;)p=qn(p),y--;for(;g--;){if(b===p||p!==null&&b===p.alternate)break t;b=qn(b),p=qn(p)}b=null}else b=null;m!==null&&vf(f,h,m,b,!1),x!==null&&w!==null&&vf(f,w,x,b,!0)}}e:{if(h=c?ts(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=ov;else if(ff(h))if(Pp)N=fv;else{N=cv;var P=dv}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=uv);if(N&&(N=N(e,c))){Rp(f,N,r,u);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&ld(h,"number",h.value)}switch(P=c?ts(c):window,e){case"focusin":(ff(P)||P.contentEditable==="true")&&(Zn=P,yd=c,xa=null);break;case"focusout":xa=yd=Zn=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,gf(f,r,u);break;case"selectionchange":if(pv)break;case"keydown":case"keyup":gf(f,r,u)}var v;if(Oc)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Xn?Cp(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Sp&&r.locale!=="ko"&&(Xn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Xn&&(v=Np()):(Qr=u,Lc="value"in Qr?Qr.value:Qr.textContent,Xn=!0)),P=mi(c,_),0<P.length&&(_=new of(_,e,null,r,u),f.push({event:_,listeners:P}),v?_.data=v:(v=Ep(r),v!==null&&(_.data=v)))),(v=nv?sv(e,r):av(e,r))&&(c=mi(c,"onBeforeInput"),0<c.length&&(u=new of("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=v))}zp(f,t)})}function Ta(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mi(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Na(e,r),l!=null&&n.unshift(Ta(e,l,a)),l=Na(e,t),l!=null&&n.push(Ta(e,l,a))),e=e.return}return n}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,d=o.alternate,c=o.stateNode;if(d!==null&&d===n)break;o.tag===5&&c!==null&&(o=c,a?(d=Na(r,l),d!=null&&i.unshift(Ta(r,d,o))):a||(d=Na(r,l),d!=null&&i.push(Ta(r,d,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var bv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(bv,`
`).replace(vv,"")}function Rl(e,t,r){if(t=wf(t),wf(e)!==t&&r)throw Error(D(425))}function pi(){}var vd=null,wd=null;function jd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kd=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(e){return jf.resolve(null).then(e).catch(kv)}:kd;function kv(e){setTimeout(function(){throw e})}function Po(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ea(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ea(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $s=Math.random().toString(36).slice(2),nr="__reactFiber$"+$s,_a="__reactProps$"+$s,kr="__reactContainer$"+$s,Nd="__reactEvents$"+$s,Nv="__reactListeners$"+$s,Sv="__reactHandles$"+$s;function yn(e){var t=e[nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kr]||r[nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kf(e);e!==null;){if(r=e[nr])return r;e=kf(e)}return t}e=r,r=e.parentNode}return null}function Za(e){return e=e[nr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function zi(e){return e[_a]||null}var Sd=[],rs=-1;function an(e){return{current:e}}function je(e){0>rs||(e.current=Sd[rs],Sd[rs]=null,rs--)}function ve(e,t){rs++,Sd[rs]=e.current,e.current=t}var nn={},rt=an(nn),mt=an(!1),Dn=nn;function Ls(e,t){var r=e.type.contextTypes;if(!r)return nn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return e=e.childContextTypes,e!=null}function xi(){je(mt),je(rt)}function Nf(e,t,r){if(rt.current!==nn)throw Error(D(168));ve(rt,t),ve(mt,r)}function Up(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(D(108,db(e)||"Unknown",a));return Re({},r,n)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,Dn=rt.current,ve(rt,e),ve(mt,mt.current),!0}function Sf(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=Up(e,t,Dn),n.__reactInternalMemoizedMergedChildContext=e,je(mt),je(rt),ve(rt,e)):je(mt),ve(mt,r)}var pr=null,$i=!1,Lo=!1;function Bp(e){pr===null?pr=[e]:pr.push(e)}function Cv(e){$i=!0,Bp(e)}function ln(){if(!Lo&&pr!==null){Lo=!0;var e=0,t=xe;try{var r=pr;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pr=null,$i=!1}catch(a){throw pr!==null&&(pr=pr.slice(e+1)),hp(Cc,ln),a}finally{xe=t,Lo=!1}}return null}var ns=[],ss=0,yi=null,bi=0,Tt=[],_t=0,An=null,br=1,vr="";function xn(e,t){ns[ss++]=bi,ns[ss++]=yi,yi=e,bi=t}function Hp(e,t,r){Tt[_t++]=br,Tt[_t++]=vr,Tt[_t++]=An,An=e;var n=br;e=vr;var a=32-Vt(n)-1;n&=~(1<<a),r+=1;var l=32-Vt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,br=1<<32-Vt(t)+a|r<<a|n,vr=l+e}else br=1<<l|r<<a|n,vr=e}function Ic(e){e.return!==null&&(xn(e,1),Hp(e,1,0))}function Dc(e){for(;e===yi;)yi=ns[--ss],ns[ss]=null,bi=ns[--ss],ns[ss]=null;for(;e===An;)An=Tt[--_t],Tt[_t]=null,vr=Tt[--_t],Tt[_t]=null,br=Tt[--_t],Tt[_t]=null}var kt=null,jt=null,Se=!1,Qt=null;function Qp(e,t){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,jt=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=An!==null?{id:br,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,jt=null,!0):!1;default:return!1}}function Cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ed(e){if(Se){var t=jt;if(t){var r=t;if(!Cf(e,t)){if(Cd(e))throw Error(D(418));t=Yr(r.nextSibling);var n=kt;t&&Cf(e,t)?Qp(n,r):(e.flags=e.flags&-4097|2,Se=!1,kt=e)}}else{if(Cd(e))throw Error(D(418));e.flags=e.flags&-4097|2,Se=!1,kt=e}}}function Ef(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Pl(e){if(e!==kt)return!1;if(!Se)return Ef(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jd(e.type,e.memoizedProps)),t&&(t=jt)){if(Cd(e))throw Vp(),Error(D(418));for(;t;)Qp(e,t),t=Yr(t.nextSibling)}if(Ef(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jt=Yr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=kt?Yr(e.stateNode.nextSibling):null;return!0}function Vp(){for(var e=jt;e;)e=Yr(e.nextSibling)}function Ts(){jt=kt=null,Se=!1}function Ac(e){Qt===null?Qt=[e]:Qt.push(e)}var Ev=Cr.ReactCurrentBatchConfig;function Xs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Ll(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rf(e){var t=e._init;return t(e._payload)}function Wp(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function r(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function n(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function a(p,g){return p=en(p,g),p.index=0,p.sibling=null,p}function l(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,g,y,j){return g===null||g.tag!==6?(g=Ao(y,p.mode,j),g.return=p,g):(g=a(g,y),g.return=p,g)}function d(p,g,y,j){var N=y.type;return N===Jn?u(p,g,y.props.children,j,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Lr&&Rf(N)===g.type)?(j=a(g,y.props),j.ref=Xs(p,g,y),j.return=p,j):(j=ei(y.type,y.key,y.props,null,p.mode,j),j.ref=Xs(p,g,y),j.return=p,j)}function c(p,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Fo(y,p.mode,j),g.return=p,g):(g=a(g,y.children||[]),g.return=p,g)}function u(p,g,y,j,N){return g===null||g.tag!==7?(g=Mn(y,p.mode,j,N),g.return=p,g):(g=a(g,y),g.return=p,g)}function f(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ao(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bl:return y=ei(g.type,g.key,g.props,null,p.mode,y),y.ref=Xs(p,null,g),y.return=p,y;case Yn:return g=Fo(g,p.mode,y),g.return=p,g;case Lr:var j=g._init;return f(p,j(g._payload),y)}if(la(g)||Ks(g))return g=Mn(g,p.mode,y,null),g.return=p,g;Ll(p,g)}return null}function h(p,g,y,j){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(p,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return y.key===N?d(p,g,y,j):null;case Yn:return y.key===N?c(p,g,y,j):null;case Lr:return N=y._init,h(p,g,N(y._payload),j)}if(la(y)||Ks(y))return N!==null?null:u(p,g,y,j,null);Ll(p,y)}return null}function m(p,g,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(y)||null,o(g,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bl:return p=p.get(j.key===null?y:j.key)||null,d(g,p,j,N);case Yn:return p=p.get(j.key===null?y:j.key)||null,c(g,p,j,N);case Lr:var P=j._init;return m(p,g,y,P(j._payload),N)}if(la(j)||Ks(j))return p=p.get(y)||null,u(g,p,j,N,null);Ll(g,j)}return null}function x(p,g,y,j){for(var N=null,P=null,v=g,_=g=0,A=null;v!==null&&_<y.length;_++){v.index>_?(A=v,v=null):A=v.sibling;var O=h(p,v,y[_],j);if(O===null){v===null&&(v=A);break}e&&v&&O.alternate===null&&t(p,v),g=l(O,g,_),P===null?N=O:P.sibling=O,P=O,v=A}if(_===y.length)return r(p,v),Se&&xn(p,_),N;if(v===null){for(;_<y.length;_++)v=f(p,y[_],j),v!==null&&(g=l(v,g,_),P===null?N=v:P.sibling=v,P=v);return Se&&xn(p,_),N}for(v=n(p,v);_<y.length;_++)A=m(v,p,_,y[_],j),A!==null&&(e&&A.alternate!==null&&v.delete(A.key===null?_:A.key),g=l(A,g,_),P===null?N=A:P.sibling=A,P=A);return e&&v.forEach(function(B){return t(p,B)}),Se&&xn(p,_),N}function b(p,g,y,j){var N=Ks(y);if(typeof N!="function")throw Error(D(150));if(y=N.call(y),y==null)throw Error(D(151));for(var P=N=null,v=g,_=g=0,A=null,O=y.next();v!==null&&!O.done;_++,O=y.next()){v.index>_?(A=v,v=null):A=v.sibling;var B=h(p,v,O.value,j);if(B===null){v===null&&(v=A);break}e&&v&&B.alternate===null&&t(p,v),g=l(B,g,_),P===null?N=B:P.sibling=B,P=B,v=A}if(O.done)return r(p,v),Se&&xn(p,_),N;if(v===null){for(;!O.done;_++,O=y.next())O=f(p,O.value,j),O!==null&&(g=l(O,g,_),P===null?N=O:P.sibling=O,P=O);return Se&&xn(p,_),N}for(v=n(p,v);!O.done;_++,O=y.next())O=m(v,p,_,O.value,j),O!==null&&(e&&O.alternate!==null&&v.delete(O.key===null?_:O.key),g=l(O,g,_),P===null?N=O:P.sibling=O,P=O);return e&&v.forEach(function(se){return t(p,se)}),Se&&xn(p,_),N}function w(p,g,y,j){if(typeof y=="object"&&y!==null&&y.type===Jn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:e:{for(var N=y.key,P=g;P!==null;){if(P.key===N){if(N=y.type,N===Jn){if(P.tag===7){r(p,P.sibling),g=a(P,y.props.children),g.return=p,p=g;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Lr&&Rf(N)===P.type){r(p,P.sibling),g=a(P,y.props),g.ref=Xs(p,P,y),g.return=p,p=g;break e}r(p,P);break}else t(p,P);P=P.sibling}y.type===Jn?(g=Mn(y.props.children,p.mode,j,y.key),g.return=p,p=g):(j=ei(y.type,y.key,y.props,null,p.mode,j),j.ref=Xs(p,g,y),j.return=p,p=j)}return i(p);case Yn:e:{for(P=y.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(p,g.sibling),g=a(g,y.children||[]),g.return=p,p=g;break e}else{r(p,g);break}else t(p,g);g=g.sibling}g=Fo(y,p.mode,j),g.return=p,p=g}return i(p);case Lr:return P=y._init,w(p,g,P(y._payload),j)}if(la(y))return x(p,g,y,j);if(Ks(y))return b(p,g,y,j);Ll(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(p,g.sibling),g=a(g,y),g.return=p,p=g):(r(p,g),g=Ao(y,p.mode,j),g.return=p,p=g),i(p)):r(p,g)}return w}var _s=Wp(!0),Kp=Wp(!1),vi=an(null),wi=null,as=null,Fc=null;function zc(){Fc=as=wi=null}function $c(e){var t=vi.current;je(vi),e._currentValue=t}function Rd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ms(e,t){wi=e,Fc=as=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ht=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Fc!==e)if(e={context:e,memoizedValue:t,next:null},as===null){if(wi===null)throw Error(D(308));as=e,wi.dependencies={lanes:0,firstContext:e}}else as=as.next=e;return t}var bn=null;function Uc(e){bn===null?bn=[e]:bn.push(e)}function qp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Uc(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nr(e,n)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tr=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Nr(e,r)}return a=n.interleaved,a===null?(t.next=t,Uc(n)):(t.next=a.next,a.next=t),n.interleaved=t,Nr(e,r)}function ql(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ec(e,r)}}function Pf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ji(e,t,r,n){var a=e.updateQueue;Tr=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,c=d.next;d.next=null,i===null?l=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=d))}if(l!==null){var f=a.baseState;i=0,u=c=d=null,o=l;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,b=o;switch(h=t,m=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=Re({},f,h);break e;case 2:Tr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,d=f):u=u.next=m,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(d=f),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);zn|=i,e.lanes=i,e.memoizedState=f}}function Lf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(D(191,a));a.call(n)}}}var el={},ar=an(el),Oa=an(el),Ma=an(el);function vn(e){if(e===el)throw Error(D(174));return e}function Hc(e,t){switch(ve(Ma,t),ve(Oa,e),ve(ar,el),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:od(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=od(t,e)}je(ar),ve(ar,t)}function Os(){je(ar),je(Oa),je(Ma)}function Yp(e){vn(Ma.current);var t=vn(ar.current),r=od(t,e.type);t!==r&&(ve(Oa,e),ve(ar,r))}function Qc(e){Oa.current===e&&(je(ar),je(Oa))}var Ce=an(0);function ki(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var To=[];function Vc(){for(var e=0;e<To.length;e++)To[e]._workInProgressVersionPrimary=null;To.length=0}var Gl=Cr.ReactCurrentDispatcher,_o=Cr.ReactCurrentBatchConfig,Fn=0,Ee=null,Ae=null,Be=null,Ni=!1,ga=!1,Ia=0,Rv=0;function Je(){throw Error(D(321))}function Wc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function Kc(e,t,r,n,a,l){if(Fn=l,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gl.current=e===null||e.memoizedState===null?_v:Ov,e=r(n,a),ga){l=0;do{if(ga=!1,Ia=0,25<=l)throw Error(D(301));l+=1,Be=Ae=null,t.updateQueue=null,Gl.current=Mv,e=r(n,a)}while(ga)}if(Gl.current=Si,t=Ae!==null&&Ae.next!==null,Fn=0,Be=Ae=Ee=null,Ni=!1,t)throw Error(D(300));return e}function qc(){var e=Ia!==0;return Ia=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ee.memoizedState=Be=e:Be=Be.next=e,Be}function Dt(){if(Ae===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Be===null?Ee.memoizedState:Be.next;if(t!==null)Be=t,Ae=e;else{if(e===null)throw Error(D(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Be===null?Ee.memoizedState=Be=e:Be=Be.next=e}return Be}function Da(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=Dt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=Ae,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,d=null,c=l;do{var u=c.lane;if((Fn&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=f,i=n):d=d.next=f,Ee.lanes|=u,zn|=u}c=c.next}while(c!==null&&c!==l);d===null?i=n:d.next=o,Kt(n,t.memoizedState)||(ht=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,Ee.lanes|=l,zn|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mo(e){var t=Dt(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Kt(l,t.memoizedState)||(ht=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Jp(){}function Xp(e,t){var r=Ee,n=Dt(),a=t(),l=!Kt(n.memoizedState,a);if(l&&(n.memoizedState=a,ht=!0),n=n.queue,Gc(tx.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,Aa(9,ex.bind(null,r,n,a,t),void 0,null),He===null)throw Error(D(349));Fn&30||Zp(r,t,a)}return a}function Zp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ex(e,t,r,n){t.value=r,t.getSnapshot=n,rx(t)&&nx(e)}function tx(e,t,r){return r(function(){rx(t)&&nx(e)})}function rx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function nx(e){var t=Nr(e,1);t!==null&&Wt(t,e,1,-1)}function Tf(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:e},t.queue=e,e=e.dispatch=Tv.bind(null,Ee,e),[t.memoizedState,e]}function Aa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sx(){return Dt().memoizedState}function Yl(e,t,r,n){var a=Zt();Ee.flags|=e,a.memoizedState=Aa(1|t,r,void 0,n===void 0?null:n)}function Ui(e,t,r,n){var a=Dt();n=n===void 0?null:n;var l=void 0;if(Ae!==null){var i=Ae.memoizedState;if(l=i.destroy,n!==null&&Wc(n,i.deps)){a.memoizedState=Aa(t,r,l,n);return}}Ee.flags|=e,a.memoizedState=Aa(1|t,r,l,n)}function _f(e,t){return Yl(8390656,8,e,t)}function Gc(e,t){return Ui(2048,8,e,t)}function ax(e,t){return Ui(4,2,e,t)}function lx(e,t){return Ui(4,4,e,t)}function ix(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ox(e,t,r){return r=r!=null?r.concat([e]):null,Ui(4,4,ix.bind(null,t,e),r)}function Yc(){}function dx(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cx(e,t){var r=Dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ux(e,t,r){return Fn&21?(Kt(r,t)||(r=xp(),Ee.lanes|=r,zn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r)}function Pv(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=_o.transition;_o.transition={};try{e(!1),t()}finally{xe=r,_o.transition=n}}function fx(){return Dt().memoizedState}function Lv(e,t,r){var n=Zr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hx(e))mx(t,r);else if(r=qp(e,t,r,n),r!==null){var a=it();Wt(r,e,n,a),px(r,t,n)}}function Tv(e,t,r){var n=Zr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hx(e))mx(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Kt(o,i)){var d=t.interleaved;d===null?(a.next=a,Uc(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=qp(e,t,a,n),r!==null&&(a=it(),Wt(r,e,n,a),px(r,t,n))}}function hx(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function mx(e,t){ga=Ni=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function px(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ec(e,r)}}var Si={readContext:It,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},_v={readContext:It,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:_f,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yl(4194308,4,ix.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yl(4,2,e,t)},useMemo:function(e,t){var r=Zt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Lv.bind(null,Ee,e),[n.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Tf,useDebugValue:Yc,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Tf(!1),t=e[0];return e=Pv.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ee,a=Zt();if(Se){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),He===null)throw Error(D(349));Fn&30||Zp(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,_f(tx.bind(null,n,l,e),[e]),n.flags|=2048,Aa(9,ex.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Zt(),t=He.identifierPrefix;if(Se){var r=vr,n=br;r=(n&~(1<<32-Vt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ia++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Rv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ov={readContext:It,useCallback:dx,useContext:It,useEffect:Gc,useImperativeHandle:ox,useInsertionEffect:ax,useLayoutEffect:lx,useMemo:cx,useReducer:Oo,useRef:sx,useState:function(){return Oo(Da)},useDebugValue:Yc,useDeferredValue:function(e){var t=Dt();return ux(t,Ae.memoizedState,e)},useTransition:function(){var e=Oo(Da)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Xp,useId:fx,unstable_isNewReconciler:!1},Mv={readContext:It,useCallback:dx,useContext:It,useEffect:Gc,useImperativeHandle:ox,useInsertionEffect:ax,useLayoutEffect:lx,useMemo:cx,useReducer:Mo,useRef:sx,useState:function(){return Mo(Da)},useDebugValue:Yc,useDeferredValue:function(e){var t=Dt();return Ae===null?t.memoizedState=e:ux(t,Ae.memoizedState,e)},useTransition:function(){var e=Mo(Da)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Xp,useId:fx,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Pd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bi={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=it(),a=Zr(e),l=wr(n,a);l.payload=t,r!=null&&(l.callback=r),t=Jr(e,l,a),t!==null&&(Wt(t,e,a,n),ql(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=it(),a=Zr(e),l=wr(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Jr(e,l,a),t!==null&&(Wt(t,e,a,n),ql(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),n=Zr(e),a=wr(r,n);a.tag=2,t!=null&&(a.callback=t),t=Jr(e,a,n),t!==null&&(Wt(t,e,n,r),ql(t,e,n))}};function Of(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Pa(r,n)||!Pa(a,l):!0}function xx(e,t,r){var n=!1,a=nn,l=t.contextType;return typeof l=="object"&&l!==null?l=It(l):(a=pt(t)?Dn:rt.current,n=t.contextTypes,l=(n=n!=null)?Ls(e,a):nn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Mf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function Ld(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Bc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=It(l):(l=pt(t)?Dn:rt.current,a.context=Ls(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Pd(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bi.enqueueReplaceState(a,a.state,null),ji(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var r="",n=t;do r+=ob(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Io(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Td(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function gx(e,t,r){r=wr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ei||(Ei=!0,Ud=n),Td(e,t)},r}function yx(e,t,r){r=wr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Td(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Td(e,t),typeof n!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function If(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Iv;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Gv.bind(null,e,t,r),t.then(e,e))}function Df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Af(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wr(-1,1),t.tag=2,Jr(r,t,1))),r.lanes|=1),e)}var Dv=Cr.ReactCurrentOwner,ht=!1;function lt(e,t,r,n){t.child=e===null?Kp(t,null,r,n):_s(t,e.child,r,n)}function Ff(e,t,r,n,a){r=r.render;var l=t.ref;return ms(t,a),n=Kc(e,t,r,n,l,a),r=qc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sr(e,t,a)):(Se&&r&&Ic(t),t.flags|=1,lt(e,t,n,a),t.child)}function zf(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!su(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,bx(e,t,l,n,a)):(e=ei(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Pa,r(i,n)&&e.ref===t.ref)return Sr(e,t,a)}return t.flags|=1,e=en(l,n),e.ref=t.ref,e.return=t,t.child=e}function bx(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(Pa(l,n)&&e.ref===t.ref)if(ht=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(ht=!0);else return t.lanes=e.lanes,Sr(e,t,a)}return _d(e,t,r,n,a)}function vx(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(is,vt),vt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(is,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ve(is,vt),vt|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ve(is,vt),vt|=n;return lt(e,t,a,r),t.child}function wx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _d(e,t,r,n,a){var l=pt(r)?Dn:rt.current;return l=Ls(t,l),ms(t,a),r=Kc(e,t,r,n,l,a),n=qc(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sr(e,t,a)):(Se&&n&&Ic(t),t.flags|=1,lt(e,t,r,a),t.child)}function $f(e,t,r,n,a){if(pt(r)){var l=!0;gi(t)}else l=!1;if(ms(t,a),t.stateNode===null)Jl(e,t),xx(t,r,n),Ld(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=It(c):(c=pt(r)?Dn:rt.current,c=Ls(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||d!==c)&&Mf(t,i,n,c),Tr=!1;var h=t.memoizedState;i.state=h,ji(t,n,i,a),d=t.memoizedState,o!==n||h!==d||mt.current||Tr?(typeof u=="function"&&(Pd(t,r,u,n),d=t.memoizedState),(o=Tr||Of(t,r,o,n,h,d,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),i.props=n,i.state=d,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Gp(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:$t(t.type,o),i.props=c,f=t.pendingProps,h=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=It(d):(d=pt(r)?Dn:rt.current,d=Ls(t,d));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==d)&&Mf(t,i,n,d),Tr=!1,h=t.memoizedState,i.state=h,ji(t,n,i,a);var x=t.memoizedState;o!==f||h!==x||mt.current||Tr?(typeof m=="function"&&(Pd(t,r,m,n),x=t.memoizedState),(c=Tr||Of(t,r,c,n,h,x,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=d,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Od(e,t,r,n,l,a)}function Od(e,t,r,n,a,l){wx(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Sf(t,r,!1),Sr(e,t,l);n=t.stateNode,Dv.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=_s(t,e.child,null,l),t.child=_s(t,null,o,l)):lt(e,t,o,l),t.memoizedState=n.state,a&&Sf(t,r,!0),t.child}function jx(e){var t=e.stateNode;t.pendingContext?Nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nf(e,t.context,!1),Hc(e,t.containerInfo)}function Uf(e,t,r,n,a){return Ts(),Ac(a),t.flags|=256,lt(e,t,r,n),t.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Id(e){return{baseLanes:e,cachePool:null,transitions:null}}function kx(e,t,r){var n=t.pendingProps,a=Ce.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(Ce,a&1),e===null)return Ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Vi(i,n,0,null),e=Mn(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Id(r),t.memoizedState=Md,e):Jc(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Av(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=en(a,d),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=en(o,l):(l=Mn(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Id(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=Md,n}return l=e.child,e=l.sibling,n=en(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jc(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,r,n){return n!==null&&Ac(n),_s(t,e.child,null,r),e=Jc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Av(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=Io(Error(D(422))),Tl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Vi({mode:"visible",children:n.children},a,0,null),l=Mn(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&_s(t,e.child,null,i),t.child.memoizedState=Id(i),t.memoizedState=Md,l);if(!(t.mode&1))return Tl(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(D(419)),n=Io(l,n,void 0),Tl(e,t,i,n)}if(o=(i&e.childLanes)!==0,ht||o){if(n=He,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Nr(e,a),Wt(n,e,a,-1))}return nu(),n=Io(Error(D(421))),Tl(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Yv.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,jt=Yr(a.nextSibling),kt=t,Se=!0,Qt=null,e!==null&&(Tt[_t++]=br,Tt[_t++]=vr,Tt[_t++]=An,br=e.id,vr=e.overflow,An=t),t=Jc(t,n.children),t.flags|=4096,t)}function Bf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rd(e.return,t,r)}function Do(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function Nx(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(lt(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bf(e,r,t);else if(e.tag===19)Bf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ki(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Do(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ki(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Do(t,!0,r,null,l);break;case"together":Do(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=en(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=en(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fv(e,t,r){switch(t.tag){case 3:jx(t),Ts();break;case 5:Yp(t);break;case 1:pt(t.type)&&gi(t);break;case 4:Hc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ve(vi,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?kx(e,t,r):(ve(Ce,Ce.current&1),e=Sr(e,t,r),e!==null?e.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Nx(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,vx(e,t,r)}return Sr(e,t,r)}var Sx,Dd,Cx,Ex;Sx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dd=function(){};Cx=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,vn(ar.current);var l=null;switch(r){case"input":a=sd(e,a),n=sd(e,n),l=[];break;case"select":a=Re({},a,{value:void 0}),n=Re({},n,{value:void 0}),l=[];break;case"textarea":a=id(e,a),n=id(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pi)}dd(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ja.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in n){var d=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(l||(l=[]),l.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ja.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&we("scroll",e),l||o===d||(l=[])):(l=l||[]).push(c,d))}r&&(l=l||[]).push("style",r);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Ex=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function zv(e,t,r){var n=t.pendingProps;switch(Dc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return pt(t.type)&&xi(),Xe(t),null;case 3:return n=t.stateNode,Os(),je(mt),je(rt),Vc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Qd(Qt),Qt=null))),Dd(e,t),Xe(t),null;case 5:Qc(t);var a=vn(Ma.current);if(r=t.type,e!==null&&t.stateNode!=null)Cx(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return Xe(t),null}if(e=vn(ar.current),Pl(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[nr]=t,n[_a]=l,e=(t.mode&1)!==0,r){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(a=0;a<oa.length;a++)we(oa[a],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":Yu(n,l),we("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},we("invalid",n);break;case"textarea":Xu(n,l),we("invalid",n)}dd(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Rl(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Rl(n.textContent,o,e),a=["children",""+o]):ja.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&we("scroll",n)}switch(r){case"input":vl(n),Ju(n,l,!0);break;case"textarea":vl(n),Zu(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=pi)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[nr]=t,e[_a]=n,Sx(e,t,!1,!1),t.stateNode=e;e:{switch(i=cd(r,n),r){case"dialog":we("cancel",e),we("close",e),a=n;break;case"iframe":case"object":case"embed":we("load",e),a=n;break;case"video":case"audio":for(a=0;a<oa.length;a++)we(oa[a],e);a=n;break;case"source":we("error",e),a=n;break;case"img":case"image":case"link":we("error",e),we("load",e),a=n;break;case"details":we("toggle",e),a=n;break;case"input":Yu(e,n),a=sd(e,n),we("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Re({},n,{value:void 0}),we("invalid",e);break;case"textarea":Xu(e,n),a=id(e,n),we("invalid",e);break;default:a=n}dd(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?sp(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&rp(e,d)):l==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&ka(e,d):typeof d=="number"&&ka(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ja.hasOwnProperty(l)?d!=null&&l==="onScroll"&&we("scroll",e):d!=null&&wc(e,l,d,i))}switch(r){case"input":vl(e),Ju(e,n,!1);break;case"textarea":vl(e),Zu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rn(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?cs(e,!!n.multiple,l,!1):n.defaultValue!=null&&cs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Ex(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=vn(Ma.current),vn(ar.current),Pl(t)){if(n=t.stateNode,r=t.memoizedProps,n[nr]=t,(l=n.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Rl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rl(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nr]=t,t.stateNode=n}return Xe(t),null;case 13:if(je(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&jt!==null&&t.mode&1&&!(t.flags&128))Vp(),Ts(),t.flags|=98560,l=!1;else if(l=Pl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[nr]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),l=!1}else Qt!==null&&(Qd(Qt),Qt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Fe===0&&(Fe=3):nu())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Os(),Dd(e,t),e===null&&La(t.stateNode.containerInfo),Xe(t),null;case 10:return $c(t.type._context),Xe(t),null;case 17:return pt(t.type)&&xi(),Xe(t),null;case 19:if(je(Ce),l=t.memoizedState,l===null)return Xe(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Zs(l,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ki(e),i!==null){for(t.flags|=128,Zs(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Ce,Ce.current&1|2),t.child}e=e.sibling}l.tail!==null&&Oe()>Is&&(t.flags|=128,n=!0,Zs(l,!1),t.lanes=4194304)}else{if(!n)if(e=ki(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Se)return Xe(t),null}else 2*Oe()-l.renderingStartTime>Is&&r!==1073741824&&(t.flags|=128,n=!0,Zs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Oe(),t.sibling=null,r=Ce.current,ve(Ce,n?r&1|2:r&1),t):(Xe(t),null);case 22:case 23:return ru(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function $v(e,t){switch(Dc(t),t.tag){case 1:return pt(t.type)&&xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Os(),je(mt),je(rt),Vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qc(t),null;case 13:if(je(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ce),null;case 4:return Os(),null;case 10:return $c(t.type._context),null;case 22:case 23:return ru(),null;case 24:return null;default:return null}}var _l=!1,et=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,U=null;function ls(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(e,t,n)}else r.current=null}function Ad(e,t,r){try{r()}catch(n){Te(e,t,n)}}var Hf=!1;function Bv(e,t){if(vd=fi,e=_p(),Mc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,d=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==l||n!==0&&f.nodeType!==3||(d=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=i),h===l&&++u===n&&(d=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||d===-1?null:{start:o,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:e,selectionRange:r},fi=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,w=x.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:$t(t.type,b),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Te(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return x=Hf,Hf=!1,x}function ya(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Ad(t,r,l)}a=a.next}while(a!==n)}}function Hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Rx(e){var t=e.alternate;t!==null&&(e.alternate=null,Rx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[_a],delete t[Nd],delete t[Nv],delete t[Sv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Px(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Px(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pi));else if(n!==4&&(e=e.child,e!==null))for(zd(e,t,r),e=e.sibling;e!==null;)zd(e,t,r),e=e.sibling}function $d(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($d(e,t,r),e=e.sibling;e!==null;)$d(e,t,r),e=e.sibling}var Ve=null,Ht=!1;function Rr(e,t,r){for(r=r.child;r!==null;)Lx(e,t,r),r=r.sibling}function Lx(e,t,r){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Ii,r)}catch{}switch(r.tag){case 5:et||ls(r,t);case 6:var n=Ve,a=Ht;Ve=null,Rr(e,t,r),Ve=n,Ht=a,Ve!==null&&(Ht?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Ht?(e=Ve,r=r.stateNode,e.nodeType===8?Po(e.parentNode,r):e.nodeType===1&&Po(e,r),Ea(e)):Po(Ve,r.stateNode));break;case 4:n=Ve,a=Ht,Ve=r.stateNode.containerInfo,Ht=!0,Rr(e,t,r),Ve=n,Ht=a;break;case 0:case 11:case 14:case 15:if(!et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Ad(r,t,i),a=a.next}while(a!==n)}Rr(e,t,r);break;case 1:if(!et&&(ls(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Te(r,t,o)}Rr(e,t,r);break;case 21:Rr(e,t,r);break;case 22:r.mode&1?(et=(n=et)||r.memoizedState!==null,Rr(e,t,r),et=n):Rr(e,t,r);break;default:Rr(e,t,r)}}function Vf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Uv),t.forEach(function(n){var a=Jv.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Ht=!1;break e;case 3:Ve=o.stateNode.containerInfo,Ht=!0;break e;case 4:Ve=o.stateNode.containerInfo,Ht=!0;break e}o=o.return}if(Ve===null)throw Error(D(160));Lx(l,i,a),Ve=null,Ht=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){Te(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tx(t,e),t=t.sibling}function Tx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Jt(e),n&4){try{ya(3,e,e.return),Hi(3,e)}catch(b){Te(e,e.return,b)}try{ya(5,e,e.return)}catch(b){Te(e,e.return,b)}}break;case 1:zt(t,e),Jt(e),n&512&&r!==null&&ls(r,r.return);break;case 5:if(zt(t,e),Jt(e),n&512&&r!==null&&ls(r,r.return),e.flags&32){var a=e.stateNode;try{ka(a,"")}catch(b){Te(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Zm(a,l),cd(o,i);var c=cd(o,l);for(i=0;i<d.length;i+=2){var u=d[i],f=d[i+1];u==="style"?sp(a,f):u==="dangerouslySetInnerHTML"?rp(a,f):u==="children"?ka(a,f):wc(a,u,f,c)}switch(o){case"input":ad(a,l);break;case"textarea":ep(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?cs(a,!!l.multiple,m,!1):h!==!!l.multiple&&(l.defaultValue!=null?cs(a,!!l.multiple,l.defaultValue,!0):cs(a,!!l.multiple,l.multiple?[]:"",!1))}a[_a]=l}catch(b){Te(e,e.return,b)}}break;case 6:if(zt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(D(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(b){Te(e,e.return,b)}}break;case 3:if(zt(t,e),Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(b){Te(e,e.return,b)}break;case 4:zt(t,e),Jt(e);break;case 13:zt(t,e),Jt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(eu=Oe())),n&4&&Vf(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(et=(c=et)||u,zt(t,e),et=c):zt(t,e),Jt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(U=e,u=e.child;u!==null;){for(f=U=u;U!==null;){switch(h=U,m=h.child,h.tag){case 0:case 11:case 14:case 15:ya(4,h,h.return);break;case 1:ls(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Te(n,r,b)}}break;case 5:ls(h,h.return);break;case 22:if(h.memoizedState!==null){Kf(f);continue}}m!==null?(m.return=h,U=m):Kf(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=f.stateNode,d=f.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=np("display",i))}catch(b){Te(e,e.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Te(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zt(t,e),Jt(e),n&4&&Vf(e);break;case 21:break;default:zt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Px(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ka(a,""),n.flags&=-33);var l=Qf(e);$d(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Qf(e);zd(e,o,i);break;default:throw Error(D(161))}}catch(d){Te(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hv(e,t,r){U=e,_x(e)}function _x(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var a=U,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||_l;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||et;o=_l;var c=et;if(_l=i,(et=d)&&!c)for(U=a;U!==null;)i=U,d=i.child,i.tag===22&&i.memoizedState!==null?qf(a):d!==null?(d.return=i,U=d):qf(a);for(;l!==null;)U=l,_x(l),l=l.sibling;U=a,_l=o,et=c}Wf(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,U=l):Wf(e)}}function Wf(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Hi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!et)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:$t(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Lf(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lf(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ea(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}et||t.flags&512&&Fd(t)}catch(h){Te(t,t.return,h)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Kf(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function qf(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hi(4,t)}catch(d){Te(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){Te(t,a,d)}}var l=t.return;try{Fd(t)}catch(d){Te(t,l,d)}break;case 5:var i=t.return;try{Fd(t)}catch(d){Te(t,i,d)}}}catch(d){Te(t,t.return,d)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var Qv=Math.ceil,Ci=Cr.ReactCurrentDispatcher,Xc=Cr.ReactCurrentOwner,Mt=Cr.ReactCurrentBatchConfig,he=0,He=null,De=null,Ke=0,vt=0,is=an(0),Fe=0,Fa=null,zn=0,Qi=0,Zc=0,ba=null,ft=null,eu=0,Is=1/0,mr=null,Ei=!1,Ud=null,Xr=null,Ol=!1,Vr=null,Ri=0,va=0,Bd=null,Xl=-1,Zl=0;function it(){return he&6?Oe():Xl!==-1?Xl:Xl=Oe()}function Zr(e){return e.mode&1?he&2&&Ke!==0?Ke&-Ke:Ev.transition!==null?(Zl===0&&(Zl=xp()),Zl):(e=xe,e!==0||(e=window.event,e=e===void 0?16:kp(e.type)),e):1}function Wt(e,t,r,n){if(50<va)throw va=0,Bd=null,Error(D(185));Ja(e,r,n),(!(he&2)||e!==He)&&(e===He&&(!(he&2)&&(Qi|=r),Fe===4&&Or(e,Ke)),xt(e,n),r===1&&he===0&&!(t.mode&1)&&(Is=Oe()+500,$i&&ln()))}function xt(e,t){var r=e.callbackNode;Eb(e,t);var n=ui(e,e===He?Ke:0);if(n===0)r!==null&&rf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rf(r),t===1)e.tag===0?Cv(Gf.bind(null,e)):Bp(Gf.bind(null,e)),jv(function(){!(he&6)&&ln()}),r=null;else{switch(gp(n)){case 1:r=Cc;break;case 4:r=mp;break;case 16:r=ci;break;case 536870912:r=pp;break;default:r=ci}r=$x(r,Ox.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ox(e,t){if(Xl=-1,Zl=0,he&6)throw Error(D(327));var r=e.callbackNode;if(ps()&&e.callbackNode!==r)return null;var n=ui(e,e===He?Ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Pi(e,n);else{t=n;var a=he;he|=2;var l=Ix();(He!==e||Ke!==t)&&(mr=null,Is=Oe()+500,On(e,t));do try{Kv();break}catch(o){Mx(e,o)}while(!0);zc(),Ci.current=l,he=a,De!==null?t=0:(He=null,Ke=0,t=Fe)}if(t!==0){if(t===2&&(a=pd(e),a!==0&&(n=a,t=Hd(e,a))),t===1)throw r=Fa,On(e,0),Or(e,n),xt(e,Oe()),r;if(t===6)Or(e,n);else{if(a=e.current.alternate,!(n&30)&&!Vv(a)&&(t=Pi(e,n),t===2&&(l=pd(e),l!==0&&(n=l,t=Hd(e,l))),t===1))throw r=Fa,On(e,0),Or(e,n),xt(e,Oe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:gn(e,ft,mr);break;case 3:if(Or(e,n),(n&130023424)===n&&(t=eu+500-Oe(),10<t)){if(ui(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){it(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kd(gn.bind(null,e,ft,mr),t);break}gn(e,ft,mr);break;case 4:if(Or(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Vt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=Oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qv(n/1960))-n,10<n){e.timeoutHandle=kd(gn.bind(null,e,ft,mr),n);break}gn(e,ft,mr);break;case 5:gn(e,ft,mr);break;default:throw Error(D(329))}}}return xt(e,Oe()),e.callbackNode===r?Ox.bind(null,e):null}function Hd(e,t){var r=ba;return e.current.memoizedState.isDehydrated&&(On(e,t).flags|=256),e=Pi(e,t),e!==2&&(t=ft,ft=r,t!==null&&Qd(t)),e}function Qd(e){ft===null?ft=e:ft.push.apply(ft,e)}function Vv(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Kt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~Zc,t&=~Qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vt(t),n=1<<r;e[r]=-1,t&=~n}}function Gf(e){if(he&6)throw Error(D(327));ps();var t=ui(e,0);if(!(t&1))return xt(e,Oe()),null;var r=Pi(e,t);if(e.tag!==0&&r===2){var n=pd(e);n!==0&&(t=n,r=Hd(e,n))}if(r===1)throw r=Fa,On(e,0),Or(e,t),xt(e,Oe()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,ft,mr),xt(e,Oe()),null}function tu(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Is=Oe()+500,$i&&ln())}}function $n(e){Vr!==null&&Vr.tag===0&&!(he&6)&&ps();var t=he;he|=1;var r=Mt.transition,n=xe;try{if(Mt.transition=null,xe=1,e)return e()}finally{xe=n,Mt.transition=r,he=t,!(he&6)&&ln()}}function ru(){vt=is.current,je(is)}function On(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wv(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(Dc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xi();break;case 3:Os(),je(mt),je(rt),Vc();break;case 5:Qc(n);break;case 4:Os();break;case 13:je(Ce);break;case 19:je(Ce);break;case 10:$c(n.type._context);break;case 22:case 23:ru()}r=r.return}if(He=e,De=e=en(e.current,null),Ke=vt=t,Fe=0,Fa=null,Zc=Qi=zn=0,ft=ba=null,bn!==null){for(t=0;t<bn.length;t++)if(r=bn[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}bn=null}return e}function Mx(e,t){do{var r=De;try{if(zc(),Gl.current=Si,Ni){for(var n=Ee.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ni=!1}if(Fn=0,Be=Ae=Ee=null,ga=!1,Ia=0,Xc.current=null,r===null||r.return===null){Fe=1,Fa=t,De=null;break}e:{var l=e,i=r.return,o=r,d=t;if(t=Ke,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Df(i);if(m!==null){m.flags&=-257,Af(m,i,o,l,t),m.mode&1&&If(l,c,t),t=m,d=c;var x=t.updateQueue;if(x===null){var b=new Set;b.add(d),t.updateQueue=b}else x.add(d);break e}else{if(!(t&1)){If(l,c,t),nu();break e}d=Error(D(426))}}else if(Se&&o.mode&1){var w=Df(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Af(w,i,o,l,t),Ac(Ms(d,o));break e}}l=d=Ms(d,o),Fe!==4&&(Fe=2),ba===null?ba=[l]:ba.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=gx(l,d,t);Pf(l,p);break e;case 1:o=d;var g=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xr===null||!Xr.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=yx(l,o,t);Pf(l,j);break e}}l=l.return}while(l!==null)}Ax(r)}catch(N){t=N,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Ix(){var e=Ci.current;return Ci.current=Si,e===null?Si:e}function nu(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(zn&268435455)&&!(Qi&268435455)||Or(He,Ke)}function Pi(e,t){var r=he;he|=2;var n=Ix();(He!==e||Ke!==t)&&(mr=null,On(e,t));do try{Wv();break}catch(a){Mx(e,a)}while(!0);if(zc(),he=r,Ci.current=n,De!==null)throw Error(D(261));return He=null,Ke=0,Fe}function Wv(){for(;De!==null;)Dx(De)}function Kv(){for(;De!==null&&!yb();)Dx(De)}function Dx(e){var t=zx(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Ax(e):De=t,Xc.current=null}function Ax(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$v(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,De=null;return}}else if(r=zv(r,t,vt),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Fe===0&&(Fe=5)}function gn(e,t,r){var n=xe,a=Mt.transition;try{Mt.transition=null,xe=1,qv(e,t,r,n)}finally{Mt.transition=a,xe=n}return null}function qv(e,t,r,n){do ps();while(Vr!==null);if(he&6)throw Error(D(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Rb(e,l),e===He&&(De=He=null,Ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ol||(Ol=!0,$x(ci,function(){return ps(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Mt.transition,Mt.transition=null;var i=xe;xe=1;var o=he;he|=4,Xc.current=null,Bv(e,r),Tx(r,e),mv(wd),fi=!!vd,wd=vd=null,e.current=r,Hv(r),bb(),he=o,xe=i,Mt.transition=l}else e.current=r;if(Ol&&(Ol=!1,Vr=e,Ri=a),l=e.pendingLanes,l===0&&(Xr=null),jb(r.stateNode),xt(e,Oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ei)throw Ei=!1,e=Ud,Ud=null,e;return Ri&1&&e.tag!==0&&ps(),l=e.pendingLanes,l&1?e===Bd?va++:(va=0,Bd=e):va=0,ln(),null}function ps(){if(Vr!==null){var e=gp(Ri),t=Mt.transition,r=xe;try{if(Mt.transition=null,xe=16>e?16:e,Vr===null)var n=!1;else{if(e=Vr,Vr=null,Ri=0,he&6)throw Error(D(331));var a=he;for(he|=4,U=e.current;U!==null;){var l=U,i=l.child;if(U.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:ya(8,u,l)}var f=u.child;if(f!==null)f.return=u,U=f;else for(;U!==null;){u=U;var h=u.sibling,m=u.return;if(Rx(u),u===c){U=null;break}if(h!==null){h.return=m,U=h;break}U=m}}}var x=l.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}U=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,U=i;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ya(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,U=p;break e}U=l.return}}var g=e.current;for(U=g;U!==null;){i=U;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,U=y;else e:for(i=g;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hi(9,o)}}catch(N){Te(o,o.return,N)}if(o===i){U=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,U=j;break e}U=o.return}}if(he=a,ln(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Ii,e)}catch{}n=!0}return n}finally{xe=r,Mt.transition=t}}return!1}function Yf(e,t,r){t=Ms(r,t),t=gx(e,t,1),e=Jr(e,t,1),t=it(),e!==null&&(Ja(e,1,t),xt(e,t))}function Te(e,t,r){if(e.tag===3)Yf(e,e,r);else for(;t!==null;){if(t.tag===3){Yf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xr===null||!Xr.has(n))){e=Ms(r,e),e=yx(t,e,1),t=Jr(t,e,1),e=it(),t!==null&&(Ja(t,1,e),xt(t,e));break}}t=t.return}}function Gv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(Ke&r)===r&&(Fe===4||Fe===3&&(Ke&130023424)===Ke&&500>Oe()-eu?On(e,0):Zc|=r),xt(e,t)}function Fx(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var r=it();e=Nr(e,t),e!==null&&(Ja(e,t,r),xt(e,r))}function Yv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fx(e,r)}function Jv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),Fx(e,r)}var zx;zx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ht=!1,Fv(e,t,r);ht=!!(e.flags&131072)}else ht=!1,Se&&t.flags&1048576&&Hp(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jl(e,t),e=t.pendingProps;var a=Ls(t,rt.current);ms(t,r),a=Kc(null,t,n,e,a,r);var l=qc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(n)?(l=!0,gi(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Bc(t),a.updater=Bi,t.stateNode=a,a._reactInternals=t,Ld(t,n,e,r),t=Od(null,t,n,!0,l,r)):(t.tag=0,Se&&l&&Ic(t),lt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Zv(n),e=$t(n,e),a){case 0:t=_d(null,t,n,e,r);break e;case 1:t=$f(null,t,n,e,r);break e;case 11:t=Ff(null,t,n,e,r);break e;case 14:t=zf(null,t,n,$t(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$t(n,a),_d(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$t(n,a),$f(e,t,n,a,r);case 3:e:{if(jx(t),e===null)throw Error(D(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Gp(e,t),ji(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Ms(Error(D(423)),t),t=Uf(e,t,n,r,a);break e}else if(n!==a){a=Ms(Error(D(424)),t),t=Uf(e,t,n,r,a);break e}else for(jt=Yr(t.stateNode.containerInfo.firstChild),kt=t,Se=!0,Qt=null,r=Kp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ts(),n===a){t=Sr(e,t,r);break e}lt(e,t,n,r)}t=t.child}return t;case 5:return Yp(t),e===null&&Ed(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,jd(n,a)?i=null:l!==null&&jd(n,l)&&(t.flags|=32),wx(e,t),lt(e,t,i,r),t.child;case 6:return e===null&&Ed(t),null;case 13:return kx(e,t,r);case 4:return Hc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_s(t,null,n,r):lt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$t(n,a),Ff(e,t,n,a,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ve(vi,n._currentValue),n._currentValue=i,l!==null)if(Kt(l.value,i)){if(l.children===a.children&&!mt.current){t=Sr(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===n){if(l.tag===1){d=wr(-1,r&-r),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),Rd(l.return,r,t),o.lanes|=r;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(D(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Rd(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}lt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ms(t,r),a=It(a),n=n(a),t.flags|=1,lt(e,t,n,r),t.child;case 14:return n=t.type,a=$t(n,t.pendingProps),a=$t(n.type,a),zf(e,t,n,a,r);case 15:return bx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$t(n,a),Jl(e,t),t.tag=1,pt(n)?(e=!0,gi(t)):e=!1,ms(t,r),xx(t,n,a),Ld(t,n,a,r),Od(null,t,n,!0,e,r);case 19:return Nx(e,t,r);case 22:return vx(e,t,r)}throw Error(D(156,t.tag))};function $x(e,t){return hp(e,t)}function Xv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,r,n){return new Xv(e,t,r,n)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zv(e){if(typeof e=="function")return su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kc)return 11;if(e===Nc)return 14}return 2}function en(e,t){var r=e.alternate;return r===null?(r=Ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ei(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")su(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Jn:return Mn(r.children,a,l,t);case jc:i=8,a|=8;break;case ed:return e=Ot(12,r,t,a|2),e.elementType=ed,e.lanes=l,e;case td:return e=Ot(13,r,t,a),e.elementType=td,e.lanes=l,e;case rd:return e=Ot(19,r,t,a),e.elementType=rd,e.lanes=l,e;case Ym:return Vi(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qm:i=10;break e;case Gm:i=9;break e;case kc:i=11;break e;case Nc:i=14;break e;case Lr:i=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Ot(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Mn(e,t,r,n){return e=Ot(7,e,n,t),e.lanes=r,e}function Vi(e,t,r,n){return e=Ot(22,e,n,t),e.elementType=Ym,e.lanes=r,e.stateNode={isHidden:!1},e}function Ao(e,t,r){return e=Ot(6,e,null,t),e.lanes=r,e}function Fo(e,t,r){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e0(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function au(e,t,r,n,a,l,i,o,d){return e=new e0(e,t,r,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ot(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(l),e}function t0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ux(e){if(!e)return nn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(pt(r))return Up(e,r,t)}return t}function Bx(e,t,r,n,a,l,i,o,d){return e=au(r,n,!0,e,a,l,i,o,d),e.context=Ux(null),r=e.current,n=it(),a=Zr(r),l=wr(n,a),l.callback=t??null,Jr(r,l,a),e.current.lanes=a,Ja(e,a,n),xt(e,n),e}function Wi(e,t,r,n){var a=t.current,l=it(),i=Zr(a);return r=Ux(r),t.context===null?t.context=r:t.pendingContext=r,t=wr(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Jr(a,t,i),e!==null&&(Wt(e,a,i,l),ql(e,a,i)),i}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lu(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function r0(){return null}var Hx=typeof reportError=="function"?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}Ki.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Wi(e,t,null,null)};Ki.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){Wi(null,e,null,null)}),t[kr]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=vp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_r.length&&t!==0&&t<_r[r].priority;r++);_r.splice(r,0,e),r===0&&jp(e)}};function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function n0(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var c=Li(i);l.call(c)}}var i=Bx(t,n,e,0,null,!1,!1,"",Xf);return e._reactRootContainer=i,e[kr]=i.current,La(e.nodeType===8?e.parentNode:e),$n(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Li(d);o.call(c)}}var d=au(e,0,!1,null,null,!1,!1,"",Xf);return e._reactRootContainer=d,e[kr]=d.current,La(e.nodeType===8?e.parentNode:e),$n(function(){Wi(t,d,r,n)}),d}function Gi(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=Li(i);o.call(d)}}Wi(t,i,e,a)}else i=n0(r,t,e,a,n);return Li(i)}yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ia(t.pendingLanes);r!==0&&(Ec(t,r|1),xt(t,Oe()),!(he&6)&&(Is=Oe()+500,ln()))}break;case 13:$n(function(){var n=Nr(e,1);if(n!==null){var a=it();Wt(n,e,1,a)}}),lu(e,1)}};Rc=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=it();Wt(t,e,134217728,r)}lu(e,134217728)}};bp=function(e){if(e.tag===13){var t=Zr(e),r=Nr(e,t);if(r!==null){var n=it();Wt(r,e,t,n)}lu(e,t)}};vp=function(){return xe};wp=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};fd=function(e,t,r){switch(t){case"input":if(ad(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=zi(n);if(!a)throw Error(D(90));Xm(n),ad(n,a)}}}break;case"textarea":ep(e,r);break;case"select":t=r.value,t!=null&&cs(e,!!r.multiple,t,!1)}};ip=tu;op=$n;var s0={usingClientEntryPoint:!1,Events:[Za,ts,zi,ap,lp,tu]},ea={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a0={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=up(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||r0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Ii=Ml.inject(a0),sr=Ml}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;St.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(t))throw Error(D(200));return t0(e,t,null,r)};St.createRoot=function(e,t){if(!ou(e))throw Error(D(299));var r=!1,n="",a=Hx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=au(e,1,!1,null,null,r,!1,n,a),e[kr]=t.current,La(e.nodeType===8?e.parentNode:e),new iu(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=up(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return $n(e)};St.hydrate=function(e,t,r){if(!qi(t))throw Error(D(200));return Gi(null,e,t,!0,r)};St.hydrateRoot=function(e,t,r){if(!ou(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=Hx;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Bx(t,null,e,1,r??null,a,!1,l,i),e[kr]=t.current,La(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ki(t)};St.render=function(e,t,r){if(!qi(t))throw Error(D(200));return Gi(null,e,t,!1,r)};St.unmountComponentAtNode=function(e){if(!qi(e))throw Error(D(40));return e._reactRootContainer?($n(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};St.unstable_batchedUpdates=tu;St.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qi(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Gi(e,t,r,!1,n)};St.version="18.3.1-next-f1338f8080-20240426";function Qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qx)}catch(e){console.error(e)}}Qx(),Qm.exports=St;var Vx=Qm.exports,Zf=Vx;Xo.createRoot=Zf.createRoot,Xo.hydrateRoot=Zf.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wx=e=>{throw TypeError(e)},l0=(e,t,r)=>t.has(e)||Wx("Cannot "+r),zo=(e,t,r)=>(l0(e,t,"read from private field"),r?r.call(e):t.get(e)),i0=(e,t,r)=>t.has(e)?Wx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),eh="popstate";function o0(e={}){function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return za("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ir(a)}return c0(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _e(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d0(){return Math.random().toString(36).substring(2,10)}function th(e,t){return{usr:e.state,key:e.key,idx:t}}function za(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?on(t):t,state:r,key:t&&t.key||n||d0()}}function ir({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function on(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function c0(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o="POP",d=null,c=u();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function f(){o="POP";let w=u(),p=w==null?null:w-c;c=w,d&&d({action:o,location:b.location,delta:p})}function h(w,p){o="PUSH";let g=za(b.location,w,p);c=u()+1;let y=th(g,c),j=b.createHref(g);try{i.pushState(y,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}l&&d&&d({action:o,location:b.location,delta:1})}function m(w,p){o="REPLACE";let g=za(b.location,w,p);c=u();let y=th(g,c),j=b.createHref(g);i.replaceState(y,"",j),l&&d&&d({action:o,location:b.location,delta:0})}function x(w){return Kx(w)}let b={get action(){return o},get location(){return e(a,i)},listen(w){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(eh,f),d=w,()=>{a.removeEventListener(eh,f),d=null}},createHref(w){return t(a,w)},createURL:x,encodeLocation(w){let p=x(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(w){return i.go(w)}};return b}function Kx(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),le(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ir(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var da,rh=class{constructor(e){if(i0(this,da,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(zo(this,da).has(e))return zo(this,da).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){zo(this,da).set(e,t)}};da=new WeakMap;var u0=new Set(["lazy","caseSensitive","path","id","index","children"]);function f0(e){return u0.has(e)}var h0=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function m0(e){return h0.has(e)}function p0(e){return e.index===!0}function $a(e,t,r=[],n={},a=!1){return e.map((l,i)=>{let o=[...r,String(i)],d=typeof l.id=="string"?l.id:o.join("-");if(le(l.index!==!0||!l.children,"Cannot specify children on an index route"),le(a||!n[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),p0(l)){let c={...l,id:d};return n[d]=nh(c,t(c)),c}else{let c={...l,id:d,children:void 0};return n[d]=nh(c,t(c)),l.children&&(c.children=$a(l.children,t,o,n,a)),c}})}function nh(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Mr(e,t,r="/"){return ca(e,t,r,!1)}function ca(e,t,r,n){let a=typeof t=="string"?on(t):t,l=At(a.pathname||"/",r);if(l==null)return null;let i=Gx(e);x0(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let c=E0(l);o=S0(i[d],c,n)}return o}function qx(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Gx(e,t=[],r=[],n="",a=!1){let l=(i,o,d=a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&d)return;le(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let f=lr([n,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(le(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Gx(i.children,t,h,f,d)),!(i.path==null&&!i.index)&&t.push({path:f,score:k0(f,i.index),routesMeta:h})};return e.forEach((i,o)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))l(i,o);else for(let c of Yx(i.path))l(i,o,!0,c)}),t}function Yx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Yx(n.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function x0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:N0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var g0=/^:[\w-]+$/,y0=3,b0=2,v0=1,w0=10,j0=-2,sh=e=>e==="*";function k0(e,t){let r=e.split("/"),n=r.length;return r.some(sh)&&(n+=j0),t&&(n+=b0),r.filter(a=>!sh(a)).reduce((a,l)=>a+(g0.test(l)?y0:l===""?v0:w0),n)}function N0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function S0(e,t,r=!1){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let d=n[o],c=o===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",f=Ti({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),h=d.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Ti({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:lr([l,f.pathname]),pathnameBase:L0(lr([l,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(l=lr([l,f.pathnameBase]))}return i}function Ti(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=C0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let x=o[h]||"";i=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:i,pattern:e}}function C0(e,t=!1,r=!0){_e(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(n.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function E0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _e(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function At(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function R0({basename:e,pathname:t}){return t==="/"?e:lr([e,t])}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=e=>Jx.test(e);function P0(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?on(e):e,l;if(r)if(Yi(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),_e(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?l=ah(r.substring(1),"/"):l=ah(r,t)}else l=t;return{pathname:l,search:T0(n),hash:_0(a)}}function ah(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $o(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function du(e){let t=Xx(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function cu(e,t,r,n=!1){let a;typeof e=="string"?a=on(e):(a={...e},le(!a.pathname||!a.pathname.includes("?"),$o("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),$o("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),$o("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let d=P0(a,o),c=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),L0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,tl=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ua(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function rl(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eg(e,t){let r=e;if(typeof r!="string"||!Jx.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(Zx)try{let l=new URL(window.location.href),i=r.startsWith("//")?new URL(l.protocol+r):new URL(r),o=At(i.pathname,t);i.origin===l.origin&&o!=null?r=o+i.search+i.hash:a=!0}catch{_e(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}var Wr=Symbol("Uninstrumented");function O0(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(l){let i=Object.keys(r);for(let o of i)l[o]&&r[o].push(l[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=os(r.lazy,t.lazy,()=>{});a&&(n.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(l=>{let i=a[l],o=r[`lazy.${l}`];if(typeof i=="function"&&o.length>0){let d=os(o,i,()=>{});d&&(n.lazy=Object.assign(n.lazy||{},{[l]:d}))}})}return["loader","action"].forEach(a=>{let l=t[a];if(typeof l=="function"&&r[a].length>0){let i=l[Wr]??l,o=os(r[a],i,(...d)=>lh(d[0]));o&&(a==="loader"&&i.hydrate===!0&&(o.hydrate=!0),o[Wr]=i,n[a]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(a=>{let l=a[Wr]??a,i=os(r.middleware,l,(...o)=>lh(o[0]));return i?(i[Wr]=l,i):a})),n}function M0(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(a){let l=Object.keys(a);for(let i of l)a[i]&&r[i].push(a[i])}})),r.navigate.length>0){let n=e.navigate[Wr]??e.navigate,a=os(r.navigate,n,(...l)=>{let[i,o]=l;return{to:typeof i=="number"||typeof i=="string"?i:i?ir(i):".",...ih(e,o??{})}});a&&(a[Wr]=n,e.navigate=a)}if(r.fetch.length>0){let n=e.fetch[Wr]??e.fetch,a=os(r.fetch,n,(...l)=>{let[i,,o,d]=l;return{href:o??".",fetcherKey:i,...ih(e,d??{})}});a&&(a[Wr]=n,e.fetch=a)}return e}function os(e,t,r){return e.length===0?null:async(...n)=>{let a=await tg(e,r(...n),()=>t(...n),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function tg(e,t,r,n){let a=e[n],l;if(a){let i,o=async()=>(i?console.error("You cannot call instrumented handlers more than once"):i=tg(e,t,r,n-1),l=await i,le(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await a(o,t)}catch(d){console.error("An instrumentation function threw an error:",d)}i||await o(),await i}else try{l={type:"success",value:await r()}}catch(i){l={type:"error",value:i}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function lh(e){let{request:t,context:r,params:n,unstable_pattern:a}=e;return{request:I0(t),params:{...n},unstable_pattern:a,context:D0(r)}}function ih(e,t){return{currentUrl:ir(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function I0(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function D0(e){if(F0(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var A0=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function F0(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===A0}var rg=["POST","PUT","PATCH","DELETE"],z0=new Set(rg),$0=["GET",...rg],U0=new Set($0),ng=new Set([301,302,303,307,308]),B0=new Set([307,308]),Uo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},H0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ta={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Q0=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),sg="remix-router-transitions",ag=Symbol("ResetLoaderData");function V0(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";le(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Q0,l=a;if(e.unstable_instrumentations){let k=e.unstable_instrumentations;l=R=>({...a(R),...O0(k.map(L=>L.route).filter(Boolean),R)})}let i={},o=$a(e.routes,l,void 0,i),d,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let u=e.dataStrategy||Y0,f={...e.future},h=null,m=new Set,x=null,b=null,w=null,p=e.hydrationData!=null,g=Mr(o,e.history.location,c),y=!1,j=null,N;if(g==null&&!e.patchRoutesOnNavigation){let k=Pt(404,{pathname:e.history.location.pathname}),{matches:R,route:L}=Il(o);N=!0,g=R,j={[L.id]:k}}else if(g&&!e.hydrationData&&fl(g,o,e.history.location.pathname).active&&(g=null),g)if(g.some(k=>k.route.lazy))N=!1;else if(!g.some(k=>uu(k.route)))N=!0;else{let k=e.hydrationData?e.hydrationData.loaderData:null,R=e.hydrationData?e.hydrationData.errors:null;if(R){let L=g.findIndex(I=>R[I.route.id]!==void 0);N=g.slice(0,L+1).every(I=>!Wd(I.route,k,R))}else N=g.every(L=>!Wd(L.route,k,R))}else{N=!1,g=[];let k=fl(null,o,e.history.location.pathname);k.active&&k.matches&&(y=!0,g=k.matches)}let P,v={historyAction:e.history.action,location:e.history.location,matches:g,initialized:N,navigation:Uo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},_="POP",A=null,O=!1,B,se=!1,ue=new Map,z=null,ge=!1,Z=!1,me=new Set,M=new Map,V=0,W=-1,ee=new Map,ae=new Set,Ie=new Map,ke=new Map,Ne=new Set,ze=new Map,or,cn=null;function my(){if(h=e.history.listen(({action:k,location:R,delta:L})=>{if(or){or(),or=void 0;return}_e(ze.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let I=Fu({currentLocation:v.location,nextLocation:R,historyAction:k});if(I&&L!=null){let F=new Promise(q=>{or=q});e.history.go(L*-1),ul(I,{state:"blocked",location:R,proceed(){ul(I,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),F.then(()=>e.history.go(L))},reset(){let q=new Map(v.blockers);q.set(I,ta),Ge({blockers:q})}}),A==null||A.resolve(),A=null;return}return un(k,R)}),r){mw(t,ue);let k=()=>pw(t,ue);t.addEventListener("pagehide",k),z=()=>t.removeEventListener("pagehide",k)}return v.initialized||un("POP",v.location,{initialHydration:!0}),P}function py(){h&&h(),z&&z(),m.clear(),B&&B.abort(),v.fetchers.forEach((k,R)=>oo(R)),v.blockers.forEach((k,R)=>Au(R))}function xy(k){return m.add(k),()=>m.delete(k)}function Ge(k,R={}){k.matches&&(k.matches=k.matches.map(F=>{let q=i[F.route.id],J=F.route;return J.element!==q.element||J.errorElement!==q.errorElement||J.hydrateFallbackElement!==q.hydrateFallbackElement?{...F,route:q}:F})),v={...v,...k};let L=[],I=[];v.fetchers.forEach((F,q)=>{F.state==="idle"&&(Ne.has(q)?L.push(q):I.push(q))}),Ne.forEach(F=>{!v.fetchers.has(F)&&!M.has(F)&&L.push(F)}),[...m].forEach(F=>F(v,{deletedFetchers:L,newErrors:k.errors??null,viewTransitionOpts:R.viewTransitionOpts,flushSync:R.flushSync===!0})),L.forEach(F=>oo(F)),I.forEach(F=>v.fetchers.delete(F))}function Wn(k,R,{flushSync:L}={}){var te,G;let I=v.actionData!=null&&v.navigation.formMethod!=null&&Ze(v.navigation.formMethod)&&v.navigation.state==="loading"&&((te=k.state)==null?void 0:te._isRedirect)!==!0,F;R.actionData?Object.keys(R.actionData).length>0?F=R.actionData:F=null:I?F=v.actionData:F=null;let q=R.loaderData?gh(v.loaderData,R.loaderData,R.matches||[],R.errors):v.loaderData,J=v.blockers;J.size>0&&(J=new Map(J),J.forEach((ne,ce)=>J.set(ce,ta)));let H=ge?!1:$u(k,R.matches||v.matches),Q=O===!0||v.navigation.formMethod!=null&&Ze(v.navigation.formMethod)&&((G=k.state)==null?void 0:G._isRedirect)!==!0;d&&(o=d,d=void 0),ge||_==="POP"||(_==="PUSH"?e.history.push(k,k.state):_==="REPLACE"&&e.history.replace(k,k.state));let Y;if(_==="POP"){let ne=ue.get(v.location.pathname);ne&&ne.has(k.pathname)?Y={currentLocation:v.location,nextLocation:k}:ue.has(k.pathname)&&(Y={currentLocation:k,nextLocation:v.location})}else if(se){let ne=ue.get(v.location.pathname);ne?ne.add(k.pathname):(ne=new Set([k.pathname]),ue.set(v.location.pathname,ne)),Y={currentLocation:v.location,nextLocation:k}}Ge({...R,actionData:F,loaderData:q,historyAction:_,location:k,initialized:!0,navigation:Uo,revalidation:"idle",restoreScrollPosition:H,preventScrollReset:Q,blockers:J},{viewTransitionOpts:Y,flushSync:L===!0}),_="POP",O=!1,se=!1,ge=!1,Z=!1,A==null||A.resolve(),A=null,cn==null||cn.resolve(),cn=null}async function Lu(k,R){if(A==null||A.resolve(),A=null,typeof k=="number"){A||(A=wh());let ce=A.promise;return e.history.go(k),ce}let L=Vd(v.location,v.matches,c,k,R==null?void 0:R.fromRouteId,R==null?void 0:R.relative),{path:I,submission:F,error:q}=oh(!1,L,R),J=v.location,H=za(v.location,I,R&&R.state);H={...H,...e.history.encodeLocation(H)};let Q=R&&R.replace!=null?R.replace:void 0,Y="PUSH";Q===!0?Y="REPLACE":Q===!1||F!=null&&Ze(F.formMethod)&&F.formAction===v.location.pathname+v.location.search&&(Y="REPLACE");let te=R&&"preventScrollReset"in R?R.preventScrollReset===!0:void 0,G=(R&&R.flushSync)===!0,ne=Fu({currentLocation:J,nextLocation:H,historyAction:Y});if(ne){ul(ne,{state:"blocked",location:H,proceed(){ul(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),Lu(k,R)},reset(){let ce=new Map(v.blockers);ce.set(ne,ta),Ge({blockers:ce})}});return}await un(Y,H,{submission:F,pendingError:q,preventScrollReset:te,replace:R&&R.replace,enableViewTransition:R&&R.viewTransition,flushSync:G,callSiteDefaultShouldRevalidate:R&&R.unstable_defaultShouldRevalidate})}function gy(){cn||(cn=wh()),io(),Ge({revalidation:"loading"});let k=cn.promise;return v.navigation.state==="submitting"?k:v.navigation.state==="idle"?(un(v.historyAction,v.location,{startUninterruptedRevalidation:!0}),k):(un(_||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:se===!0}),k)}async function un(k,R,L){B&&B.abort(),B=null,_=k,ge=(L&&L.startUninterruptedRevalidation)===!0,Ry(v.location,v.matches),O=(L&&L.preventScrollReset)===!0,se=(L&&L.enableViewTransition)===!0;let I=d||o,F=L&&L.overrideNavigation,q=L!=null&&L.initialHydration&&v.matches&&v.matches.length>0&&!y?v.matches:Mr(I,R,c),J=(L&&L.flushSync)===!0;if(q&&v.initialized&&!Z&&sw(v.location,R)&&!(L&&L.submission&&Ze(L.submission.formMethod))){Wn(R,{matches:q},{flushSync:J});return}let H=fl(q,I,R.pathname);if(H.active&&H.matches&&(q=H.matches),!q){let{error:$e,notFoundMatches:nt,route:ye}=co(R.pathname);Wn(R,{matches:nt,loaderData:{},errors:{[ye.id]:$e}},{flushSync:J});return}B=new AbortController;let Q=Gn(e.history,R,B.signal,L&&L.submission),Y=e.getContext?await e.getContext():new rh,te;if(L&&L.pendingError)te=[Ir(q).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Ze(L.submission.formMethod)){let $e=await yy(Q,R,L.submission,q,Y,H.active,L&&L.initialHydration===!0,{replace:L.replace,flushSync:J});if($e.shortCircuited)return;if($e.pendingActionResult){let[nt,ye]=$e.pendingActionResult;if(wt(ye)&&Ua(ye.error)&&ye.error.status===404){B=null,Wn(R,{matches:$e.matches,loaderData:{},errors:{[nt]:ye.error}});return}}q=$e.matches||q,te=$e.pendingActionResult,F=Bo(R,L.submission),J=!1,H.active=!1,Q=Gn(e.history,Q.url,Q.signal)}let{shortCircuited:G,matches:ne,loaderData:ce,errors:Qe}=await by(Q,R,q,Y,H.active,F,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,J,te,L&&L.callSiteDefaultShouldRevalidate);G||(B=null,Wn(R,{matches:ne||q,...yh(te),loaderData:ce,errors:Qe}))}async function yy(k,R,L,I,F,q,J,H={}){io();let Q=fw(R,L);if(Ge({navigation:Q},{flushSync:H.flushSync===!0}),q){let G=await hl(I,R.pathname,k.signal);if(G.type==="aborted")return{shortCircuited:!0};if(G.type==="error"){if(G.partialMatches.length===0){let{matches:ce,route:Qe}=Il(o);return{matches:ce,pendingActionResult:[Qe.id,{type:"error",error:G.error}]}}let ne=Ir(G.partialMatches).route.id;return{matches:G.partialMatches,pendingActionResult:[ne,{type:"error",error:G.error}]}}else if(G.matches)I=G.matches;else{let{notFoundMatches:ne,error:ce,route:Qe}=co(R.pathname);return{matches:ne,pendingActionResult:[Qe.id,{type:"error",error:ce}]}}}let Y,te=ti(I,R);if(!te.route.action&&!te.route.lazy)Y={type:"error",error:Pt(405,{method:k.method,pathname:R.pathname,routeId:te.route.id})};else{let G=xs(l,i,k,I,te,J?[]:n,F),ne=await Qs(k,G,F,null);if(Y=ne[te.route.id],!Y){for(let ce of I)if(ne[ce.route.id]){Y=ne[ce.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(wn(Y)){let G;return H&&H.replace!=null?G=H.replace:G=mh(Y.response.headers.get("Location"),new URL(k.url),c,e.history)===v.location.pathname+v.location.search,await fn(k,Y,!0,{submission:L,replace:G}),{shortCircuited:!0}}if(wt(Y)){let G=Ir(I,te.route.id);return(H&&H.replace)!==!0&&(_="PUSH"),{matches:I,pendingActionResult:[G.route.id,Y,te.route.id]}}return{matches:I,pendingActionResult:[te.route.id,Y]}}async function by(k,R,L,I,F,q,J,H,Q,Y,te,G,ne){let ce=q||Bo(R,J),Qe=J||H||vh(ce),$e=!ge&&!Y;if(F){if($e){let Ye=Tu(G);Ge({navigation:ce,...Ye!==void 0?{actionData:Ye}:{}},{flushSync:te})}let fe=await hl(L,R.pathname,k.signal);if(fe.type==="aborted")return{shortCircuited:!0};if(fe.type==="error"){if(fe.partialMatches.length===0){let{matches:Kn,route:pn}=Il(o);return{matches:Kn,loaderData:{},errors:{[pn.id]:fe.error}}}let Ye=Ir(fe.partialMatches).route.id;return{matches:fe.partialMatches,loaderData:{},errors:{[Ye]:fe.error}}}else if(fe.matches)L=fe.matches;else{let{error:Ye,notFoundMatches:Kn,route:pn}=co(R.pathname);return{matches:Kn,loaderData:{},errors:{[pn.id]:Ye}}}}let nt=d||o,{dsMatches:ye,revalidatingFetchers:Et}=dh(k,I,l,i,e.history,v,L,Qe,R,Y?[]:n,Y===!0,Z,me,Ne,Ie,ae,nt,c,e.patchRoutesOnNavigation!=null,G,ne);if(W=++V,!e.dataStrategy&&!ye.some(fe=>fe.shouldLoad)&&!ye.some(fe=>fe.route.middleware&&fe.route.middleware.length>0)&&Et.length===0){let fe=Iu();return Wn(R,{matches:L,loaderData:{},errors:G&&wt(G[1])?{[G[0]]:G[1].error}:null,...yh(G),...fe?{fetchers:new Map(v.fetchers)}:{}},{flushSync:te}),{shortCircuited:!0}}if($e){let fe={};if(!F){fe.navigation=ce;let Ye=Tu(G);Ye!==void 0&&(fe.actionData=Ye)}Et.length>0&&(fe.fetchers=vy(Et)),Ge(fe,{flushSync:te})}Et.forEach(fe=>{ur(fe.key),fe.controller&&M.set(fe.key,fe.controller)});let hn=()=>Et.forEach(fe=>ur(fe.key));B&&B.signal.addEventListener("abort",hn);let{loaderResults:Vs,fetcherResults:Er}=await _u(ye,Et,k,I);if(k.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",hn),Et.forEach(fe=>M.delete(fe.key));let Yt=Dl(Vs);if(Yt)return await fn(k,Yt.result,!0,{replace:Q}),{shortCircuited:!0};if(Yt=Dl(Er),Yt)return ae.add(Yt.key),await fn(k,Yt.result,!0,{replace:Q}),{shortCircuited:!0};let{loaderData:uo,errors:Ws}=xh(v,L,Vs,G,Et,Er);Y&&v.errors&&(Ws={...v.errors,...Ws});let mn=Iu(),ml=Du(W),pl=mn||ml||Et.length>0;return{matches:L,loaderData:uo,errors:Ws,...pl?{fetchers:new Map(v.fetchers)}:{}}}function Tu(k){if(k&&!wt(k[1]))return{[k[0]]:k[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function vy(k){return k.forEach(R=>{let L=v.fetchers.get(R.key),I=ra(void 0,L?L.data:void 0);v.fetchers.set(R.key,I)}),new Map(v.fetchers)}async function wy(k,R,L,I){ur(k);let F=(I&&I.flushSync)===!0,q=d||o,J=Vd(v.location,v.matches,c,L,R,I==null?void 0:I.relative),H=Mr(q,J,c),Q=fl(H,q,J);if(Q.active&&Q.matches&&(H=Q.matches),!H){cr(k,R,Pt(404,{pathname:J}),{flushSync:F});return}let{path:Y,submission:te,error:G}=oh(!0,J,I);if(G){cr(k,R,G,{flushSync:F});return}let ne=e.getContext?await e.getContext():new rh,ce=(I&&I.preventScrollReset)===!0;if(te&&Ze(te.formMethod)){await jy(k,R,Y,H,ne,Q.active,F,ce,te,I&&I.unstable_defaultShouldRevalidate);return}Ie.set(k,{routeId:R,path:Y}),await ky(k,R,Y,H,ne,Q.active,F,ce,te)}async function jy(k,R,L,I,F,q,J,H,Q,Y){io(),Ie.delete(k);let te=v.fetchers.get(k);dr(k,hw(Q,te),{flushSync:J});let G=new AbortController,ne=Gn(e.history,L,G.signal,Q);if(q){let Pe=await hl(I,new URL(ne.url).pathname,ne.signal,k);if(Pe.type==="aborted")return;if(Pe.type==="error"){cr(k,R,Pe.error,{flushSync:J});return}else if(Pe.matches)I=Pe.matches;else{cr(k,R,Pt(404,{pathname:L}),{flushSync:J});return}}let ce=ti(I,L);if(!ce.route.action&&!ce.route.lazy){let Pe=Pt(405,{method:Q.formMethod,pathname:L,routeId:R});cr(k,R,Pe,{flushSync:J});return}M.set(k,G);let Qe=V,$e=xs(l,i,ne,I,ce,n,F),nt=await Qs(ne,$e,F,k),ye=nt[ce.route.id];if(!ye){for(let Pe of $e)if(nt[Pe.route.id]){ye=nt[Pe.route.id];break}}if(ne.signal.aborted){M.get(k)===G&&M.delete(k);return}if(Ne.has(k)){if(wn(ye)||wt(ye)){dr(k,fr(void 0));return}}else{if(wn(ye))if(M.delete(k),W>Qe){dr(k,fr(void 0));return}else return ae.add(k),dr(k,ra(Q)),fn(ne,ye,!1,{fetcherSubmission:Q,preventScrollReset:H});if(wt(ye)){cr(k,R,ye.error);return}}let Et=v.navigation.location||v.location,hn=Gn(e.history,Et,G.signal),Vs=d||o,Er=v.navigation.state!=="idle"?Mr(Vs,v.navigation.location,c):v.matches;le(Er,"Didn't find any matches after fetcher action");let Yt=++V;ee.set(k,Yt);let uo=ra(Q,ye.data);v.fetchers.set(k,uo);let{dsMatches:Ws,revalidatingFetchers:mn}=dh(hn,F,l,i,e.history,v,Er,Q,Et,n,!1,Z,me,Ne,Ie,ae,Vs,c,e.patchRoutesOnNavigation!=null,[ce.route.id,ye],Y);mn.filter(Pe=>Pe.key!==k).forEach(Pe=>{let xl=Pe.key,Bu=v.fetchers.get(xl),Ty=ra(void 0,Bu?Bu.data:void 0);v.fetchers.set(xl,Ty),ur(xl),Pe.controller&&M.set(xl,Pe.controller)}),Ge({fetchers:new Map(v.fetchers)});let ml=()=>mn.forEach(Pe=>ur(Pe.key));G.signal.addEventListener("abort",ml);let{loaderResults:pl,fetcherResults:fe}=await _u(Ws,mn,hn,F);if(G.signal.aborted)return;if(G.signal.removeEventListener("abort",ml),ee.delete(k),M.delete(k),mn.forEach(Pe=>M.delete(Pe.key)),v.fetchers.has(k)){let Pe=fr(ye.data);v.fetchers.set(k,Pe)}let Ye=Dl(pl);if(Ye)return fn(hn,Ye.result,!1,{preventScrollReset:H});if(Ye=Dl(fe),Ye)return ae.add(Ye.key),fn(hn,Ye.result,!1,{preventScrollReset:H});let{loaderData:Kn,errors:pn}=xh(v,Er,pl,void 0,mn,fe);Du(Yt),v.navigation.state==="loading"&&Yt>W?(le(_,"Expected pending action"),B&&B.abort(),Wn(v.navigation.location,{matches:Er,loaderData:Kn,errors:pn,fetchers:new Map(v.fetchers)})):(Ge({errors:pn,loaderData:gh(v.loaderData,Kn,Er,pn),fetchers:new Map(v.fetchers)}),Z=!1)}async function ky(k,R,L,I,F,q,J,H,Q){let Y=v.fetchers.get(k);dr(k,ra(Q,Y?Y.data:void 0),{flushSync:J});let te=new AbortController,G=Gn(e.history,L,te.signal);if(q){let ye=await hl(I,new URL(G.url).pathname,G.signal,k);if(ye.type==="aborted")return;if(ye.type==="error"){cr(k,R,ye.error,{flushSync:J});return}else if(ye.matches)I=ye.matches;else{cr(k,R,Pt(404,{pathname:L}),{flushSync:J});return}}let ne=ti(I,L);M.set(k,te);let ce=V,Qe=xs(l,i,G,I,ne,n,F),nt=(await Qs(G,Qe,F,k))[ne.route.id];if(M.get(k)===te&&M.delete(k),!G.signal.aborted){if(Ne.has(k)){dr(k,fr(void 0));return}if(wn(nt))if(W>ce){dr(k,fr(void 0));return}else{ae.add(k),await fn(G,nt,!1,{preventScrollReset:H});return}if(wt(nt)){cr(k,R,nt.error);return}dr(k,fr(nt.data))}}async function fn(k,R,L,{submission:I,fetcherSubmission:F,preventScrollReset:q,replace:J}={}){L||(A==null||A.resolve(),A=null),R.response.headers.has("X-Remix-Revalidate")&&(Z=!0);let H=R.response.headers.get("Location");le(H,"Expected a Location header on the redirect Response"),H=mh(H,new URL(k.url),c,e.history);let Q=za(v.location,H,{_isRedirect:!0});if(r){let Qe=!1;if(R.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(Yi(H)){const $e=Kx(H,!0);Qe=$e.origin!==t.location.origin||At($e.pathname,c)==null}if(Qe){J?t.location.replace(H):t.location.assign(H);return}}B=null;let Y=J===!0||R.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:te,formAction:G,formEncType:ne}=v.navigation;!I&&!F&&te&&G&&ne&&(I=vh(v.navigation));let ce=I||F;if(B0.has(R.response.status)&&ce&&Ze(ce.formMethod))await un(Y,Q,{submission:{...ce,formAction:H},preventScrollReset:q||O,enableViewTransition:L?se:void 0});else{let Qe=Bo(Q,I);await un(Y,Q,{overrideNavigation:Qe,fetcherSubmission:F,preventScrollReset:q||O,enableViewTransition:L?se:void 0})}}async function Qs(k,R,L,I){var J;let F,q={};try{F=await X0(u,k,R,I,L,!1)}catch(H){return R.filter(Q=>Q.shouldLoad).forEach(Q=>{q[Q.route.id]={type:"error",error:H}}),q}if(k.signal.aborted)return q;if(!Ze(k.method))for(let H of R){if(((J=F[H.route.id])==null?void 0:J.type)==="error")break;!F.hasOwnProperty(H.route.id)&&!v.loaderData.hasOwnProperty(H.route.id)&&(!v.errors||!v.errors.hasOwnProperty(H.route.id))&&H.shouldCallHandler()&&(F[H.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${H.route.id}`)})}for(let[H,Q]of Object.entries(F))if(ow(Q)){let Y=Q.result;q[H]={type:"redirect",response:rw(Y,k,H,R,c)}}else q[H]=await tw(Q);return q}async function _u(k,R,L,I){let F=Qs(L,k,I,null),q=Promise.all(R.map(async Q=>{if(Q.matches&&Q.match&&Q.request&&Q.controller){let te=(await Qs(Q.request,Q.matches,I,Q.key))[Q.match.route.id];return{[Q.key]:te}}else return Promise.resolve({[Q.key]:{type:"error",error:Pt(404,{pathname:Q.path})}})})),J=await F,H=(await q).reduce((Q,Y)=>Object.assign(Q,Y),{});return{loaderResults:J,fetcherResults:H}}function io(){Z=!0,Ie.forEach((k,R)=>{M.has(R)&&me.add(R),ur(R)})}function dr(k,R,L={}){v.fetchers.set(k,R),Ge({fetchers:new Map(v.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function cr(k,R,L,I={}){let F=Ir(v.matches,R);oo(k),Ge({errors:{[F.route.id]:L},fetchers:new Map(v.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Ou(k){return ke.set(k,(ke.get(k)||0)+1),Ne.has(k)&&Ne.delete(k),v.fetchers.get(k)||H0}function Ny(k,R){ur(k,R==null?void 0:R.reason),dr(k,fr(null))}function oo(k){let R=v.fetchers.get(k);M.has(k)&&!(R&&R.state==="loading"&&ee.has(k))&&ur(k),Ie.delete(k),ee.delete(k),ae.delete(k),Ne.delete(k),me.delete(k),v.fetchers.delete(k)}function Sy(k){let R=(ke.get(k)||0)-1;R<=0?(ke.delete(k),Ne.add(k)):ke.set(k,R),Ge({fetchers:new Map(v.fetchers)})}function ur(k,R){let L=M.get(k);L&&(L.abort(R),M.delete(k))}function Mu(k){for(let R of k){let L=Ou(R),I=fr(L.data);v.fetchers.set(R,I)}}function Iu(){let k=[],R=!1;for(let L of ae){let I=v.fetchers.get(L);le(I,`Expected fetcher: ${L}`),I.state==="loading"&&(ae.delete(L),k.push(L),R=!0)}return Mu(k),R}function Du(k){let R=[];for(let[L,I]of ee)if(I<k){let F=v.fetchers.get(L);le(F,`Expected fetcher: ${L}`),F.state==="loading"&&(ur(L),ee.delete(L),R.push(L))}return Mu(R),R.length>0}function Cy(k,R){let L=v.blockers.get(k)||ta;return ze.get(k)!==R&&ze.set(k,R),L}function Au(k){v.blockers.delete(k),ze.delete(k)}function ul(k,R){let L=v.blockers.get(k)||ta;le(L.state==="unblocked"&&R.state==="blocked"||L.state==="blocked"&&R.state==="blocked"||L.state==="blocked"&&R.state==="proceeding"||L.state==="blocked"&&R.state==="unblocked"||L.state==="proceeding"&&R.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${R.state}`);let I=new Map(v.blockers);I.set(k,R),Ge({blockers:I})}function Fu({currentLocation:k,nextLocation:R,historyAction:L}){if(ze.size===0)return;ze.size>1&&_e(!1,"A router only supports one blocker at a time");let I=Array.from(ze.entries()),[F,q]=I[I.length-1],J=v.blockers.get(F);if(!(J&&J.state==="proceeding")&&q({currentLocation:k,nextLocation:R,historyAction:L}))return F}function co(k){let R=Pt(404,{pathname:k}),L=d||o,{matches:I,route:F}=Il(L);return{notFoundMatches:I,route:F,error:R}}function Ey(k,R,L){if(x=k,w=R,b=L||null,!p&&v.navigation===Uo){p=!0;let I=$u(v.location,v.matches);I!=null&&Ge({restoreScrollPosition:I})}return()=>{x=null,w=null,b=null}}function zu(k,R){return b&&b(k,R.map(I=>qx(I,v.loaderData)))||k.key}function Ry(k,R){if(x&&w){let L=zu(k,R);x[L]=w()}}function $u(k,R){if(x){let L=zu(k,R),I=x[L];if(typeof I=="number")return I}return null}function fl(k,R,L){if(e.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:ca(R,L,c,!0)}}else return{active:!0,matches:ca(R,L,c,!0)||[]};return{active:!1,matches:null}}async function hl(k,R,L,I){if(!e.patchRoutesOnNavigation)return{type:"success",matches:k};let F=k;for(;;){let q=d==null,J=d||o,H=i;try{await e.patchRoutesOnNavigation({signal:L,path:R,matches:F,fetcherKey:I,patch:(te,G)=>{L.aborted||ch(te,G,J,H,l,!1)}})}catch(te){return{type:"error",error:te,partialMatches:F}}finally{q&&!L.aborted&&(o=[...o])}if(L.aborted)return{type:"aborted"};let Q=Mr(J,R,c),Y=null;if(Q){if(Object.keys(Q[0].params).length===0)return{type:"success",matches:Q};if(Y=ca(J,R,c,!0),!(Y&&F.length<Y.length&&Uu(F,Y.slice(0,F.length))))return{type:"success",matches:Q}}if(Y||(Y=ca(J,R,c,!0)),!Y||Uu(F,Y))return{type:"success",matches:null};F=Y}}function Uu(k,R){return k.length===R.length&&k.every((L,I)=>L.route.id===R[I].route.id)}function Py(k){i={},d=$a(k,l,void 0,i)}function Ly(k,R,L=!1){let I=d==null;ch(k,R,d||o,i,l,L),I&&(o=[...o],Ge({}))}return P={get basename(){return c},get future(){return f},get state(){return v},get routes(){return o},get window(){return t},initialize:my,subscribe:xy,enableScrollRestoration:Ey,navigate:Lu,fetch:wy,revalidate:gy,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:Ou,resetFetcher:Ny,deleteFetcher:Sy,dispose:py,getBlocker:Cy,deleteBlocker:Au,patchRoutes:Ly,_internalFetchControllers:M,_internalSetRoutes:Py,_internalSetStateDoNotUseOrYouWillBreakYourApp(k){Ge(k)}},e.unstable_instrumentations&&(P=M0(P,e.unstable_instrumentations.map(k=>k.router).filter(Boolean))),P}function W0(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Vd(e,t,r,n,a,l){let i,o;if(a){i=[];for(let c of t)if(i.push(c),c.route.id===a){o=c;break}}else i=t,o=t[t.length-1];let d=cu(n||".",du(i),At(e.pathname,r)||e.pathname,l==="path");if(n==null&&(d.search=e.search,d.hash=e.hash),(n==null||n===""||n===".")&&o){let c=hu(d.search);if(o.route.index&&!c)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let u=new URLSearchParams(d.search),f=u.getAll("index");u.delete("index"),f.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();d.search=h?`?${h}`:""}}return r!=="/"&&(d.pathname=R0({basename:r,pathname:d.pathname})),ir(d)}function oh(e,t,r){if(!r||!W0(r))return{path:t};if(r.formMethod&&!uw(r.formMethod))return{path:t,error:Pt(405,{method:r.formMethod})};let n=()=>({path:t,error:Pt(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),i=ug(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ze(l))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,[m,x])=>`${h}${m}=${x}
`,""):String(r.body);return{path:t,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Ze(l))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}le(typeof FormData=="function","FormData is not available in this environment");let o,d;if(r.formData)o=qd(r.formData),d=r.formData;else if(r.body instanceof FormData)o=qd(r.body),d=r.body;else if(r.body instanceof URLSearchParams)o=r.body,d=ph(o);else if(r.body==null)o=new URLSearchParams,d=new FormData;else try{o=new URLSearchParams(r.body),d=ph(o)}catch{return n()}let c={formMethod:l,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Ze(c.formMethod))return{path:t,submission:c};let u=on(t);return e&&u.search&&hu(u.search)&&o.append("index",""),u.search=`?${o}`,{path:ir(u),submission:c}}function dh(e,t,r,n,a,l,i,o,d,c,u,f,h,m,x,b,w,p,g,y,j){var ge;let N=y?wt(y[1])?y[1].error:y[1].data:void 0,P=a.createURL(l.location),v=a.createURL(d),_;if(u&&l.errors){let Z=Object.keys(l.errors)[0];_=i.findIndex(me=>me.route.id===Z)}else if(y&&wt(y[1])){let Z=y[0];_=i.findIndex(me=>me.route.id===Z)-1}let A=y?y[1].statusCode:void 0,O=A&&A>=400,B={currentUrl:P,currentParams:((ge=l.matches[0])==null?void 0:ge.params)||{},nextUrl:v,nextParams:i[0].params,...o,actionResult:N,actionStatus:A},se=rl(i),ue=i.map((Z,me)=>{let{route:M}=Z,V=null;if(_!=null&&me>_?V=!1:M.lazy?V=!0:uu(M)?u?V=Wd(M,l.loaderData,l.errors):K0(l.loaderData,l.matches[me],Z)&&(V=!0):V=!1,V!==null)return Kd(r,n,e,se,Z,c,t,V);let W=!1;typeof j=="boolean"?W=j:O?W=!1:(f||P.pathname+P.search===v.pathname+v.search||P.search!==v.search||q0(l.matches[me],Z))&&(W=!0);let ee={...B,defaultShouldRevalidate:W},ae=wa(Z,ee);return Kd(r,n,e,se,Z,c,t,ae,ee,j)}),z=[];return x.forEach((Z,me)=>{if(u||!i.some(Ne=>Ne.route.id===Z.routeId)||m.has(me))return;let M=l.fetchers.get(me),V=M&&M.state!=="idle"&&M.data===void 0,W=Mr(w,Z.path,p);if(!W){if(g&&V)return;z.push({key:me,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(b.has(me))return;let ee=ti(W,Z.path),ae=new AbortController,Ie=Gn(a,Z.path,ae.signal),ke=null;if(h.has(me))h.delete(me),ke=xs(r,n,Ie,W,ee,c,t);else if(V)f&&(ke=xs(r,n,Ie,W,ee,c,t));else{let Ne;typeof j=="boolean"?Ne=j:O?Ne=!1:Ne=f;let ze={...B,defaultShouldRevalidate:Ne};wa(ee,ze)&&(ke=xs(r,n,Ie,W,ee,c,t,ze))}ke&&z.push({key:me,routeId:Z.routeId,path:Z.path,matches:ke,match:ee,request:Ie,controller:ae})}),{dsMatches:ue,revalidatingFetchers:z}}function uu(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Wd(e,t,r){if(e.lazy)return!0;if(!uu(e))return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function K0(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function q0(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function wa(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function ch(e,t,r,n,a,l){let i;if(e){let c=n[e];le(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),i=c.children}else i=r;let o=[],d=[];if(t.forEach(c=>{let u=i.find(f=>lg(c,f));u?d.push({existingRoute:u,newRoute:c}):o.push(c)}),o.length>0){let c=$a(o,a,[e||"_","patch",String((i==null?void 0:i.length)||"0")],n);i.push(...c)}if(l&&d.length>0)for(let c=0;c<d.length;c++){let{existingRoute:u,newRoute:f}=d[c],h=u,[m]=$a([f],a,[],{},!0);Object.assign(h,{element:m.element?m.element:h.element,errorElement:m.errorElement?m.errorElement:h.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:h.hydrateFallbackElement})}}function lg(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(l=>lg(r,l))}):!1}var uh=new WeakMap,ig=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(le(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[e];if(!l)return;let i=uh.get(a);i||(i={},uh.set(a,i));let o=i[e];if(o)return o;let d=(async()=>{let c=f0(e),f=a[e]!==void 0&&e!=="hasErrorBoundary";if(c)_e(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),i[e]=Promise.resolve();else if(f)_e(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=await l();h!=null&&(Object.assign(a,{[e]:h}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(h=>h===void 0)&&(a.lazy=void 0))})();return i[e]=d,d},fh=new WeakMap;function G0(e,t,r,n,a){let l=r[e.id];if(le(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=fh.get(l);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let f=(async()=>{le(typeof e.lazy=="function","No lazy route function found");let h=await e.lazy(),m={};for(let x in h){let b=h[x];if(b===void 0)continue;let w=m0(x),g=l[x]!==void 0&&x!=="hasErrorBoundary";w?_e(!w,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):g?_e(!g,`Route "${l.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):m[x]=b}Object.assign(l,m),Object.assign(l,{...n(l),lazy:void 0})})();return fh.set(l,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let i=Object.keys(e.lazy),o=[],d;for(let u of i){if(a&&a.includes(u))continue;let f=ig({key:u,route:e,manifest:r,mapRouteProperties:n});f&&(o.push(f),u===t&&(d=f))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:d}}async function hh(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,l)=>{r[t[l].route.id]=a}),r}async function Y0(e){return e.matches.some(t=>t.route.middleware)?og(e,()=>hh(e)):hh(e)}function og(e,t){return J0(e,t,n=>{if(cw(n))throw n;return n},lw,r);function r(n,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:n}}));{let{matches:i}=e,o=Math.min(Math.max(i.findIndex(c=>c.route.id===a),0),Math.max(i.findIndex(c=>c.shouldCallHandler()),0)),d=Ir(i,i[o].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:n}})}}}async function J0(e,t,r,n,a){let{matches:l,request:i,params:o,context:d,unstable_pattern:c}=e,u=l.flatMap(h=>h.route.middleware?h.route.middleware.map(m=>[h.route.id,m]):[]);return await dg({request:i,params:o,context:d,unstable_pattern:c},u,t,r,n,a)}async function dg(e,t,r,n,a,l,i=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let d=t[i];if(!d)return await r();let[c,u]=d,f,h=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await dg(e,t,r,n,a,l,i+1)},f.value}catch(m){return f={value:await l(m,c,f)},f.value}};try{let m=await u(e,h),x=m!=null?n(m):void 0;return a(x)?x:f?x??f.value:(f={value:await h()},f.value)}catch(m){return await l(m,c,f)}}function cg(e,t,r,n,a){let l=ig({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),i=G0(n.route,Ze(r.method)?"action":"loader",t,e,a);return{middleware:l,route:i.lazyRoutePromise,handler:i.lazyHandlerPromise}}function Kd(e,t,r,n,a,l,i,o,d=null,c){let u=!1,f=cg(e,t,r,a,l);return{...a,_lazyPromises:f,shouldLoad:o,shouldRevalidateArgs:d,shouldCallHandler(h){return u=!0,d?typeof c=="boolean"?wa(a,{...d,defaultShouldRevalidate:c}):typeof h=="boolean"?wa(a,{...d,defaultShouldRevalidate:h}):wa(a,d):o},resolve(h){let{lazy:m,loader:x,middleware:b}=a.route,w=u||o||h&&!Ze(r.method)&&(m||x),p=b&&b.length>0&&!x&&!m;return w&&(Ze(r.method)||!p)?Z0({request:r,unstable_pattern:n,match:a,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:h,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function xs(e,t,r,n,a,l,i,o=null){return n.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:cg(e,t,r,d,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Kd(e,t,r,rl(n),d,l,i,!0,o))}async function X0(e,t,r,n,a,l){r.some(c=>{var u;return(u=c._lazyPromises)==null?void 0:u.middleware})&&await Promise.all(r.map(c=>{var u;return(u=c._lazyPromises)==null?void 0:u.middleware}));let i={request:t,unstable_pattern:rl(r),params:r[0].params,context:a,matches:r},d=await e({...i,fetcherKey:n,runClientMiddleware:c=>{let u=i;return og(u,()=>c({...u,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(c=>{var u,f;return[(u=c._lazyPromises)==null?void 0:u.handler,(f=c._lazyPromises)==null?void 0:f.route]}))}catch{}return d}async function Z0({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:l,scopedContext:i}){let o,d,c=Ze(e.method),u=c?"action":"loader",f=h=>{let m,x=new Promise((p,g)=>m=g);d=()=>m(),e.signal.addEventListener("abort",d);let b=p=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${r.route.id}]`)):h({request:e,unstable_pattern:t,params:r.params,context:i},...p!==void 0?[p]:[]),w=(async()=>{try{return{type:"data",result:await(l?l(g=>b(g)):b())}}catch(p){return{type:"error",result:p}}})();return Promise.race([w,x])};try{let h=c?r.route.action:r.route.loader;if(n||a)if(h){let m,[x]=await Promise.all([f(h).catch(b=>{m=b}),n,a]);if(m!==void 0)throw m;o=x}else{await n;let m=c?r.route.action:r.route.loader;if(m)[o]=await Promise.all([f(m),a]);else if(u==="action"){let x=new URL(e.url),b=x.pathname+x.search;throw Pt(405,{method:e.method,pathname:b,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(h)o=await f(h);else{let m=new URL(e.url),x=m.pathname+m.search;throw Pt(404,{pathname:x})}}catch(h){return{type:"error",result:h}}finally{d&&e.signal.removeEventListener("abort",d)}return o}async function ew(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function tw(e){var n,a,l,i,o;let{result:t,type:r}=e;if(fu(t)){let d;try{d=await ew(t)}catch(c){return{type:"error",error:c}}return r==="error"?{type:"error",error:new tl(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return r==="error"?bh(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:aw(t),statusCode:Ua(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ua(t)?t.status:void 0}:bh(t)?{type:"data",data:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function rw(e,t,r,n,a){let l=e.headers.get("Location");if(le(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Yi(l)){let i=n.slice(0,n.findIndex(o=>o.route.id===r)+1);l=Vd(new URL(t.url),i,a,l),e.headers.set("Location",l)}return e}function mh(e,t,r,n){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Yi(e)){let l=e,i=l.startsWith("//")?new URL(t.protocol+l):new URL(l);if(a.includes(i.protocol))throw new Error("Invalid redirect location");let o=At(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}try{let l=n.createURL(e);if(a.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Gn(e,t,r,n){let a=e.createURL(ug(t)).toString(),l={signal:r};if(n&&Ze(n.formMethod)){let{formMethod:i,formEncType:o}=n;l.method=i.toUpperCase(),o==="application/json"?(l.headers=new Headers({"Content-Type":o}),l.body=JSON.stringify(n.json)):o==="text/plain"?l.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?l.body=qd(n.formData):l.body=n.formData}return new Request(a,l)}function qd(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function ph(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function nw(e,t,r,n=!1,a=!1){let l={},i=null,o,d=!1,c={},u=r&&wt(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,m=t[h];if(le(!wn(m),"Cannot handle redirect results in processLoaderData"),wt(m)){let x=m.error;if(u!==void 0&&(x=u,u=void 0),i=i||{},a)i[h]=x;else{let b=Ir(e,h);i[b.route.id]==null&&(i[b.route.id]=x)}n||(l[h]=ag),d||(d=!0,o=Ua(m.error)?m.error.status:500),m.headers&&(c[h]=m.headers)}else l[h]=m.data,m.statusCode&&m.statusCode!==200&&!d&&(o=m.statusCode),m.headers&&(c[h]=m.headers)}),u!==void 0&&r&&(i={[r[0]]:u},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:i,statusCode:o||200,loaderHeaders:c}}function xh(e,t,r,n,a,l){let{loaderData:i,errors:o}=nw(t,r,n);return a.filter(d=>!d.matches||d.matches.some(c=>c.shouldLoad)).forEach(d=>{let{key:c,match:u,controller:f}=d;if(f&&f.signal.aborted)return;let h=l[c];if(le(h,"Did not find corresponding fetcher result"),wt(h)){let m=Ir(e.matches,u==null?void 0:u.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:h.error}),e.fetchers.delete(c)}else if(wn(h))le(!1,"Unhandled fetcher revalidation redirect");else{let m=fr(h.data);e.fetchers.set(c,m)}}),{loaderData:i,errors:o}}function gh(e,t,r,n){let a=Object.entries(t).filter(([,l])=>l!==ag).reduce((l,[i,o])=>(l[i]=o,l),{});for(let l of r){let i=l.route.id;if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&l.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function yh(e){return e?wt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ir(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Il(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pt(e,{pathname:t,routeId:r,method:n,type:a,message:l}={}){let i="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(i="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(i="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(i="Not Found",o=`No route matches URL "${t}"`):e===405&&(i="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new tl(e||500,i,new Error(o),!0)}function Dl(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(wn(a))return{key:n,result:a}}}function ug(e){let t=typeof e=="string"?on(e):e;return ir({...t,hash:""})}function sw(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function aw(e){var t,r;return new tl(((t=e.init)==null?void 0:t.status)??500,((r=e.init)==null?void 0:r.statusText)??"Internal Server Error",e.data)}function lw(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&iw(r))}function iw(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function ow(e){return fu(e.result)&&ng.has(e.result.status)}function wt(e){return e.type==="error"}function wn(e){return(e&&e.type)==="redirect"}function bh(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function fu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function dw(e){return ng.has(e)}function cw(e){return fu(e)&&dw(e.status)&&e.headers.has("Location")}function uw(e){return U0.has(e.toUpperCase())}function Ze(e){return z0.has(e.toUpperCase())}function hu(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ti(e,t){let r=typeof t=="string"?on(t).search:t.search;if(e[e.length-1].route.index&&hu(r||""))return e[e.length-1];let n=Xx(e);return n[n.length-1]}function vh(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:l,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:r,formEncType:n,formData:l,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function Bo(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fw(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ra(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hw(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function fr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mw(e,t){try{let r=e.sessionStorage.getItem(sg);if(r){let n=JSON.parse(r);for(let[a,l]of Object.entries(n||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function pw(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(sg,JSON.stringify(r))}catch(n){_e(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function wh(){let e,t,r=new Promise((n,a)=>{e=async l=>{n(l);try{await r}catch{}},t=async l=>{a(l);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Vn=E.createContext(null);Vn.displayName="DataRouter";var nl=E.createContext(null);nl.displayName="DataRouterState";var fg=E.createContext(!1);function xw(){return E.useContext(fg)}var mu=E.createContext({isTransitioning:!1});mu.displayName="ViewTransition";var hg=E.createContext(new Map);hg.displayName="Fetchers";var gw=E.createContext(null);gw.displayName="Await";var Ft=E.createContext(null);Ft.displayName="Navigation";var Ji=E.createContext(null);Ji.displayName="Location";var qt=E.createContext({outlet:null,matches:[],isDataRoute:!1});qt.displayName="Route";var pu=E.createContext(null);pu.displayName="RouteError";var mg="REACT_ROUTER_ERROR",yw="REDIRECT",bw="ROUTE_ERROR_RESPONSE";function vw(e){if(e.startsWith(`${mg}:${yw}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function ww(e){if(e.startsWith(`${mg}:${bw}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tl(t.status,t.statusText,t.data)}catch{}}function jw(e,{relative:t}={}){le(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(Ft),{hash:a,pathname:l,search:i}=al(e,{relative:t}),o=l;return r!=="/"&&(o=l==="/"?r:lr([r,l])),n.createHref({pathname:o,search:i,hash:a})}function sl(){return E.useContext(Ji)!=null}function dn(){return le(sl(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ji).location}var pg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xg(e){E.useContext(Ft).static||E.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=E.useContext(qt);return e?Dw():kw()}function kw(){le(sl(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Vn),{basename:t,navigator:r}=E.useContext(Ft),{matches:n}=E.useContext(qt),{pathname:a}=dn(),l=JSON.stringify(du(n)),i=E.useRef(!1);return xg(()=>{i.current=!0}),E.useCallback((d,c={})=>{if(_e(i.current,pg),!i.current)return;if(typeof d=="number"){r.go(d);return}let u=cu(d,JSON.parse(l),a,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:lr([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,l,a,e])}var Nw=E.createContext(null);function Sw(e){let t=E.useContext(qt).outlet;return E.useMemo(()=>t&&E.createElement(Nw.Provider,{value:e},t),[t,e])}function Us(){let{matches:e}=E.useContext(qt),t=e[e.length-1];return t?t.params:{}}function al(e,{relative:t}={}){let{matches:r}=E.useContext(qt),{pathname:n}=dn(),a=JSON.stringify(du(r));return E.useMemo(()=>cu(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Cw(e,t,r,n,a){le(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=E.useContext(Ft),{matches:i}=E.useContext(qt),o=i[i.length-1],d=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",f=o&&o.route;{let g=f&&f.path||"";bg(c,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=dn(),m;m=h;let x=m.pathname||"/",b=x;if(u!=="/"){let g=u.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=Mr(e,{pathname:b});return _e(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),_e(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Tw(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},d,g.params),pathname:lr([u,l.encodeLocation?l.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:lr([u,l.encodeLocation?l.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),i,r,n,a)}function Ew(){let e=Iw(),t=Ua(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:a},r):null,i)}var Rw=E.createElement(Ew,null),gg=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=ww(e.digest);r&&(e=r)}let t=e!==void 0?E.createElement(qt.Provider,{value:this.props.routeContext},E.createElement(pu.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?E.createElement(Pw,{error:e},t):t}};gg.contextType=fg;var Ho=new WeakMap;function Pw({children:e,error:t}){let{basename:r}=E.useContext(Ft);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=vw(t.digest);if(n){let a=Ho.get(t);if(a)throw a;let l=eg(n.location,r);if(Zx&&!Ho.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw Ho.set(t,i),i}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function Lw({routeContext:e,match:t,children:r}){let n=E.useContext(Vn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(qt.Provider,{value:e},r)}function Tw(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,i=r==null?void 0:r.errors;if(i!=null){let u=l.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);le(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),l=l.slice(0,Math.min(l.length,u+1))}let o=!1,d=-1;if(r)for(let u=0;u<l.length;u++){let f=l[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){o=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let c=r&&n?(u,f)=>{var h,m;n(u,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:rl(r.matches),errorInfo:f})}:void 0;return l.reduceRight((u,f,h)=>{let m,x=!1,b=null,w=null;r&&(m=i&&f.route.id?i[f.route.id]:void 0,b=f.route.errorElement||Rw,o&&(d<0&&h===0?(bg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):d===h&&(x=!0,w=f.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,h+1)),g=()=>{let y;return m?y=b:x?y=w:f.route.Component?y=E.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=u,E.createElement(Lw,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?E.createElement(gg,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:c}):g()},null)}function xu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(e){let t=E.useContext(Vn);return le(t,xu(e)),t}function yg(e){let t=E.useContext(nl);return le(t,xu(e)),t}function Ow(e){let t=E.useContext(qt);return le(t,xu(e)),t}function gu(e){let t=Ow(e),r=t.matches[t.matches.length-1];return le(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Mw(){return gu("useRouteId")}function Qo(){let{matches:e,loaderData:t}=yg("useMatches");return E.useMemo(()=>e.map(r=>qx(r,t)),[e,t])}function Iw(){var n;let e=E.useContext(pu),t=yg("useRouteError"),r=gu("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Dw(){let{router:e}=_w("useNavigate"),t=gu("useNavigate"),r=E.useRef(!1);return xg(()=>{r.current=!0}),E.useCallback(async(a,l={})=>{_e(r.current,pg),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var jh={};function bg(e,t,r){!t&&!jh[e]&&(jh[e]=!0,_e(!1,r))}var kh={};function Nh(e,t){!e&&!kh[t]&&(kh[t]=!0,console.warn(t))}var Aw="useOptimistic",Sh=Gy[Aw],Fw=()=>{};function zw(e){return Sh?Sh(e):[e,Fw]}function $w(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&_e(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:E.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&_e(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&_e(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Uw=["HydrateFallback","hydrateFallbackElement"],Bw=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Hw({router:e,flushSync:t,onError:r,unstable_useTransitions:n}){n=xw()||n;let[l,i]=E.useState(e.state),[o,d]=zw(l),[c,u]=E.useState(),[f,h]=E.useState({isTransitioning:!1}),[m,x]=E.useState(),[b,w]=E.useState(),[p,g]=E.useState(),y=E.useRef(new Map),j=E.useCallback((_,{deletedFetchers:A,newErrors:O,flushSync:B,viewTransitionOpts:se})=>{O&&r&&Object.values(O).forEach(z=>{var ge;return r(z,{location:_.location,params:((ge=_.matches[0])==null?void 0:ge.params)??{},unstable_pattern:rl(_.matches)})}),_.fetchers.forEach((z,ge)=>{z.data!==void 0&&y.current.set(ge,z.data)}),A.forEach(z=>y.current.delete(z)),Nh(B===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ue=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Nh(se==null||ue,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!se||!ue){t&&B?t(()=>i(_)):n===!1?i(_):E.startTransition(()=>{n===!0&&d(z=>Ch(z,_)),i(_)});return}if(t&&B){t(()=>{b&&(m==null||m.resolve(),b.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:se.currentLocation,nextLocation:se.nextLocation})});let z=e.window.document.startViewTransition(()=>{t(()=>i(_))});z.finished.finally(()=>{t(()=>{x(void 0),w(void 0),u(void 0),h({isTransitioning:!1})})}),t(()=>w(z));return}b?(m==null||m.resolve(),b.skipTransition(),g({state:_,currentLocation:se.currentLocation,nextLocation:se.nextLocation})):(u(_),h({isTransitioning:!0,flushSync:!1,currentLocation:se.currentLocation,nextLocation:se.nextLocation}))},[e.window,t,b,m,n,d,r]);E.useLayoutEffect(()=>e.subscribe(j),[e,j]),E.useEffect(()=>{f.isTransitioning&&!f.flushSync&&x(new Bw)},[f]),E.useEffect(()=>{if(m&&c&&e.window){let _=c,A=m.promise,O=e.window.document.startViewTransition(async()=>{n===!1?i(_):E.startTransition(()=>{n===!0&&d(B=>Ch(B,_)),i(_)}),await A});O.finished.finally(()=>{x(void 0),w(void 0),u(void 0),h({isTransitioning:!1})}),w(O)}},[c,m,e.window,n,d]),E.useEffect(()=>{m&&c&&o.location.key===c.location.key&&m.resolve()},[m,b,o.location,c]),E.useEffect(()=>{!f.isTransitioning&&p&&(u(p.state),h({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[f.isTransitioning,p]);let N=E.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:_=>e.navigate(_),push:(_,A,O)=>e.navigate(_,{state:A,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(_,A,O)=>e.navigate(_,{replace:!0,state:A,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[e]),P=e.basename||"/",v=E.useMemo(()=>({router:e,navigator:N,static:!1,basename:P,onError:r}),[e,N,P,r]);return E.createElement(E.Fragment,null,E.createElement(Vn.Provider,{value:v},E.createElement(nl.Provider,{value:o},E.createElement(hg.Provider,{value:y.current},E.createElement(mu.Provider,{value:f},E.createElement(Ww,{basename:P,location:o.location,navigationType:o.historyAction,navigator:N,unstable_useTransitions:n},E.createElement(Qw,{routes:e.routes,future:e.future,state:o,onError:r})))))),null)}function Ch(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var Qw=E.memo(Vw);function Vw({routes:e,future:t,state:r,onError:n}){return Cw(e,void 0,r,n,t)}function Xi(e){return Sw(e.context)}function Ww({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:l=!1,unstable_useTransitions:i}){le(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:o,navigator:a,static:l,unstable_useTransitions:i,future:{}}),[o,a,l,i]);typeof r=="string"&&(r=on(r));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:m="default"}=r,x=E.useMemo(()=>{let b=At(c,o);return b==null?null:{location:{pathname:b,search:u,hash:f,state:h,key:m},navigationType:n}},[o,c,u,f,h,m,n]);return _e(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:E.createElement(Ft.Provider,{value:d},E.createElement(Ji.Provider,{children:t,value:x}))}var ri="get",ni="application/x-www-form-urlencoded";function Zi(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Kw(e){return Zi(e)&&e.tagName.toLowerCase()==="button"}function qw(e){return Zi(e)&&e.tagName.toLowerCase()==="form"}function Gw(e){return Zi(e)&&e.tagName.toLowerCase()==="input"}function Yw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jw(e,t){return e.button===0&&(!t||t==="_self")&&!Yw(e)}function Gd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Xw(e,t){let r=Gd(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}var Al=null;function Zw(){if(Al===null)try{new FormData(document.createElement("form"),0),Al=!1}catch{Al=!0}return Al}var ej=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vo(e){return e!=null&&!ej.has(e)?(_e(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ni}"`),null):e}function tj(e,t){let r,n,a,l,i;if(qw(e)){let o=e.getAttribute("action");n=o?At(o,t):null,r=e.getAttribute("method")||ri,a=Vo(e.getAttribute("enctype"))||ni,l=new FormData(e)}else if(Kw(e)||Gw(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||o.getAttribute("action");if(n=d?At(d,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||ri,a=Vo(e.getAttribute("formenctype"))||Vo(o.getAttribute("enctype"))||ni,l=new FormData(o,e),!Zw()){let{name:c,type:u,value:f}=e;if(u==="image"){let h=c?`${c}.`:"";l.append(`${h}x`,"0"),l.append(`${h}y`,"0")}else c&&l.append(c,f)}}else{if(Zi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ri,n=null,a=ni,i=e}return l&&a==="text/plain"&&(i=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rj(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&At(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function nj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function aj(e,t,r){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let i=await nj(l,r);return i.links?i.links():[]}return[]}));return dj(n.flat(1).filter(sj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Eh(e,t,r,n,a,l){let i=(d,c)=>r[c]?d.route.id!==r[c].route.id:!0,o=(d,c)=>{var u;return r[c].pathname!==d.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,c)=>i(d,c)||o(d,c)):l==="data"?t.filter((d,c)=>{var f;let u=n.routes[d.route.id];if(!u||!u.hasLoader)return!1;if(i(d,c)||o(d,c))return!0;if(d.route.shouldRevalidate){let h=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function lj(e,t,{includeHydrateFallback:r}={}){return ij(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ij(e){return[...new Set(e)]}function oj(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function dj(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(oj(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}function vg(){let e=E.useContext(Vn);return yu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cj(){let e=E.useContext(nl);return yu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bu=E.createContext(void 0);bu.displayName="FrameworkContext";function wg(){let e=E.useContext(bu);return yu(e,"You must render this element inside a <HydratedRouter> element"),e}function uj(e,t){let r=E.useContext(bu),[n,a]=E.useState(!1),[l,i]=E.useState(!1),{onFocus:o,onBlur:d,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=t,h=E.useRef(null);E.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let b=p=>{p.forEach(g=>{i(g.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),E.useEffect(()=>{if(n){let b=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{a(!0)},x=()=>{a(!1),i(!1)};return r?e!=="intent"?[l,h,{}]:[l,h,{onFocus:na(o,m),onBlur:na(d,x),onMouseEnter:na(c,m),onMouseLeave:na(u,x),onTouchStart:na(f,m)}]:[!1,h,{}]}function na(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function fj({page:e,...t}){let{router:r}=vg(),n=E.useMemo(()=>Mr(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?E.createElement(mj,{page:e,matches:n,...t}):null}function hj(e){let{manifest:t,routeModules:r}=wg(),[n,a]=E.useState([]);return E.useEffect(()=>{let l=!1;return aj(e,t,r).then(i=>{l||a(i)}),()=>{l=!0}},[e,t,r]),n}function mj({page:e,matches:t,...r}){let n=dn(),{future:a,manifest:l,routeModules:i}=wg(),{basename:o}=vg(),{loaderData:d,matches:c}=cj(),u=E.useMemo(()=>Eh(e,t,c,l,n,"data"),[e,t,c,l,n]),f=E.useMemo(()=>Eh(e,t,c,l,n,"assets"),[e,t,c,l,n]),h=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(g=>{var j;let y=l.routes[g.route.id];!y||!y.hasLoader||(!u.some(N=>N.route.id===g.route.id)&&g.route.id in d&&((j=i[g.route.id])!=null&&j.shouldRevalidate)||y.hasClientLoader?w=!0:b.add(g.route.id))}),b.size===0)return[];let p=rj(e,o,a.unstable_trailingSlashAwareDataRequests,"data");return w&&b.size>0&&p.searchParams.set("_routes",t.filter(g=>b.has(g.route.id)).map(g=>g.route.id).join(",")),[p.pathname+p.search]},[o,a.unstable_trailingSlashAwareDataRequests,d,n,l,u,t,e,i]),m=E.useMemo(()=>lj(f,l),[f,l]),x=hj(f);return E.createElement(E.Fragment,null,h.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),m.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),x.map(({key:b,link:w})=>E.createElement("link",{key:b,nonce:r.nonce,...w})))}function pj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var xj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xj&&(window.__reactRouterVersion="7.12.0")}catch{}function gj(e,t){return V0({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:o0({window:t==null?void 0:t.window}),hydrationData:yj(),routes:e,mapRouteProperties:$w,hydrationRouteProperties:Uw,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function yj(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:bj(e.errors)}),e}function bj(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new tl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let i=new l(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let l=new Error(a.message);l.stack="",r[n]=l}}else r[n]=a;return r}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kg=E.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:i,state:o,target:d,to:c,preventScrollReset:u,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},x){let{basename:b,unstable_useTransitions:w}=E.useContext(Ft),p=typeof c=="string"&&jg.test(c),g=eg(c,b);c=g.to;let y=jw(c,{relative:a}),[j,N,P]=uj(n,m),v=kj(c,{replace:i,state:o,target:d,preventScrollReset:u,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:w});function _(O){t&&t(O),O.defaultPrevented||v(O)}let A=E.createElement("a",{...m,...P,href:g.absoluteURL||y,onClick:g.isExternal||l?t:_,ref:pj(x,N),target:d,"data-discover":!p&&r==="render"?"true":void 0});return j&&!p?E.createElement(E.Fragment,null,A,E.createElement(fj,{page:y})):A});kg.displayName="Link";var vj=E.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:i,viewTransition:o,children:d,...c},u){let f=al(i,{relative:c.relative}),h=dn(),m=E.useContext(nl),{navigator:x,basename:b}=E.useContext(Ft),w=m!=null&&Pj(f)&&o===!0,p=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,g=h.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&b&&(y=At(y,b)||y);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let N=g===p||!a&&g.startsWith(p)&&g.charAt(j)==="/",P=y!=null&&(y===p||!a&&y.startsWith(p)&&y.charAt(p.length)==="/"),v={isActive:N,isPending:P,isTransitioning:w},_=N?t:void 0,A;typeof n=="function"?A=n(v):A=[n,N?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(v):l;return E.createElement(kg,{...c,"aria-current":_,className:A,ref:u,style:O,to:i,viewTransition:o},typeof d=="function"?d(v):d)});vj.displayName="NavLink";var wj=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:l,method:i=ri,action:o,onSubmit:d,relative:c,preventScrollReset:u,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},x)=>{let{unstable_useTransitions:b}=E.useContext(Ft),w=Ej(),p=Rj(o,{relative:c}),g=i.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&jg.test(o),j=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,v=(P==null?void 0:P.getAttribute("formmethod"))||i,_=()=>w(P||N.currentTarget,{fetcherKey:t,method:v,navigate:r,replace:a,state:l,relative:c,preventScrollReset:u,viewTransition:f,unstable_defaultShouldRevalidate:h});b&&r!==!1?E.startTransition(()=>_()):_()};return E.createElement("form",{ref:x,method:g,action:p,onSubmit:n?d:j,...m,"data-discover":!y&&e==="render"?"true":void 0})});wj.displayName="Form";function jj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ng(e){let t=E.useContext(Vn);return le(t,jj(e)),t}function kj(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:d}={}){let c=bt(),u=dn(),f=al(e,{relative:l});return E.useCallback(h=>{if(Jw(h,t)){h.preventDefault();let m=r!==void 0?r:ir(u)===ir(f),x=()=>c(e,{replace:m,state:n,preventScrollReset:a,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:o});d?E.startTransition(()=>x()):x()}},[u,c,f,r,n,t,e,a,l,i,o,d])}function Nj(e){_e(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(Gd(e)),r=E.useRef(!1),n=dn(),a=E.useMemo(()=>Xw(n.search,r.current?null:t.current),[n.search]),l=bt(),i=E.useCallback((o,d)=>{const c=Gd(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,l("?"+c,d)},[l,a]);return[a,i]}var Sj=0,Cj=()=>`__${String(++Sj)}__`;function Ej(){let{router:e}=Ng("useSubmit"),{basename:t}=E.useContext(Ft),r=Mw(),n=e.fetch,a=e.navigate;return E.useCallback(async(l,i={})=>{let{action:o,method:d,encType:c,formData:u,body:f}=tj(l,t);if(i.navigate===!1){let h=i.fetcherKey||Cj();await n(h,r,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||d,formEncType:i.encType||c,flushSync:i.flushSync})}else await a(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||d,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function Rj(e,{relative:t}={}){let{basename:r}=E.useContext(Ft),n=E.useContext(qt);le(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...al(e||".",{relative:t})},i=dn();if(e==null){l.search=i.search;let o=new URLSearchParams(l.search),d=o.getAll("index");if(d.some(u=>u==="")){o.delete("index"),d.filter(f=>f).forEach(f=>o.append("index",f));let u=o.toString();l.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:lr([r,l.pathname])),ir(l)}function Pj(e,{relative:t}={}){let r=E.useContext(mu);le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Ng("useViewTransitionState"),a=al(e,{relative:t});if(!r.isTransitioning)return!1;let l=At(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=At(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ti(a.pathname,i)!=null||Ti(a.pathname,l)!=null}function Lj(e){return E.createElement(Hw,{flushSync:Vx.flushSync,...e})}var ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tj={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Dr,mc,km,_j=(km=class{constructor(){X(this,Dr,Tj);X(this,mc,!1)}setTimeoutProvider(e){$(this,Dr,e)}setTimeout(e,t){return C(this,Dr).setTimeout(e,t)}clearTimeout(e){C(this,Dr).clearTimeout(e)}setInterval(e,t){return C(this,Dr).setInterval(e,t)}clearInterval(e){C(this,Dr).clearInterval(e)}},Dr=new WeakMap,mc=new WeakMap,km),jn=new _j;function Oj(e){setTimeout(e,0)}var Un=typeof window>"u"||"Deno"in globalThis;function ut(){}function Mj(e,t){return typeof e=="function"?e(t):e}function Yd(e){return typeof e=="number"&&e>=0&&e!==1/0}function Sg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tn(e,t){return typeof e=="function"?e(t):e}function Lt(e,t){return typeof e=="function"?e(t):e}function Rh(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:l,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==vu(i,t.options))return!1}else if(!Ha(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||l&&!l(t))}function Ph(e,t){const{exact:r,status:n,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Ba(t.options.mutationKey)!==Ba(l))return!1}else if(!Ha(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function vu(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ba)(e)}function Ba(e){return JSON.stringify(e,(t,r)=>Xd(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ha(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ha(e[r],t[r])):!1}var Ij=Object.prototype.hasOwnProperty;function Cg(e,t){if(e===t)return e;const r=Lh(e)&&Lh(t);if(!r&&!(Xd(e)&&Xd(t)))return t;const a=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),i=l.length,o=r?new Array(i):{};let d=0;for(let c=0;c<i;c++){const u=r?c:l[c],f=e[u],h=t[u];if(f===h){o[u]=f,(r?c<a:Ij.call(e,u))&&d++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[u]=h;continue}const m=Cg(f,h);o[u]=m,m===f&&d++}return a===i&&d===a?e:o}function Jd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Lh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xd(e){if(!Th(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Th(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Th(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dj(e){return new Promise(t=>{jn.setTimeout(t,e)})}function Zd(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Cg(e,t):t}function Aj(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Fj(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wu=Symbol();function Eg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Rg(e,t){return typeof e=="function"?e(...t):!!e}function zj(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Nn,Ar,gs,Nm,$j=(Nm=class extends ll{constructor(){super();X(this,Nn);X(this,Ar);X(this,gs);$(this,gs,t=>{if(!Un&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Ar)||this.setEventListener(C(this,gs))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ar))==null||t.call(this),$(this,Ar,void 0))}setEventListener(t){var r;$(this,gs,t),(r=C(this,Ar))==null||r.call(this),$(this,Ar,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,Nn)!==t&&($(this,Nn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,Nn)=="boolean"?C(this,Nn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nn=new WeakMap,Ar=new WeakMap,gs=new WeakMap,Nm),ju=new $j;function ec(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Uj=Oj;function Bj(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Uj;const l=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(d=>{r(d)})})})};return{batch:o=>{let d;t++;try{d=o()}finally{t--,t||i()}return d},batchCalls:o=>(...d)=>{l(()=>{o(...d)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var We=Bj(),ys,Fr,bs,Sm,Hj=(Sm=class extends ll{constructor(){super();X(this,ys,!0);X(this,Fr);X(this,bs);$(this,bs,t=>{if(!Un&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Fr)||this.setEventListener(C(this,bs))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Fr))==null||t.call(this),$(this,Fr,void 0))}setEventListener(t){var r;$(this,bs,t),(r=C(this,Fr))==null||r.call(this),$(this,Fr,t(this.setOnline.bind(this)))}setOnline(t){C(this,ys)!==t&&($(this,ys,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,ys)}},ys=new WeakMap,Fr=new WeakMap,bs=new WeakMap,Sm),_i=new Hj;function Qj(e){return Math.min(1e3*2**e,3e4)}function Pg(e){return(e??"online")==="online"?_i.isOnline():!0}var tc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Lg(e){let t=!1,r=0,n;const a=ec(),l=()=>a.status!=="pending",i=b=>{var w;if(!l()){const p=new tc(b);h(p),(w=e.onCancel)==null||w.call(e,p)}},o=()=>{t=!0},d=()=>{t=!1},c=()=>ju.isFocused()&&(e.networkMode==="always"||_i.isOnline())&&e.canRun(),u=()=>Pg(e.networkMode)&&e.canRun(),f=b=>{l()||(n==null||n(),a.resolve(b))},h=b=>{l()||(n==null||n(),a.reject(b))},m=()=>new Promise(b=>{var w;n=p=>{(l()||c())&&b(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;n=void 0,l()||(b=e.onContinue)==null||b.call(e)}),x=()=>{if(l())return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(p){b=Promise.reject(p)}Promise.resolve(b).then(f).catch(p=>{var P;if(l())return;const g=e.retry??(Un?0:3),y=e.retryDelay??Qj,j=typeof y=="function"?y(r,p):y,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,p);if(t||!N){h(p);return}r++,(P=e.onFail)==null||P.call(e,r,p),Dj(j).then(()=>c()?void 0:m()).then(()=>{t?h(p):x()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:d,canStart:u,start:()=>(u()?x():m().then(x),a)}}var Sn,Cm,Tg=(Cm=class{constructor(){X(this,Sn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yd(this.gcTime)&&$(this,Sn,jn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Un?1/0:5*60*1e3))}clearGcTimeout(){C(this,Sn)&&(jn.clearTimeout(C(this,Sn)),$(this,Sn,void 0))}},Sn=new WeakMap,Cm),Cn,vs,Rt,En,Ue,Va,Rn,Ut,hr,Em,Vj=(Em=class extends Tg{constructor(t){super();X(this,Ut);X(this,Cn);X(this,vs);X(this,Rt);X(this,En);X(this,Ue);X(this,Va);X(this,Rn);$(this,Rn,!1),$(this,Va,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,En,t.client),$(this,Rt,C(this,En).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,Cn,Oh(this.options)),this.state=t.state??C(this,Cn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Va),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Oh(this.options);r.data!==void 0&&(this.setState(_h(r.data,r.dataUpdatedAt)),$(this,Cn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Rt).remove(this)}setData(t,r){const n=Zd(this.state.data,t,this.options);return oe(this,Ut,hr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){oe(this,Ut,hr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=C(this,Ue))==null?void 0:n.promise;return(a=C(this,Ue))==null||a.cancel(t),r?r.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Cn))}isActive(){return this.observers.some(t=>Lt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Sg(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Ue))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Ue))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Rt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Ue)&&(C(this,Rn)?C(this,Ue).cancel({revert:!0}):C(this,Ue).cancelRetry()),this.scheduleGc()),C(this,Rt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||oe(this,Ut,hr).call(this,{type:"invalidate"})}async fetch(t,r){var d,c,u,f,h,m,x,b,w,p,g,y;if(this.state.fetchStatus!=="idle"&&((d=C(this,Ue))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Ue))return C(this,Ue).continueRetry(),C(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>($(this,Rn,!0),n.signal)})},l=()=>{const j=Eg(this.options,r),P=(()=>{const v={client:C(this,En),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return $(this,Rn,!1),this.options.persister?this.options.persister(j,P,this):j(P)},o=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,En),state:this.state,fetchFn:l};return a(j),j})();(c=this.options.behavior)==null||c.onFetch(o,this),$(this,vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&oe(this,Ut,hr).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),$(this,Ue,Lg({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof tc&&j.revert&&this.setState({...C(this,vs),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{oe(this,Ut,hr).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{oe(this,Ut,hr).call(this,{type:"pause"})},onContinue:()=>{oe(this,Ut,hr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await C(this,Ue).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=C(this,Rt).config).onSuccess)==null||m.call(h,j,this),(b=(x=C(this,Rt).config).onSettled)==null||b.call(x,j,this.state.error,this),j}catch(j){if(j instanceof tc){if(j.silent)return C(this,Ue).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw oe(this,Ut,hr).call(this,{type:"error",error:j}),(p=(w=C(this,Rt).config).onError)==null||p.call(w,j,this),(y=(g=C(this,Rt).config).onSettled)==null||y.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Cn=new WeakMap,vs=new WeakMap,Rt=new WeakMap,En=new WeakMap,Ue=new WeakMap,Va=new WeakMap,Rn=new WeakMap,Ut=new WeakSet,hr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._g(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,..._h(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $(this,vs,t.manual?a:void 0),a;case"error":const l=t.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),We.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Rt).notify({query:this,type:"updated",action:t})})},Em);function _g(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pg(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _h(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Oh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ct,de,Wa,st,Pn,ws,xr,zr,Ka,js,ks,Ln,Tn,$r,Ns,pe,ua,rc,nc,sc,ac,lc,ic,oc,Og,Rm,Wj=(Rm=class extends ll{constructor(t,r){super();X(this,pe);X(this,ct);X(this,de);X(this,Wa);X(this,st);X(this,Pn);X(this,ws);X(this,xr);X(this,zr);X(this,Ka);X(this,js);X(this,ks);X(this,Ln);X(this,Tn);X(this,$r);X(this,Ns,new Set);this.options=r,$(this,ct,t),$(this,zr,null),$(this,xr,ec()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,de).addObserver(this),Mh(C(this,de),this.options)?oe(this,pe,ua).call(this):this.updateResult(),oe(this,pe,ac).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dc(C(this,de),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dc(C(this,de),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,oe(this,pe,lc).call(this),oe(this,pe,ic).call(this),C(this,de).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,de);if(this.options=C(this,ct).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lt(this.options.enabled,C(this,de))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");oe(this,pe,oc).call(this),C(this,de).setOptions(this.options),r._defaulted&&!Jd(this.options,r)&&C(this,ct).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,de),observer:this});const a=this.hasListeners();a&&Ih(C(this,de),n,this.options,r)&&oe(this,pe,ua).call(this),this.updateResult(),a&&(C(this,de)!==n||Lt(this.options.enabled,C(this,de))!==Lt(r.enabled,C(this,de))||tn(this.options.staleTime,C(this,de))!==tn(r.staleTime,C(this,de)))&&oe(this,pe,rc).call(this);const l=oe(this,pe,nc).call(this);a&&(C(this,de)!==n||Lt(this.options.enabled,C(this,de))!==Lt(r.enabled,C(this,de))||l!==C(this,$r))&&oe(this,pe,sc).call(this,l)}getOptimisticResult(t){const r=C(this,ct).getQueryCache().build(C(this,ct),t),n=this.createResult(r,t);return qj(this,n)&&($(this,st,n),$(this,ws,this.options),$(this,Pn,C(this,de).state)),n}getCurrentResult(){return C(this,st)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,xr).status==="pending"&&C(this,xr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){C(this,Ns).add(t)}getCurrentQuery(){return C(this,de)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,ct).defaultQueryOptions(t),n=C(this,ct).getQueryCache().build(C(this,ct),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return oe(this,pe,ua).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,st)))}createResult(t,r){var A;const n=C(this,de),a=this.options,l=C(this,st),i=C(this,Pn),o=C(this,ws),c=t!==n?t.state:C(this,Wa),{state:u}=t;let f={...u},h=!1,m;if(r._optimisticResults){const O=this.hasListeners(),B=!O&&Mh(t,r),se=O&&Ih(t,n,r,a);(B||se)&&(f={...f,..._g(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:w}=f;m=f.data;let p=!1;if(r.placeholderData!==void 0&&m===void 0&&w==="pending"){let O;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(O=l.data,p=!0):O=typeof r.placeholderData=="function"?r.placeholderData((A=C(this,ks))==null?void 0:A.state.data,C(this,ks)):r.placeholderData,O!==void 0&&(w="success",m=Zd(l==null?void 0:l.data,O,r),h=!0)}if(r.select&&m!==void 0&&!p)if(l&&m===(i==null?void 0:i.data)&&r.select===C(this,Ka))m=C(this,js);else try{$(this,Ka,r.select),m=r.select(m),m=Zd(l==null?void 0:l.data,m,r),$(this,js,m),$(this,zr,null)}catch(O){$(this,zr,O)}C(this,zr)&&(x=C(this,zr),m=C(this,js),b=Date.now(),w="error");const g=f.fetchStatus==="fetching",y=w==="pending",j=w==="error",N=y&&g,P=m!==void 0,_={status:w,fetchStatus:f.fetchStatus,isPending:y,isSuccess:w==="success",isError:j,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:j&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&P,isStale:ku(t,r),refetch:this.refetch,promise:C(this,xr),isEnabled:Lt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=ue=>{_.status==="error"?ue.reject(_.error):_.data!==void 0&&ue.resolve(_.data)},B=()=>{const ue=$(this,xr,_.promise=ec());O(ue)},se=C(this,xr);switch(se.status){case"pending":t.queryHash===n.queryHash&&O(se);break;case"fulfilled":(_.status==="error"||_.data!==se.value)&&B();break;case"rejected":(_.status!=="error"||_.error!==se.reason)&&B();break}}return _}updateResult(){const t=C(this,st),r=this.createResult(C(this,de),this.options);if($(this,Pn,C(this,de).state),$(this,ws,this.options),C(this,Pn).data!==void 0&&$(this,ks,C(this,de)),Jd(r,t))return;$(this,st,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!C(this,Ns).size)return!0;const i=new Set(l??C(this,Ns));return this.options.throwOnError&&i.add("error"),Object.keys(C(this,st)).some(o=>{const d=o;return C(this,st)[d]!==t[d]&&i.has(d)})};oe(this,pe,Og).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&oe(this,pe,ac).call(this)}},ct=new WeakMap,de=new WeakMap,Wa=new WeakMap,st=new WeakMap,Pn=new WeakMap,ws=new WeakMap,xr=new WeakMap,zr=new WeakMap,Ka=new WeakMap,js=new WeakMap,ks=new WeakMap,Ln=new WeakMap,Tn=new WeakMap,$r=new WeakMap,Ns=new WeakMap,pe=new WeakSet,ua=function(t){oe(this,pe,oc).call(this);let r=C(this,de).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ut)),r},rc=function(){oe(this,pe,lc).call(this);const t=tn(this.options.staleTime,C(this,de));if(Un||C(this,st).isStale||!Yd(t))return;const n=Sg(C(this,st).dataUpdatedAt,t)+1;$(this,Ln,jn.setTimeout(()=>{C(this,st).isStale||this.updateResult()},n))},nc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,de)):this.options.refetchInterval)??!1},sc=function(t){oe(this,pe,ic).call(this),$(this,$r,t),!(Un||Lt(this.options.enabled,C(this,de))===!1||!Yd(C(this,$r))||C(this,$r)===0)&&$(this,Tn,jn.setInterval(()=>{(this.options.refetchIntervalInBackground||ju.isFocused())&&oe(this,pe,ua).call(this)},C(this,$r)))},ac=function(){oe(this,pe,rc).call(this),oe(this,pe,sc).call(this,oe(this,pe,nc).call(this))},lc=function(){C(this,Ln)&&(jn.clearTimeout(C(this,Ln)),$(this,Ln,void 0))},ic=function(){C(this,Tn)&&(jn.clearInterval(C(this,Tn)),$(this,Tn,void 0))},oc=function(){const t=C(this,ct).getQueryCache().build(C(this,ct),this.options);if(t===C(this,de))return;const r=C(this,de);$(this,de,t),$(this,Wa,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Og=function(t){We.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,st))}),C(this,ct).getQueryCache().notify({query:C(this,de),type:"observerResultsUpdated"})})},Rm);function Kj(e,t){return Lt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mh(e,t){return Kj(e,t)||e.state.data!==void 0&&dc(e,t,t.refetchOnMount)}function dc(e,t,r){if(Lt(t.enabled,e)!==!1&&tn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ku(e,t)}return!1}function Ih(e,t,r,n){return(e!==t||Lt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ku(e,r)}function ku(e,t){return Lt(t.enabled,e)!==!1&&e.isStaleByTime(tn(t.staleTime,e))}function qj(e,t){return!Jd(e.getCurrentResult(),t)}function Dh(e){return{onFetch:(t,r)=>{var u,f,h,m,x;const n=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,l=((m=t.state.data)==null?void 0:m.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},d=0;const c=async()=>{let b=!1;const w=y=>{zj(y,()=>t.signal,()=>b=!0)},p=Eg(t.options,t.fetchOptions),g=async(y,j,N)=>{if(b)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const v=(()=>{const B={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(B),B})(),_=await p(v),{maxPages:A}=t.options,O=N?Fj:Aj;return{pages:O(y.pages,_,A),pageParams:O(y.pageParams,j,A)}};if(a&&l.length){const y=a==="backward",j=y?Gj:Ah,N={pages:l,pageParams:i},P=j(n,N);o=await g(N,P,y)}else{const y=e??l.length;do{const j=d===0?i[0]??n.initialPageParam:Ah(n,o);if(d>0&&j==null)break;o=await g(o,j),d++}while(d<y)}return o};t.options.persister?t.fetchFn=()=>{var b,w;return(w=(b=t.options).persister)==null?void 0:w.call(b,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Ah(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Gj(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var qa,er,at,_n,tr,Pr,Pm,Yj=(Pm=class extends Tg{constructor(t){super();X(this,tr);X(this,qa);X(this,er);X(this,at);X(this,_n);$(this,qa,t.client),this.mutationId=t.mutationId,$(this,at,t.mutationCache),$(this,er,[]),this.state=t.state||Jj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,er).includes(t)||(C(this,er).push(t),this.clearGcTimeout(),C(this,at).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,er,C(this,er).filter(r=>r!==t)),this.scheduleGc(),C(this,at).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,er).length||(this.state.status==="pending"?this.scheduleGc():C(this,at).remove(this))}continue(){var t;return((t=C(this,_n))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,d,c,u,f,h,m,x,b,w,p,g,y,j,N,P,v,_,A;const r=()=>{oe(this,tr,Pr).call(this,{type:"continue"})},n={client:C(this,qa),meta:this.options.meta,mutationKey:this.options.mutationKey};$(this,_n,Lg({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(O,B)=>{oe(this,tr,Pr).call(this,{type:"failed",failureCount:O,error:B})},onPause:()=>{oe(this,tr,Pr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,at).canRun(this)}));const a=this.state.status==="pending",l=!C(this,_n).canStart();try{if(a)r();else{oe(this,tr,Pr).call(this,{type:"pending",variables:t,isPaused:l}),await((o=(i=C(this,at).config).onMutate)==null?void 0:o.call(i,t,this,n));const B=await((c=(d=this.options).onMutate)==null?void 0:c.call(d,t,n));B!==this.state.context&&oe(this,tr,Pr).call(this,{type:"pending",context:B,variables:t,isPaused:l})}const O=await C(this,_n).start();return await((f=(u=C(this,at).config).onSuccess)==null?void 0:f.call(u,O,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,O,t,this.state.context,n)),await((b=(x=C(this,at).config).onSettled)==null?void 0:b.call(x,O,null,this.state.variables,this.state.context,this,n)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,O,null,t,this.state.context,n)),oe(this,tr,Pr).call(this,{type:"success",data:O}),O}catch(O){try{await((y=(g=C(this,at).config).onError)==null?void 0:y.call(g,O,t,this.state.context,this,n))}catch(B){Promise.reject(B)}try{await((N=(j=this.options).onError)==null?void 0:N.call(j,O,t,this.state.context,n))}catch(B){Promise.reject(B)}try{await((v=(P=C(this,at).config).onSettled)==null?void 0:v.call(P,void 0,O,this.state.variables,this.state.context,this,n))}catch(B){Promise.reject(B)}try{await((A=(_=this.options).onSettled)==null?void 0:A.call(_,void 0,O,t,this.state.context,n))}catch(B){Promise.reject(B)}throw oe(this,tr,Pr).call(this,{type:"error",error:O}),O}finally{C(this,at).runNext(this)}}},qa=new WeakMap,er=new WeakMap,at=new WeakMap,_n=new WeakMap,tr=new WeakSet,Pr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),We.batch(()=>{C(this,er).forEach(n=>{n.onMutationUpdate(t)}),C(this,at).notify({mutation:this,type:"updated",action:t})})},Pm);function Jj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gr,Bt,Ga,Lm,Xj=(Lm=class extends ll{constructor(t={}){super();X(this,gr);X(this,Bt);X(this,Ga);this.config=t,$(this,gr,new Set),$(this,Bt,new Map),$(this,Ga,0)}build(t,r,n){const a=new Yj({client:t,mutationCache:this,mutationId:++gl(this,Ga)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){C(this,gr).add(t);const r=Fl(t);if(typeof r=="string"){const n=C(this,Bt).get(r);n?n.push(t):C(this,Bt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,gr).delete(t)){const r=Fl(t);if(typeof r=="string"){const n=C(this,Bt).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&C(this,Bt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Fl(t);if(typeof r=="string"){const n=C(this,Bt).get(r),a=n==null?void 0:n.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Fl(t);if(typeof r=="string"){const a=(n=C(this,Bt).get(r))==null?void 0:n.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){We.batch(()=>{C(this,gr).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,gr).clear(),C(this,Bt).clear()})}getAll(){return Array.from(C(this,gr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ph(r,n))}findAll(t={}){return this.getAll().filter(r=>Ph(t,r))}notify(t){We.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return We.batch(()=>Promise.all(t.map(r=>r.continue().catch(ut))))}},gr=new WeakMap,Bt=new WeakMap,Ga=new WeakMap,Lm);function Fl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var rr,Tm,Zj=(Tm=class extends ll{constructor(t={}){super();X(this,rr);this.config=t,$(this,rr,new Map)}build(t,r,n){const a=r.queryKey,l=r.queryHash??vu(a,r);let i=this.get(l);return i||(i=new Vj({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){C(this,rr).has(t.queryHash)||(C(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,rr).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,rr).get(t)}getAll(){return[...C(this,rr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Rh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Rh(t,n)):r}notify(t){We.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,Tm),Le,Ur,Br,Ss,Cs,Hr,Es,Rs,_m,ek=(_m=class{constructor(e={}){X(this,Le);X(this,Ur);X(this,Br);X(this,Ss);X(this,Cs);X(this,Hr);X(this,Es);X(this,Rs);$(this,Le,e.queryCache||new Zj),$(this,Ur,e.mutationCache||new Xj),$(this,Br,e.defaultOptions||{}),$(this,Ss,new Map),$(this,Cs,new Map),$(this,Hr,0)}mount(){gl(this,Hr)._++,C(this,Hr)===1&&($(this,Es,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Le).onFocus())})),$(this,Rs,_i.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Le).onOnline())})))}unmount(){var e,t;gl(this,Hr)._--,C(this,Hr)===0&&((e=C(this,Es))==null||e.call(this),$(this,Es,void 0),(t=C(this,Rs))==null||t.call(this),$(this,Rs,void 0))}isFetching(e){return C(this,Le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Ur).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Le).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,Le).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(tn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,Le).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=C(this,Le).get(n.queryHash),l=a==null?void 0:a.state.data,i=Mj(t,l);if(i!==void 0)return C(this,Le).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return We.batch(()=>C(this,Le).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Le).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,Le);We.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,Le);return We.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=We.batch(()=>C(this,Le).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ut).catch(ut)}invalidateQueries(e,t={}){return We.batch(()=>(C(this,Le).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=We.batch(()=>C(this,Le).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(ut)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(ut)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,Le).build(this,t);return r.isStaleByTime(tn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ut).catch(ut)}fetchInfiniteQuery(e){return e.behavior=Dh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ut).catch(ut)}ensureInfiniteQueryData(e){return e.behavior=Dh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _i.isOnline()?C(this,Ur).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Le)}getMutationCache(){return C(this,Ur)}getDefaultOptions(){return C(this,Br)}setDefaultOptions(e){$(this,Br,e)}setQueryDefaults(e,t){C(this,Ss).set(Ba(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Ss).values()],r={};return t.forEach(n=>{Ha(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Cs).set(Ba(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Cs).values()],r={};return t.forEach(n=>{Ha(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Br).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Br).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Le).clear(),C(this,Ur).clear()}},Le=new WeakMap,Ur=new WeakMap,Br=new WeakMap,Ss=new WeakMap,Cs=new WeakMap,Hr=new WeakMap,Es=new WeakMap,Rs=new WeakMap,_m),Mg=E.createContext(void 0),Ig=e=>{const t=E.useContext(Mg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tk=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Mg.Provider,{value:e,children:t})),Dg=E.createContext(!1),rk=()=>E.useContext(Dg);Dg.Provider;function nk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sk=E.createContext(nk()),ak=()=>E.useContext(sk),lk=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Rg(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},ik=e=>{E.useEffect(()=>{e.clearReset()},[e])},ok=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Rg(r,[e.error,n])),dk=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ck=(e,t)=>e.isLoading&&e.isFetching&&!t,uk=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Fh=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function fk(e,t,r){var h,m,x,b;const n=rk(),a=ak(),l=Ig(),i=l.defaultQueryOptions(e);(m=(h=l.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,i);const o=l.getQueryCache().get(i.queryHash);i._optimisticResults=n?"isRestoring":"optimistic",dk(i),lk(i,a,o),ik(a);const d=!l.getQueryCache().get(i.queryHash),[c]=E.useState(()=>new t(l,i)),u=c.getOptimisticResult(i),f=!n&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(w=>{const p=f?c.subscribe(We.batchCalls(w)):ut;return c.updateResult(),p},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(i)},[i,c]),uk(i,u))throw Fh(i,c,a);if(ok({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw u.error;if((b=(x=l.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||b.call(x,i,u),i.experimental_prefetchInRender&&!Un&&ck(u,n)){const w=d?Fh(i,c,a):o==null?void 0:o.promise;w==null||w.catch(ut).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function hk(e,t){return fk(e,Wj)}const mk=E.createContext({theme:"light",setTheme:()=>{}});function pk({children:e}){const[t,r]=E.useState("light"),n=E.useMemo(()=>new ek({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),[]);return s.jsx(mk.Provider,{value:{theme:t,setTheme:r},children:s.jsx(tk,{client:n,children:e})})}const xk=({items:e,onNavigate:t})=>s.jsx("nav",{"aria-label":"",className:"text-sm text-text-secondary mb-4",children:e.map((r,n)=>{const a=n===e.length-1;return s.jsxs("span",{className:"inline-flex items-center",children:[!a&&r.to?s.jsx("button",{type:"button",className:"hover:text-primary",onClick:()=>t==null?void 0:t(r.to),children:r.label}):s.jsx("span",{className:"text-text-main",children:r.label}),a?null:s.jsx("span",{className:"mx-2","aria-hidden":!0,children:"/"})]},`${r.label}-${n}`)})}),Ag=()=>s.jsxs("header",{className:"h-14 px-4 flex items-center justify-between border-b border-border-light bg-white",role:"banner",children:[s.jsx("h1",{className:"text-base font-bold",children:""}),s.jsxs("div",{className:"text-sm text-text-secondary","aria-label":"user-menu",children:[s.jsx("span",{className:"material-symbols-outlined align-middle text-base mr-1",children:"person"}),""]})]}),K={login:"/login",dashboard:"/",courseSchedule:"/courses/schedule",courseDetail:"/courses/:courseId",courseEdit:"/courses/:courseId/edit",liveTeaching:"/live",recordings:"/recordings",resourceLibrary:"/resources",assignmentManagement:"/assignments",gradingWorkspace:"/assignments/grading",gradebook:"/assignments/gradebook",examManagement:"/exams",studentList:"/students",studentProfile:"/students/:studentId",questionBank:"/question-bank",teachingAnalytics:"/analytics",inbox:"/inbox",settings:"/settings",collaborationReview:"/collaboration/review"},Fg=({onNavigate:e})=>s.jsx("aside",{className:"w-60 bg-surface-light border-r border-border-light h-screen sticky top-0 p-4","aria-label":"",children:s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.dashboard),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.courseSchedule),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.assignmentManagement),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.gradingWorkspace),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.gradebook),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.examManagement),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.questionBank),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.recordings),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.resourceLibrary),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.teachingAnalytics),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.studentList),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.inbox),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.collaborationReview),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.settings),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(K.liveTeaching),"aria-label":"",children:""})]})}),gk=({children:e,onNavigate:t,breadcrumbItems:r})=>s.jsxs("div",{className:"flex min-h-screen bg-background-light text-text-main",role:"application",children:[s.jsx(Fg,{onNavigate:t}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(Ag,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-6",role:"main",children:[s.jsx(xk,{items:r,onNavigate:t}),e]})]})]}),yk=()=>{const e=bt(),t=(Qo==null?void 0:Qo())??[],r=S.useMemo(()=>{const n=t.filter(a=>{var l;return(l=a==null?void 0:a.handle)==null?void 0:l.title});return n.map((a,l)=>{const i=l===n.length-1;return{label:String(a.handle.title),to:!i&&a.pathname?String(a.pathname):void 0}})},[t]);return s.jsx(gk,{onNavigate:n=>e(n),breadcrumbItems:r,children:s.jsx(Xi,{})})},bk=({children:e,onBack:t})=>s.jsxs("div",{className:"min-h-screen bg-black text-white",role:"presentation",children:[s.jsxs("header",{className:"h-12 px-4 flex items-center border-b border-white/10","aria-label":"",children:[s.jsxs("button",{type:"button",className:"text-sm font-medium flex items-center gap-1",onClick:t,"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"}),""]}),s.jsx("span",{className:"ml-3 text-sm text-white/80",children:""})]}),s.jsx("main",{className:"min-h-[calc(100vh-3rem)]",role:"main",children:e})]}),vk=()=>{const e=bt();return s.jsx(bk,{onBack:()=>e(-1),children:s.jsx(Xi,{})})},wk=({children:e,onNavigate:t})=>s.jsxs("div",{className:"flex min-h-screen bg-background-light text-text-main",role:"application",children:[s.jsx(Fg,{onNavigate:t}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(Ag,{}),s.jsx("main",{className:"flex-1 overflow-y-auto",role:"main",children:e})]})]}),jk=()=>{const e=bt();return s.jsx(wk,{onNavigate:t=>e(t),children:s.jsx(Xi,{})})},eo=({children:e})=>s.jsx("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-text-main dark:text-white",children:e}),kk=()=>s.jsx(eo,{children:s.jsx(Xi,{})}),zh={urgent:"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300",normal:"bg-input-bg dark:bg-slate-700 text-text-secondary",completed:"bg-green-50 text-green-600",review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",pending:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300",draft:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300",published:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",closed:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"},Nk={urgent:"",normal:"",completed:"",review:"",pending:"",draft:"",published:"",closed:""},Nu=({id:e,title:t,classLabel:r,submittedAt:n,ungradedCount:a,status:l,note:i,size:o,onClick:d,onAction:c})=>{const u=l==="completed";return s.jsxs("li",{className:`bg-white dark:bg-slate-800/50 hover:bg-input-bg dark:hover:bg-slate-700/80 p-3 rounded-lg cursor-pointer transition-colors group border border-transparent hover:border-border-color dark:hover:border-slate-600 ${u?"opacity-70 hover:opacity-100":""}`,onClick:()=>d==null?void 0:d(e),role:"listitem","aria-label":t,children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[r?s.jsx("span",{className:`text-[10px] font-bold tracking-wide px-1.5 py-0.5 rounded uppercase ${zh[l]}`,children:r}):s.jsx("span",{className:`text-[10px] font-bold tracking-wide px-1.5 py-0.5 rounded uppercase ${zh[l]}`,children:Nk[l]}),n?s.jsx("span",{className:"text-[10px] text-text-secondary",children:n}):null]}),s.jsx("h4",{className:"font-bold text-text-main dark:text-slate-200 text-sm mb-3 group-hover:text-primary transition-colors line-clamp-1",children:t}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-text-secondary font-medium flex items-center gap-2",children:[typeof a=="number"?s.jsxs("span",{children:["",a," "]}):null,o?s.jsx("span",{children:o}):null,i?s.jsx("span",{className:"flex items-center gap-1 text-orange-600 bg-orange-50 dark:bg-orange-900/20 px-1.5 py-0.5 rounded text-[11px]",children:i}):null]}),u?s.jsxs("span",{className:"text-[10px] font-bold text-green-600 flex items-center gap-1 bg-green-50 px-2 py-0.5 rounded","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," "]}):s.jsx("button",{type:"button",className:"text-[10px] font-bold bg-white dark:bg-slate-600 border border-border-color dark:border-slate-500 px-2 py-1 rounded text-text-main dark:text-slate-300 group-hover:bg-primary group-hover:text-white group-hover:border-primary transition-colors shadow-sm",onClick:f=>{f.stopPropagation(),c==null||c(e)},"aria-label":"",children:""})]})]})},Sk=({assignments:e,onSelect:t,onAction:r,onFilterChange:n,pagination:a,onPageChange:l})=>{const[i,o]=S.useState(""),[d,c]=S.useState(""),[u,f]=S.useState("");return S.useEffect(()=>{n==null||n({courseId:i||void 0,status:d||void 0,dueBefore:u||void 0})},[i,d,u,n]),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ID",s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",placeholder:" courseId",value:i,onChange:h=>o(h.target.value)})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:d,onChange:h=>c(h.target.value||""),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"published",children:""}),s.jsx("option",{value:"closed",children:""}),s.jsx("option",{value:"pending",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"urgent",children:""}),s.jsx("option",{value:"normal",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",type:"date",value:u,onChange:h=>f(h.target.value)})]})]}),s.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",role:"list",children:e.map(h=>s.jsx(Nu,{...h,status:h.status,onClick:t,onAction:r},h.id))}),e.length===0?s.jsx("div",{className:"text-sm text-text-secondary",children:""}):null,a?s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[s.jsxs("div",{children:[" ",a.page,"  ",Math.ceil(Math.max(1,a.total)/a.pageSize)," ",a.total," "]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded border border-border-light disabled:opacity-50",onClick:()=>l==null?void 0:l(Math.max(1,a.page-1)),disabled:a.page<=1,children:""}),s.jsx("button",{className:"px-2 py-1 rounded border border-border-light disabled:opacity-50",onClick:()=>l==null?void 0:l(a.page+1),disabled:a.page*a.pageSize>=a.total,children:""})]})]}):null]})},zg=({open:e,onClose:t,title:r,children:n})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-10",children:[s.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-60","aria-hidden":!0,onClick:t}),s.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-border-light dark:border-border-dark w-full max-w-lg overflow-hidden",children:[s.jsxs("div",{className:"px-4 pt-4 pb-2 sm:px-6 flex items-start justify-between",children:[r?s.jsx("h3",{className:"text-lg font-medium text-text-main dark:text-white",children:r}):s.jsx("span",{}),s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main hover:bg-black/5 rounded-full p-1 transition-colors","aria-label":"",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsx("div",{className:"px-4 pb-4 sm:px-6",children:n})]})]}):null,Ck=({open:e,onClose:t,onSave:r,initialAssignment:n})=>{const[a,l]=S.useState(""),[i,o]=S.useState(""),[d,c]=S.useState(""),[u,f]=S.useState(""),[h,m]=S.useState(""),[x,b]=S.useState(""),[w,p]=S.useState("draft"),[g,y]=S.useState(!1);S.useEffect(()=>{n?(l(n.title),o(n.note??""),c(n.dueAt??""),f(n.courseId??""),m(n.size??""),b(""),p(n.status)):(l(""),o(""),c(""),f(""),m(""),b(""),p("draft"))},[n]);const j=async P=>{P.preventDefault(),y(!0),await r({title:a,note:i,dueAt:d||void 0,courseId:u||"unknown-course",size:h||void 0,status:w}),y(!1),t()},N=()=>{b("Q-101, Q-205")};return s.jsx(zg,{open:e,onClose:t,title:n?"":"",children:s.jsxs("form",{className:"space-y-4",onSubmit:j,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:a,onChange:P=>l(P.target.value),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("textarea",{className:"min-h-[80px] px-3 py-2 rounded-lg border border-border-light",value:i,onChange:P=>o(P.target.value),placeholder:""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ID",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:u,onChange:P=>f(P.target.value),placeholder:"course-001"})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"datetime-local",value:d,onChange:P=>c(P.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light",value:w,onChange:P=>p(P.target.value),children:[s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"published",children:""}),s.jsx("option",{value:"closed",children:""}),s.jsx("option",{value:"pending",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"urgent",children:""}),s.jsx("option",{value:"normal",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:h,onChange:P=>m(P.target.value),placeholder:"PPTPDF"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light flex-1",value:x,onChange:P=>b(P.target.value),placeholder:" ID "}),s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light bg-white text-xs",onClick:N,children:""})]}),s.jsx("p",{className:"text-[11px] text-text-tertiary",children:"TODO: "})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",onClick:t,children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:g,children:g?"...":""})]})]})})};function $g(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ek}=Object.prototype,{getPrototypeOf:Su}=Object,{iterator:to,toStringTag:Ug}=Symbol,ro=(e=>t=>{const r=Ek.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=e=>(e=e.toLowerCase(),t=>ro(t)===e),no=e=>t=>typeof t===e,{isArray:Bs}=Array,Ds=no("undefined");function il(e){return e!==null&&!Ds(e)&&e.constructor!==null&&!Ds(e.constructor)&&gt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bg=Gt("ArrayBuffer");function Rk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Bg(e.buffer),t}const Pk=no("string"),gt=no("function"),Hg=no("number"),ol=e=>e!==null&&typeof e=="object",Lk=e=>e===!0||e===!1,si=e=>{if(ro(e)!=="object")return!1;const t=Su(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ug in e)&&!(to in e)},Tk=e=>{if(!ol(e)||il(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},_k=Gt("Date"),Ok=Gt("File"),Mk=Gt("Blob"),Ik=Gt("FileList"),Dk=e=>ol(e)&&gt(e.pipe),Ak=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gt(e.append)&&((t=ro(e))==="formdata"||t==="object"&&gt(e.toString)&&e.toString()==="[object FormData]"))},Fk=Gt("URLSearchParams"),[zk,$k,Uk,Bk]=["ReadableStream","Request","Response","Headers"].map(Gt),Hk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Bs(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(il(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function Qg(e,t){if(il(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const kn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Vg=e=>!Ds(e)&&e!==kn;function cc(){const{caseless:e,skipUndefined:t}=Vg(this)&&this||{},r={},n=(a,l)=>{const i=e&&Qg(r,l)||l;si(r[i])&&si(a)?r[i]=cc(r[i],a):si(a)?r[i]=cc({},a):Bs(a)?r[i]=a.slice():(!t||!Ds(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&dl(arguments[a],n);return r}const Qk=(e,t,r,{allOwnKeys:n}={})=>(dl(t,(a,l)=>{r&&gt(a)?e[l]=$g(a,r):e[l]=a},{allOwnKeys:n}),e),Vk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Kk=(e,t,r,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&Su(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},qk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Gk=e=>{if(!e)return null;if(Bs(e))return e;let t=e.length;if(!Hg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Yk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Su(Uint8Array)),Jk=(e,t)=>{const n=(e&&e[to]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Xk=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Zk=Gt("HTMLFormElement"),e1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),$h=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),t1=Gt("RegExp"),Wg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};dl(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},r1=e=>{Wg(e,(t,r)=>{if(gt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(gt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n1=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return Bs(e)?n(e):n(String(e).split(t)),r},s1=()=>{},a1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function l1(e){return!!(e&&gt(e.append)&&e[Ug]==="FormData"&&e[to])}const i1=e=>{const t=new Array(10),r=(n,a)=>{if(ol(n)){if(t.indexOf(n)>=0)return;if(il(n))return n;if(!("toJSON"in n)){t[a]=n;const l=Bs(n)?[]:{};return dl(n,(i,o)=>{const d=r(i,a+1);!Ds(d)&&(l[o]=d)}),t[a]=void 0,l}}return n};return r(e,0)},o1=Gt("AsyncFunction"),d1=e=>e&&(ol(e)||gt(e))&&gt(e.then)&&gt(e.catch),Kg=((e,t)=>e?setImmediate:t?((r,n)=>(kn.addEventListener("message",({source:a,data:l})=>{a===kn&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),kn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gt(kn.postMessage)),c1=typeof queueMicrotask<"u"?queueMicrotask.bind(kn):typeof process<"u"&&process.nextTick||Kg,u1=e=>e!=null&&gt(e[to]),T={isArray:Bs,isArrayBuffer:Bg,isBuffer:il,isFormData:Ak,isArrayBufferView:Rk,isString:Pk,isNumber:Hg,isBoolean:Lk,isObject:ol,isPlainObject:si,isEmptyObject:Tk,isReadableStream:zk,isRequest:$k,isResponse:Uk,isHeaders:Bk,isUndefined:Ds,isDate:_k,isFile:Ok,isBlob:Mk,isRegExp:t1,isFunction:gt,isStream:Dk,isURLSearchParams:Fk,isTypedArray:Yk,isFileList:Ik,forEach:dl,merge:cc,extend:Qk,trim:Hk,stripBOM:Vk,inherits:Wk,toFlatObject:Kk,kindOf:ro,kindOfTest:Gt,endsWith:qk,toArray:Gk,forEachEntry:Jk,matchAll:Xk,isHTMLForm:Zk,hasOwnProperty:$h,hasOwnProp:$h,reduceDescriptors:Wg,freezeMethods:r1,toObjectSet:n1,toCamelCase:e1,noop:s1,toFiniteNumber:a1,findKey:Qg,global:kn,isContextDefined:Vg,isSpecCompliantForm:l1,toJSONObject:i1,isAsyncFn:o1,isThenable:d1,setImmediate:Kg,asap:c1,isIterable:u1};function re(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const qg=re.prototype,Gg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gg[e]={value:e}});Object.defineProperties(re,Gg);Object.defineProperty(qg,"isAxiosError",{value:!0});re.from=(e,t,r,n,a,l)=>{const i=Object.create(qg);T.toFlatObject(e,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return re.call(i,o,d,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const f1=null;function uc(e){return T.isPlainObject(e)||T.isArray(e)}function Yg(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Uh(e,t,r){return e?e.concat(t).map(function(a,l){return a=Yg(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function h1(e){return T.isArray(e)&&!e.some(uc)}const m1=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function so(e,t,r){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!T.isUndefined(w[b])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(T.isDate(x))return x.toISOString();if(T.isBoolean(x))return x.toString();if(!d&&T.isBlob(x))throw new re("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(x)||T.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,b,w){let p=x;if(x&&!w&&typeof x=="object"){if(T.endsWith(b,"{}"))b=n?b:b.slice(0,-2),x=JSON.stringify(x);else if(T.isArray(x)&&h1(x)||(T.isFileList(x)||T.endsWith(b,"[]"))&&(p=T.toArray(x)))return b=Yg(b),p.forEach(function(y,j){!(T.isUndefined(y)||y===null)&&t.append(i===!0?Uh([b],j,l):i===null?b:b+"[]",c(y))}),!1}return uc(x)?!0:(t.append(Uh(w,b,l),c(x)),!1)}const f=[],h=Object.assign(m1,{defaultVisitor:u,convertValue:c,isVisitable:uc});function m(x,b){if(!T.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(x),T.forEach(x,function(p,g){(!(T.isUndefined(p)||p===null)&&a.call(t,p,T.isString(g)?g.trim():g,b,h))===!0&&m(p,b?b.concat(g):[g])}),f.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Bh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cu(e,t){this._pairs=[],e&&so(e,this,t)}const Jg=Cu.prototype;Jg.append=function(t,r){this._pairs.push([t,r])};Jg.toString=function(t){const r=t?function(n){return t.call(this,n,Bh)}:Bh;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function p1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xg(e,t,r){if(!t)return e;const n=r&&r.encode||p1;T.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=T.isURLSearchParams(t)?t.toString():new Cu(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Hh{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Zg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x1=typeof URLSearchParams<"u"?URLSearchParams:Cu,g1=typeof FormData<"u"?FormData:null,y1=typeof Blob<"u"?Blob:null,b1={isBrowser:!0,classes:{URLSearchParams:x1,FormData:g1,Blob:y1},protocols:["http","https","file","blob","url","data"]},Eu=typeof window<"u"&&typeof document<"u",fc=typeof navigator=="object"&&navigator||void 0,v1=Eu&&(!fc||["ReactNative","NativeScript","NS"].indexOf(fc.product)<0),w1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j1=Eu&&window.location.href||"http://localhost",k1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Eu,hasStandardBrowserEnv:v1,hasStandardBrowserWebWorkerEnv:w1,navigator:fc,origin:j1},Symbol.toStringTag,{value:"Module"})),tt={...k1,...b1};function N1(e,t){return so(e,new tt.classes.URLSearchParams,{visitor:function(r,n,a,l){return tt.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function S1(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function C1(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function ey(e){function t(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),d=l>=r.length;return i=!i&&T.isArray(a)?a.length:i,d?(T.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!T.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],l)&&T.isArray(a[i])&&(a[i]=C1(a[i])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(n,a)=>{t(S1(n),a,r,0)}),r}return null}function E1(e,t,r){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const cl={transitional:Zg,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=T.isObject(t);if(l&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(ey(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return N1(t,this.formSerializer).toString();if((o=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return so(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),E1(t)):t}],transformResponse:[function(t){const r=this.transitional||cl.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?re.from(o,re.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{cl.headers[e]={}});const R1=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P1=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&R1[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Qh=Symbol("internals");function sa(e){return e&&String(e).trim().toLowerCase()}function ai(e){return e===!1||e==null?e:T.isArray(e)?e.map(ai):String(e)}function L1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const T1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wo(e,t,r,n,a){if(T.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function _1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function O1(e,t){const r=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}let yt=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(o,d,c){const u=sa(d);if(!u)throw new Error("header name must be a non-empty string");const f=T.findKey(a,u);(!f||a[f]===void 0||c===!0||c===void 0&&a[f]!==!1)&&(a[f||d]=ai(o))}const i=(o,d)=>T.forEach(o,(c,u)=>l(c,u,d));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(T.isString(t)&&(t=t.trim())&&!T1(t))i(P1(t),r);else if(T.isObject(t)&&T.isIterable(t)){let o={},d,c;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(d=o[c])?T.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=sa(t),t){const n=T.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return L1(a);if(T.isFunction(r))return r.call(this,a,n);if(T.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=sa(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wo(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(i){if(i=sa(i),i){const o=T.findKey(n,i);o&&(!r||Wo(n,n[o],o,r))&&(delete n[o],a=!0)}}return T.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||Wo(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return T.forEach(this,(a,l)=>{const i=T.findKey(n,l);if(i){r[i]=ai(a),delete r[l];return}const o=t?_1(l):String(l).trim();o!==l&&delete r[l],r[o]=ai(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Qh]=this[Qh]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=sa(i);n[o]||(O1(a,i),n[o]=!0)}return T.isArray(t)?t.forEach(l):l(t),this}};yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(yt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});T.freezeMethods(yt);function Ko(e,t){const r=this||cl,n=t||r,a=yt.from(n.headers);let l=n.data;return T.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function ty(e){return!!(e&&e.__CANCEL__)}function Hs(e,t,r){re.call(this,e??"canceled",re.ERR_CANCELED,t,r),this.name="CanceledError"}T.inherits(Hs,re,{__CANCEL__:!0});function ry(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new re("Request failed with status code "+r.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function M1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function I1(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[l];i||(i=c),r[a]=d,n[a]=c;let f=l,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),c-i<t)return;const m=u&&c-u;return m?Math.round(h*1e3/m):void 0}}function D1(e,t){let r=0,n=1e3/t,a,l;const i=(c,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-r;f>=n?i(c,u):(a=c,l||(l=setTimeout(()=>{l=null,i(a)},n-f)))},()=>a&&i(a)]}const Oi=(e,t,r=3)=>{let n=0;const a=I1(50,250);return D1(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,d=i-n,c=a(d),u=i<=o;n=i;const f={loaded:i,total:o,progress:o?i/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(f)},r)},Vh=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Wh=e=>(...t)=>T.asap(()=>e(...t)),A1=tt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,tt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,F1=tt.hasStandardBrowserEnv?{write(e,t,r,n,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];T.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),T.isString(n)&&o.push(`path=${n}`),T.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),T.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function z1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ny(e,t,r){let n=!z1(t);return e&&(n||r==!1)?$1(e,t):t}const Kh=e=>e instanceof yt?{...e}:e;function Bn(e,t){t=t||{};const r={};function n(c,u,f,h){return T.isPlainObject(c)&&T.isPlainObject(u)?T.merge.call({caseless:h},c,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function a(c,u,f,h){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c,f,h)}else return n(c,u,f,h)}function l(c,u){if(!T.isUndefined(u))return n(void 0,u)}function i(c,u){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,f){if(f in t)return n(c,u);if(f in e)return n(void 0,c)}const d={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,u,f)=>a(Kh(c),Kh(u),f,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const f=d[u]||a,h=f(e[u],t[u],u);T.isUndefined(h)&&f!==o||(r[u]=h)}),r}const sy=e=>{const t=Bn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=yt.from(i),t.url=Xg(ny(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(r)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,f])=>{c.includes(u.toLowerCase())&&i.set(u,f)})}}if(tt.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&A1(t.url))){const d=a&&l&&F1.read(l);d&&i.set(a,d)}return t},U1=typeof XMLHttpRequest<"u",B1=U1&&function(e){return new Promise(function(r,n){const a=sy(e);let l=a.data;const i=yt.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=a,u,f,h,m,x;function b(){m&&m(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function p(){if(!w)return;const y=yt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:y,config:e,request:w};ry(function(v){r(v),b()},function(v){n(v),b()},N),w=null}"onloadend"in w?w.onloadend=p:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(p)},w.onabort=function(){w&&(n(new re("Request aborted",re.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const N=j&&j.message?j.message:"Network Error",P=new re(N,re.ERR_NETWORK,e,w);P.event=j||null,n(P),w=null},w.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||Zg;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new re(j,N.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,w)),w=null},l===void 0&&i.setContentType(null),"setRequestHeader"in w&&T.forEach(i.toJSON(),function(j,N){w.setRequestHeader(N,j)}),T.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),c&&([h,x]=Oi(c,!0),w.addEventListener("progress",h)),d&&w.upload&&([f,m]=Oi(d),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=y=>{w&&(n(!y||y.type?new Hs(null,e,w):y),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const g=M1(a.url);if(g&&tt.protocols.indexOf(g)===-1){n(new re("Unsupported protocol "+g+":",re.ERR_BAD_REQUEST,e));return}w.send(l||null)})},H1=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(c){if(!a){a=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof re?u:new Hs(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),e=null)};e.forEach(c=>c.addEventListener("abort",l));const{signal:d}=n;return d.unsubscribe=()=>T.asap(o),d}},Q1=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},V1=async function*(e,t){for await(const r of W1(e))yield*Q1(r,t)},W1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},qh=(e,t,r,n)=>{const a=V1(e,t);let l=0,i,o=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){o(),d.close();return}let f=u.byteLength;if(r){let h=l+=f;r(h)}d.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(d){return o(d),a.return()}},{highWaterMark:2})},Gh=64*1024,{isFunction:zl}=T,K1=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Yh,TextEncoder:Jh}=T.global,Xh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},q1=e=>{e=T.merge.call({skipUndefined:!0},K1,e);const{fetch:t,Request:r,Response:n}=e,a=t?zl(t):typeof fetch=="function",l=zl(r),i=zl(n);if(!a)return!1;const o=a&&zl(Yh),d=a&&(typeof Jh=="function"?(x=>b=>x.encode(b))(new Jh):async x=>new Uint8Array(await new r(x).arrayBuffer())),c=l&&o&&Xh(()=>{let x=!1;const b=new r(tt.origin,{body:new Yh,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),u=i&&o&&Xh(()=>T.isReadableStream(new n("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(b,w)=>{let p=b&&b[x];if(p)return p.call(b);throw new re(`Response type '${x}' is not supported`,re.ERR_NOT_SUPPORT,w)})});const h=async x=>{if(x==null)return 0;if(T.isBlob(x))return x.size;if(T.isSpecCompliantForm(x))return(await new r(tt.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(T.isArrayBufferView(x)||T.isArrayBuffer(x))return x.byteLength;if(T.isURLSearchParams(x)&&(x=x+""),T.isString(x))return(await d(x)).byteLength},m=async(x,b)=>{const w=T.toFiniteNumber(x.getContentLength());return w??h(b)};return async x=>{let{url:b,method:w,data:p,signal:g,cancelToken:y,timeout:j,onDownloadProgress:N,onUploadProgress:P,responseType:v,headers:_,withCredentials:A="same-origin",fetchOptions:O}=sy(x),B=t||fetch;v=v?(v+"").toLowerCase():"text";let se=H1([g,y&&y.toAbortSignal()],j),ue=null;const z=se&&se.unsubscribe&&(()=>{se.unsubscribe()});let ge;try{if(P&&c&&w!=="get"&&w!=="head"&&(ge=await m(_,p))!==0){let ee=new r(b,{method:"POST",body:p,duplex:"half"}),ae;if(T.isFormData(p)&&(ae=ee.headers.get("content-type"))&&_.setContentType(ae),ee.body){const[Ie,ke]=Vh(ge,Oi(Wh(P)));p=qh(ee.body,Gh,Ie,ke)}}T.isString(A)||(A=A?"include":"omit");const Z=l&&"credentials"in r.prototype,me={...O,signal:se,method:w.toUpperCase(),headers:_.normalize().toJSON(),body:p,duplex:"half",credentials:Z?A:void 0};ue=l&&new r(b,me);let M=await(l?B(ue,O):B(b,me));const V=u&&(v==="stream"||v==="response");if(u&&(N||V&&z)){const ee={};["status","statusText","headers"].forEach(Ne=>{ee[Ne]=M[Ne]});const ae=T.toFiniteNumber(M.headers.get("content-length")),[Ie,ke]=N&&Vh(ae,Oi(Wh(N),!0))||[];M=new n(qh(M.body,Gh,Ie,()=>{ke&&ke(),z&&z()}),ee)}v=v||"text";let W=await f[T.findKey(f,v)||"text"](M,x);return!V&&z&&z(),await new Promise((ee,ae)=>{ry(ee,ae,{data:W,headers:yt.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:ue})})}catch(Z){throw z&&z(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,x,ue),{cause:Z.cause||Z}):re.from(Z,Z&&Z.code,x,ue)}}},G1=new Map,ay=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,l=[n,a,r];let i=l.length,o=i,d,c,u=G1;for(;o--;)d=l[o],c=u.get(d),c===void 0&&u.set(d,c=o?new Map:q1(t)),u=c;return c};ay();const Ru={http:f1,xhr:B1,fetch:{get:ay}};T.forEach(Ru,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zh=e=>`- ${e}`,Y1=e=>T.isFunction(e)||e===null||e===!1;function J1(e,t){e=T.isArray(e)?e:[e];const{length:r}=e;let n,a;const l={};for(let i=0;i<r;i++){n=e[i];let o;if(a=n,!Y1(n)&&(a=Ru[(o=String(n)).toLowerCase()],a===void 0))throw new re(`Unknown adapter '${o}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(Zh).join(`
`):" "+Zh(i[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const ly={getAdapter:J1,adapters:Ru};function qo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hs(null,e)}function em(e){return qo(e),e.headers=yt.from(e.headers),e.data=Ko.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ly.getAdapter(e.adapter||cl.adapter,e)(e).then(function(n){return qo(e),n.data=Ko.call(e,e.transformResponse,n),n.headers=yt.from(n.headers),n},function(n){return ty(n)||(qo(e),n&&n.response&&(n.response.data=Ko.call(e,e.transformResponse,n.response),n.response.headers=yt.from(n.response.headers))),Promise.reject(n)})}const iy="1.13.2",ao={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ao[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const tm={};ao.transitional=function(t,r,n){function a(l,i){return"[Axios v"+iy+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new re(a(i," has been removed"+(r?" in "+r:"")),re.ERR_DEPRECATED);return r&&!tm[i]&&(tm[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};ao.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function X1(e,t,r){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],d=o===void 0||i(o,l,e);if(d!==!0)throw new re("option "+l+" must be "+d,re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new re("Unknown option "+l,re.ERR_BAD_OPTION)}}const li={assertOptions:X1,validators:ao},Xt=li.validators;let In=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hh,response:new Hh}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Bn(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&li.assertOptions(n,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),a!=null&&(T.isFunction(a)?r.paramsSerializer={serialize:a}:li.assertOptions(a,{encode:Xt.function,serialize:Xt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),li.assertOptions(r,{baseUrl:Xt.spelling("baseURL"),withXsrfToken:Xt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&T.merge(l.common,l[r.method]);l&&T.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),r.headers=yt.concat(i,l);const o=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(d=d&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,h;if(!d){const x=[em.bind(this),void 0];for(x.unshift(...o),x.push(...c),h=x.length,u=Promise.resolve(r);f<h;)u=u.then(x[f++],x[f++]);return u}h=o.length;let m=r;for(;f<h;){const x=o[f++],b=o[f++];try{m=x(m)}catch(w){b.call(this,w);break}}try{u=em.call(this,m)}catch(x){return Promise.reject(x)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Bn(this.defaults,t);const r=ny(t.baseURL,t.url,t.allowAbsoluteUrls);return Xg(r,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){In.prototype[t]=function(r,n){return this.request(Bn(n||{},{method:t,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request(Bn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}In.prototype[t]=r(),In.prototype[t+"Form"]=r(!0)});let Z1=class oy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new Hs(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new oy(function(a){t=a}),cancel:t}}};function eN(e){return function(r){return e.apply(null,r)}}function tN(e){return T.isObject(e)&&e.isAxiosError===!0}const hc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hc).forEach(([e,t])=>{hc[t]=e});function dy(e){const t=new In(e),r=$g(In.prototype.request,t);return T.extend(r,In.prototype,t,{allOwnKeys:!0}),T.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return dy(Bn(e,a))},r}const Me=dy(cl);Me.Axios=In;Me.CanceledError=Hs;Me.CancelToken=Z1;Me.isCancel=ty;Me.VERSION=iy;Me.toFormData=so;Me.AxiosError=re;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=eN;Me.isAxiosError=tN;Me.mergeConfig=Bn;Me.AxiosHeaders=yt;Me.formToJSON=e=>ey(T.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=ly.getAdapter;Me.HttpStatusCode=hc;Me.default=Me;const{Axios:F2,AxiosError:z2,CanceledError:$2,isCancel:U2,CancelToken:B2,VERSION:H2,all:Q2,Cancel:V2,isAxiosError:W2,spread:K2,toFormData:q2,AxiosHeaders:G2,HttpStatusCode:Y2,formToJSON:J2,getAdapter:X2,mergeConfig:Z2}=Me,be=Me.create({baseURL:"/api",timeout:2e4,headers:{"Content-Type":"application/json"}});be.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");if(t){const r=e.headers??{};r.Authorization=`Bearer ${t}`,e.headers=r}return e});const rN=[{id:"course-live-1",title:" (A)",description:"",subtitle:": ",teacher:"",teacher_id:"teacher-zhang",schedule:" 19:00-21:00",term:"2026",classLabel:"A | ",timeRange:"19:00 - 21:00",studentsCount:36,status:"live",stats:{studentsTotal:36,participationRate:92,homeworkSubmissionRate:88}},{id:"course-upcoming-1",title:" (C)",description:"",subtitle:": ",teacher:"",teacher_id:"teacher-li",schedule:" 19:00-20:30",term:"2026",classLabel:"C | ",timeRange:"19:00 - 20:30",studentsCount:28,status:"upcoming",stats:{studentsTotal:28,participationRate:0,homeworkSubmissionRate:0}},{id:"course-ongoing-1",title:"",description:"",subtitle:": ",teacher:"",teacher_id:"teacher-wang",schedule:" 18:30-20:30",term:"2026",classLabel:"B | ",timeRange:"18:30 - 20:30",studentsCount:30,status:"ongoing",stats:{studentsTotal:30,participationRate:86,homeworkSubmissionRate:81}},{id:"course-completed-1",title:"",description:"",subtitle:": ",teacher:"",teacher_id:"teacher-zhao",schedule:" 09:00-11:00",term:"2025",classLabel:"D | ",timeRange:"09:00 - 11:00",studentsCount:26,status:"completed",stats:{studentsTotal:26,participationRate:94,homeworkSubmissionRate:90}},{id:"course-pending-1",title:"",description:"",subtitle:": ",teacher:"",teacher_id:"teacher-liu",schedule:"",term:"2026",classLabel:"",timeRange:"",studentsCount:18,status:"pending",stats:{studentsTotal:18,participationRate:0,homeworkSubmissionRate:0}},{id:"course-live-2",title:"",description:"",subtitle:": ",teacher:"",teacher_id:"teacher-sun",schedule:" 20:00-22:00",term:"2026",classLabel:"E | ",timeRange:"20:00 - 22:00",studentsCount:24,status:"live",stats:{studentsTotal:24,participationRate:88,homeworkSubmissionRate:84}}],nN=[{id:"student-1",courseId:"course-live-1",classId:"course-live-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"2m ago"},{id:"student-2",courseId:"course-live-1",classId:"course-live-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"5m ago"},{id:"student-3",courseId:"course-live-1",classId:"course-live-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"1h ago"},{id:"student-4",courseId:"course-live-1",classId:"course-live-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"8m ago"},{id:"student-5",courseId:"course-live-1",classId:"course-live-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"18m ago"},{id:"student-6",courseId:"course-upcoming-1",classId:"course-upcoming-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"3h ago"},{id:"student-7",courseId:"course-upcoming-1",classId:"course-upcoming-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"10m ago"},{id:"student-8",courseId:"course-upcoming-1",classId:"course-upcoming-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"just now"},{id:"student-9",courseId:"course-upcoming-1",classId:"course-upcoming-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"6h ago"},{id:"student-10",courseId:"course-ongoing-1",classId:"course-ongoing-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"12m ago"},{id:"student-11",courseId:"course-ongoing-1",classId:"course-ongoing-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"4m ago"},{id:"student-12",courseId:"course-ongoing-1",classId:"course-ongoing-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"50m ago"},{id:"student-13",courseId:"course-ongoing-1",classId:"course-ongoing-1",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"9m ago"},{id:"student-14",courseId:"course-completed-1",classId:"course-completed-1",name:"",group:"",onlineStatus:"offline",attendance:"present",lastActive:"1d ago"},{id:"student-15",courseId:"course-completed-1",classId:"course-completed-1",name:"",group:"",onlineStatus:"offline",attendance:"present",lastActive:"3d ago"},{id:"student-16",courseId:"course-completed-1",classId:"course-completed-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"4d ago"},{id:"student-17",courseId:"course-pending-1",classId:"course-pending-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"N/A"},{id:"student-18",courseId:"course-pending-1",classId:"course-pending-1",name:"",group:"",onlineStatus:"offline",attendance:"absent",lastActive:"N/A"},{id:"student-19",courseId:"course-live-2",classId:"course-live-2",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"7m ago"},{id:"student-20",courseId:"course-live-2",classId:"course-live-2",name:"",group:"",onlineStatus:"online",attendance:"present",lastActive:"3m ago"}],sN=[{id:"assign-1",courseId:"course-live-1",course_id:"course-live-1",title:"",classLabel:"A | ",dueAt:"2026-01-09T18:00:00+08:00",status:"urgent",ungradedCount:12,note:""},{id:"assign-2",courseId:"course-live-1",course_id:"course-live-1",title:"",classLabel:"A | ",dueAt:"2026-01-11T20:00:00+08:00",status:"review",ungradedCount:6},{id:"assign-3",courseId:"course-upcoming-1",course_id:"course-upcoming-1",title:"",classLabel:"C | ",dueAt:"2026-01-13T17:00:00+08:00",status:"published",note:""},{id:"assign-4",courseId:"course-upcoming-1",course_id:"course-upcoming-1",title:"",classLabel:"C | ",dueAt:"2026-01-15T21:00:00+08:00",status:"pending"},{id:"assign-5",courseId:"course-ongoing-1",course_id:"course-ongoing-1",title:"",classLabel:"B | ",dueAt:"2026-01-10T19:00:00+08:00",status:"normal",ungradedCount:4},{id:"assign-6",courseId:"course-ongoing-1",course_id:"course-ongoing-1",title:"",classLabel:"B | ",dueAt:"2026-01-12T19:00:00+08:00",status:"draft"},{id:"assign-7",courseId:"course-completed-1",course_id:"course-completed-1",title:"",classLabel:"D | ",submittedAt:"2025-12-30",status:"completed"},{id:"assign-8",courseId:"course-live-2",course_id:"course-live-2",title:"",classLabel:"E | ",dueAt:"2026-01-09T23:00:00+08:00",status:"urgent",ungradedCount:10}],aN=[{id:"rec-1",courseId:"course-live-1",course_id:"course-live-1",title:"12",duration:"00:45:12",date:"2026-01-04",status:"ready",preview:"https://example.com/previews/rec-1.jpg"},{id:"rec-2",courseId:"course-ongoing-1",course_id:"course-ongoing-1",title:"5",duration:"00:38:20",date:"2026-01-02",status:"ready",preview:"https://example.com/previews/rec-2.jpg"},{id:"rec-3",courseId:"course-completed-1",course_id:"course-completed-1",title:"10",duration:"00:50:00",date:"2025-12-28",status:"ready",preview:"https://example.com/previews/rec-3.jpg"},{id:"rec-4",courseId:"course-upcoming-1",course_id:"course-upcoming-1",title:"",duration:"00:22:10",date:"2026-01-07",status:"ready",preview:"https://example.com/previews/rec-4.jpg"},{id:"rec-5",courseId:"course-live-2",course_id:"course-live-2",title:"",duration:"01:05:00",date:"2026-01-06",status:"processing",preview:"https://example.com/previews/rec-5.jpg"},{id:"rec-6",courseId:"course-pending-1",course_id:"course-pending-1",title:"",duration:"00:18:30",date:"2026-01-03",status:"ready",preview:"https://example.com/previews/rec-6.jpg"}],lN={today_course_ids:["course-live-1","course-upcoming-1","course-ongoing-1"],metrics:[{key:"participation",label:"",value:92,unit:"%"},{key:"accuracy",label:"",value:78,unit:"%"},{key:"hands",label:"",value:5,unit:""}]},As={courses:rN,students:nN,assignments:sN,recordings:aN,dashboard:lN},cy=As;[...cy.submissions??[]];[...cy.grades??[]];const ds={async list(e){return(await be.get("/assignments",{params:e})).data},async get(e){return(await be.get(`/assignments/${e}`)).data},async create(e){return(await be.post("/assignments",e)).data},async update(e,t){return(await be.put(`/assignments/${e}`,t)).data},async remove(e){return await be.delete(`/assignments/${e}`),!0},async grade(e,t,r){return(await be.post(`/assignments/${e}/grade`,r)).data},async saveDraft(e,t,r){return(await be.post(`/assignments/${e}/grade/draft`,r)).data}},iN={page:1,pageSize:8,total:0};function oN(e={}){const[t,r]=S.useState([]),[n,a]=S.useState(e),[l,i]=S.useState(iN),[o,d]=S.useState(!1),[c,u]=S.useState(void 0),f=S.useCallback(async()=>{d(!0),u(void 0);try{const p=await ds.list();r(p),i(g=>({...g,total:p.length}))}catch(p){u(p)}finally{d(!1)}},[]);S.useEffect(()=>{f()},[f]);const h=S.useMemo(()=>t.filter(p=>!(n.courseId&&p.courseId!==n.courseId||n.status&&p.status!==n.status||n.dueBefore&&p.dueAt&&p.dueAt>n.dueBefore)),[n,t]);S.useEffect(()=>{i(p=>({...p,total:h.length,page:Math.min(p.page,Math.max(1,Math.ceil(h.length/p.pageSize)||1))}))},[h]);const m=S.useMemo(()=>{const p=(l.page-1)*l.pageSize;return h.slice(p,p+l.pageSize)},[h,l.page,l.pageSize]),x=S.useCallback(async p=>{const g=await ds.create(p);return r(y=>[g,...y.filter(j=>j.id!==g.id)]),i(y=>({...y,total:y.total+1})),g},[]),b=S.useCallback(async(p,g)=>{const y=await ds.update(p,g);return r(j=>j.map(N=>N.id===p?y:N)),y},[]),w=S.useCallback(async p=>{await ds.remove(p),r(g=>g.filter(y=>y.id!==p)),i(g=>({...g,total:Math.max(0,g.total-1)}))},[]);return{assignments:m,isLoading:o,error:c,filters:n,setFilters:p=>a(g=>({...g,...p})),pagination:l,setPage:p=>i(g=>({...g,page:p})),setPageSize:p=>i(g=>({...g,pageSize:p,page:1})),createAssignment:x,updateAssignment:b,deleteAssignment:w,refetch:f}}const dN=()=>{const{assignments:e,isLoading:t,error:r,filters:n,setFilters:a,pagination:l,setPage:i,setPageSize:o,createAssignment:d,updateAssignment:c,refetch:u}=oN(),[f,h]=S.useState(!1),[m,x]=S.useState(null),[b,w]=S.useState(null),p=()=>{x(null),h(!0)},g=async P=>{m?(await c(m.id,P),w("")):(await d(P),w(""))},y=P=>{const v=e.find(_=>_.id===P);x(v??null),h(!0)},j=()=>{w("CSV ")},N=()=>{w("CSV ")};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:"/"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:j,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"upload"}),s.jsx("span",{className:"ml-1",children:"CSV "})]}),s.jsxs("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:N,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"download"}),s.jsx("span",{className:"ml-1",children:" CSV"})]}),s.jsxs("button",{className:"px-3 h-10 rounded-lg bg-primary text-white text-sm shadow",onClick:p,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"add"}),s.jsx("span",{className:"ml-1",children:""})]})]})]}),b?s.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[s.jsx("p",{children:b}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>w(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(Sk,{assignments:e,onSelect:y,onAction:y,onFilterChange:a,pagination:l,onPageChange:i}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[s.jsxs("div",{children:["",n.courseId?` ${n.courseId}`:""," / ",n.status??""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("select",{className:"h-8 px-2 rounded border border-border-light",value:l.pageSize,onChange:P=>o(Number(P.target.value)),children:[s.jsx("option",{value:6,children:"6"}),s.jsx("option",{value:8,children:"8"}),s.jsx("option",{value:12,children:"12"})]}),s.jsx("span",{children:""})]}),s.jsx("button",{className:"px-3 h-8 rounded-lg border border-border-light bg-white text-xs",onClick:()=>void u(),children:""})]})]}),s.jsx(Ck,{open:f,onClose:()=>h(!1),onSave:g,initialAssignment:m})]})},cN=({students:e,assignments:t,grades:r,onChange:n,onSave:a})=>s.jsx("div",{className:"overflow-auto border border-border-light rounded-xl bg-white shadow-sm",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-background-light",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs text-text-secondary font-semibold sticky left-0 bg-background-light",children:""}),t.map(l=>s.jsx("th",{className:"px-4 py-2 text-left text-xs text-text-secondary font-semibold border-l border-border-light",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-text-main text-sm",children:l.title}),s.jsxs("span",{className:"text-[11px] text-text-secondary",children:[" ",l.totalPoints??100]})]})},l.id))]})}),s.jsx("tbody",{children:e.map(l=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 sticky left-0 bg-white border-t border-border-light font-medium text-text-main",children:l.name}),t.map(i=>{var d;const o=(d=r[l.id])==null?void 0:d[i.id];return s.jsx("td",{className:"px-4 py-3 border-t border-border-light align-middle",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"w-20 h-9 px-2 rounded border border-border-light focus:border-primary focus:ring-0",type:"number",value:o??"",onChange:c=>{const u=c.target.value===""?void 0:Number(c.target.value);n(l.id,i.id,u)},placeholder:"--",min:0,max:i.totalPoints??100,step:1,"aria-label":`${l.name} ${i.title} `}),s.jsx("button",{className:"px-2 h-9 rounded border border-border-light text-xs text-text-secondary hover:text-primary hover:border-primary",onClick:()=>a(l.id,i.id,o),type:"button",children:""})]})},i.id)})]},l.id))})]})}),rm=e=>{const t=e.filter(r=>typeof r=="number");if(t.length)return Math.round(t.reduce((r,n)=>r+n,0)/t.length*10)/10},uN=({students:e,assignments:t,grades:r})=>{const n=S.useMemo(()=>{const l=e.flatMap(i=>t.map(o=>{var d;return(d=r[i.id])==null?void 0:d[o.id]}));return rm(l)},[t,r,e]),a=S.useMemo(()=>t.map(l=>({id:l.id,title:l.title,avg:rm(e.map(i=>{var o;return(o=r[i.id])==null?void 0:o[l.id]}))})),[t,r,e]);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-border-light bg-white shadow-sm",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:""}),s.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:n??"--"}),s.jsx("p",{className:"text-[11px] text-text-tertiary mt-1",children:"/"})]}),s.jsxs("div",{className:"md:col-span-2 p-4 rounded-xl border border-border-light bg-white shadow-sm",children:[s.jsx("p",{className:"text-xs text-text-secondary mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:a.map(l=>s.jsxs("div",{className:"rounded-lg border border-border-light px-3 py-2 bg-background-light/60",children:[s.jsx("p",{className:"text-xs text-text-secondary line-clamp-1",children:l.title}),s.jsx("p",{className:"font-semibold text-text-main mt-1",children:l.avg??"--"})]},l.id))}),s.jsx("p",{className:"text-[11px] text-text-tertiary mt-2",children:""})]})]})},nm=[{id:"s1",name:"",onlineStatus:"online",attendance:"present"},{id:"s2",name:"",onlineStatus:"offline",attendance:"present"},{id:"s3",name:"",onlineStatus:"online",attendance:"absent"}],sm=[{id:"a1",courseId:"c1",title:"",totalPoints:100,status:"published"},{id:"a2",courseId:"c1",title:"",totalPoints:100,status:"published"},{id:"a3",courseId:"c1",title:"",totalPoints:50,status:"published"}],fN=()=>{const[e,t]=S.useState({s1:{a1:95,a2:88,a3:42},s2:{a1:82,a2:90},s3:{a1:76}}),[r,n]=S.useState(null),a=(o,d,c)=>{t(u=>({...u,[o]:{...u[o]??{},[d]:c}}))},l=(o,d,c)=>{n(` ${o}  ${d} : ${c??"--"}`)},i=()=>{n("CSV ")};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:i,children:" CSV"})})]}),r?s.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[s.jsx("p",{children:r}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>n(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,s.jsx(uN,{students:nm,assignments:sm,grades:e}),s.jsx(cN,{students:nm,assignments:sm,grades:e,onChange:a,onSave:l})]})},hN=({attachments:e,title:t=""})=>{var l;const[r,n]=S.useState((l=e[0])==null?void 0:l.id);S.useEffect(()=>{n(i=>{var o;return e.some(d=>d.id===i)?i:(o=e[0])==null?void 0:o.id})},[e]);const a=e.find(i=>i.id===r)??e[0];return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white",children:t}),s.jsxs("span",{className:"text-xs text-text-secondary",children:[e.length," "]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx("button",{className:"h-9 px-3 rounded-lg border border-border-light bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",type:"button",children:""}),s.jsx("button",{className:"h-9 px-3 rounded-lg border border-border-light bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",type:"button",children:""}),s.jsx("button",{className:"h-9 px-3 rounded-lg border border-border-light bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",type:"button",children:""})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 dark:bg-gray-900/40 p-4 flex items-center justify-center",children:a?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-inner border border-border-light dark:border-border-dark max-w-3xl w-full min-h-[520px] flex items-center justify-center overflow-hidden",children:a.type==="pdf"?s.jsxs("div",{className:"text-center text-text-secondary text-sm p-8",children:["PDF ",a.label,""]}):s.jsx("img",{src:a.src,alt:a.label,className:"w-full h-full object-contain"})}):s.jsx("div",{className:"text-text-secondary text-sm",children:""})}),s.jsx("aside",{className:"w-28 border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark overflow-y-auto p-3 space-y-2",children:e.map(i=>s.jsxs("button",{type:"button",onClick:()=>n(i.id),className:`w-full rounded-lg border text-left overflow-hidden ${i.id===(a==null?void 0:a.id)?"border-primary bg-primary/5":"border-border-light dark:border-border-dark hover:border-primary/40"}`,children:[s.jsx("div",{className:"aspect-[3/4] w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:i.src,alt:i.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"px-2 py-2 flex items-center justify-between text-[11px] text-text-secondary",children:[s.jsx("span",{className:"truncate",children:i.label}),i.page?s.jsxs("span",{className:"text-text-tertiary",children:["P",i.page]}):null]})]},i.id))})]})]})},mN=e=>({id:e||"assignment-temp",courseId:"course-001",title:"",status:"pending",totalPoints:100,submissionsCount:50,ungradedCount:12}),$l=(e,t,r,n,a)=>({id:e,courseId:"course-001",name:t,group:r,onlineStatus:n,attendance:a,avatar:void 0,lastActive:""}),Ul=[{id:"p1",label:" 1 ",src:"https://picsum.photos/seed/grading-1/800/1000",type:"image",page:1},{id:"p2",label:" 2 ",src:"https://picsum.photos/seed/grading-2/800/1000",type:"image",page:2},{id:"p3",label:"",src:"https://picsum.photos/seed/grading-3/800/1000",type:"image",page:3}];function pN(e){const[t,r]=S.useState([]),[n,a]=S.useState(void 0),[l,i]=S.useState(!1),o=S.useCallback(async()=>{var x;i(!0);const h=mN(e),m=[{id:"sub-1",student:$l("stu-1","","A ","online","present"),assignment:h,submittedAt:"10:42",status:"grading",score:void 0,aiConfidence:"high",attachments:Ul,flags:[""]},{id:"sub-2",student:$l("stu-2","","A ","offline","present"),assignment:h,submittedAt:"09:15",status:"pending",score:void 0,aiConfidence:"low",attachments:Ul.slice(0,2),flags:["AI"]},{id:"sub-3",student:$l("stu-3","","B ","online","present"),assignment:h,submittedAt:"09:10",status:"pending",score:void 0,aiConfidence:"medium",attachments:Ul.slice(0,1)},{id:"sub-4",student:$l("stu-4","","B ","offline","absent"),assignment:h,submittedAt:"08:50",status:"completed",score:92,aiConfidence:"high",attachments:Ul.slice(0,2)}];r(m),a((x=m[0])==null?void 0:x.id),i(!1)},[e]),d=S.useCallback(h=>{a(h)},[]),c=S.useCallback(async(h,m)=>{r(x=>x.map(b=>b.id!==h?b:{...b,score:m.score??b.score,flags:m.rubric?Object.keys(m.rubric).filter(w=>{var p;return(p=m.rubric)==null?void 0:p[w]}):b.flags}))},[]),u=S.useCallback(async(h,m,x)=>{r(b=>b.map(w=>w.id!==h?w:{...w,score:m,status:"completed",flags:x?[...w.flags??[],""]:w.flags}))},[]),f=S.useMemo(()=>t.find(h=>h.id===n),[n,t]);return S.useEffect(()=>{o()},[o]),{queue:t,activeSubmission:f,isLoading:l,fetchQueue:o,selectSubmission:d,saveDraft:c,submitGrade:u}}const am=["","","",""],xN=["","","",""],gN=({assignmentId:e})=>{const{queue:t,activeSubmission:r,isLoading:n,selectSubmission:a,saveDraft:l,submitGrade:i}=pN(e),[o,d]=S.useState(""),[c,u]=S.useState(""),[f,h]=S.useState({});S.useEffect(()=>{d((r==null?void 0:r.score)??""),u(""),h(am.reduce((p,g)=>({...p,[g]:!1}),{}))},[r]);const m=p=>{h(g=>({...g,[p]:!g[p]}))},x=p=>{if(!r)return;const g=t.findIndex(N=>N.id===r.id);if(g===-1)return;const y=p==="next"?g+1:g-1,j=t[y];j&&a(j.id)},b=async()=>{r&&await l(r.id,{score:typeof o=="number"?o:Number(o)||void 0,comment:c,rubric:f})},w=async()=>{if(!r)return;const p=typeof o=="number"?o:Number(o);Number.isNaN(p)||await i(r.id,p,c)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-text-secondary",children:[" ID: ",e]}),s.jsxs("h2",{className:"text-xl font-semibold text-text-main dark:text-white flex items-center gap-2",children:["",r?s.jsx("span",{className:"px-2 py-0.5 rounded text-[11px] bg-primary/10 text-primary",children:r.status}):null]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[s.jsx("button",{type:"button",className:"h-10 px-3 rounded-lg border border-border-light",onClick:()=>x("prev"),children:""}),s.jsx("button",{type:"button",className:"h-10 px-3 rounded-lg border border-border-light",onClick:()=>x("next"),children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsxs("section",{className:"col-span-12 lg:col-span-3 xl:col-span-2 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm flex flex-col",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white",children:""}),n?s.jsx("span",{className:"text-xs text-text-secondary",children:"..."}):null]}),s.jsxs("div",{className:"flex-1 overflow-y-auto divide-y divide-border-light dark:divide-border-dark",children:[t.map(p=>{var g;return s.jsxs("button",{type:"button",onClick:()=>a(p.id),className:`w-full text-left px-4 py-3 flex flex-col gap-1 hover:bg-gray-50 dark:hover:bg-gray-800/60 ${p.id===(r==null?void 0:r.id)?"bg-primary/5 border-l-2 border-primary":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-sm font-semibold text-text-main dark:text-white",children:p.student.name.slice(0,1)}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-text-main dark:text-white truncate",children:p.student.name}),s.jsx("p",{className:"text-[11px] text-text-secondary",children:p.submittedAt})]})]}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-100 text-text-secondary",children:p.status})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text-secondary",children:[p.aiConfidence?s.jsxs("span",{className:"px-2 py-0.5 rounded bg-emerald-50 text-emerald-600",children:["AI ",p.aiConfidence]}):null,(g=p.flags)==null?void 0:g.map(y=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-amber-50 text-amber-600",children:y},y))]})]},p.id)}),t.length===0?s.jsx("div",{className:"p-4 text-sm text-text-secondary",children:""}):null]})]}),s.jsx("section",{className:"col-span-12 lg:col-span-6 xl:col-span-7 min-h-[640px]",children:s.jsx(hN,{attachments:(r==null?void 0:r.attachments)??[]})}),s.jsxs("section",{className:"col-span-12 lg:col-span-3 xl:col-span-3 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm flex flex-col",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white",children:""}),r!=null&&r.assignment.totalPoints?s.jsxs("span",{className:"text-xs text-text-secondary",children:[" ",r.assignment.totalPoints]}):null]}),s.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"w-24",children:[s.jsx("label",{className:"block text-[11px] text-text-secondary mb-1",children:""}),s.jsx("input",{value:o,onChange:p=>d(p.target.value===""?"":Number(p.target.value)),className:"w-full h-12 text-center text-2xl font-bold rounded-lg border border-border-light dark:border-border-dark bg-gray-50 dark:bg-gray-800",type:"number",placeholder:"-"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-[11px] text-text-secondary mb-1",children:""}),s.jsx("div",{className:"relative",children:s.jsx("input",{className:"w-full h-12 rounded-lg border border-border-light dark:border-border-dark px-3 bg-white dark:bg-gray-800",value:c,onChange:p=>u(p.target.value),placeholder:""})}),s.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:xN.map(p=>s.jsx("button",{type:"button",onClick:()=>u(p),className:"px-2 py-1 rounded bg-gray-100 dark:bg-gray-800 text-xs text-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700",children:p},p))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wide",children:""}),s.jsx("div",{className:"space-y-2",children:am.map(p=>s.jsxs("label",{className:"flex items-start gap-2 p-2 rounded-lg border border-border-light dark:border-border-dark hover:border-primary/40 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"mt-1",checked:!!f[p],onChange:()=>m(p)}),s.jsx("span",{className:"text-sm text-text-main dark:text-white",children:p})]},p))})]})]}),s.jsxs("div",{className:"px-4 py-3 border-t border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("div",{className:"text-xs text-text-secondary",children:"S  / N  / P "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"h-10 px-3 rounded-lg border border-border-light",onClick:b,children:" (S)"}),s.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-primary text-white",onClick:w,children:""})]})]})]})]})]})},yN=()=>{const t=Us().assignmentId??"assignment-001";return s.jsx(gN,{assignmentId:t})},bN=({selected:e,onAssign:t,onSendBack:r,onReject:n,onApprove:a})=>{var l;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark px-6 py-3 flex items-center justify-between shrink-0",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h2",{className:"text-lg font-bold text-text-main-light dark:text-text-main-dark",children:e.title}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-slate-100 dark:bg-slate-800 text-text-main-light dark:text-text-main-dark",children:e.code}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${e.status==="pending"?"bg-amber-100 text-amber-700 border-amber-200":e.status==="draft"?"bg-slate-100 text-slate-700 border-slate-200":e.status==="rejected"?"bg-red-100 text-red-700 border-red-200":"bg-emerald-100 text-emerald-700 border-emerald-200"}`,children:e.status==="pending"?"":e.status==="draft"?"":e.status==="rejected"?"":""}),(l=e.tags)==null?void 0:l.map(i=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-xs font-medium",children:i},i))]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-text-secondary-light dark:text-text-secondary-dark flex-wrap",children:[s.jsxs("span",{children:[": ",e.submitBy,e.submitterRole?`  ${e.submitterRole}`:""]}),s.jsxs("span",{children:[": ",e.assignee??""]}),s.jsxs("span",{children:[": ",e.updatedAt]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800",type:"button",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"person_add"}),""]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800",type:"button",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"history"}),""]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-red-200 text-red-600 text-sm font-semibold hover:bg-red-50",type:"button",onClick:n,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"}),""]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover shadow-sm",type:"button",onClick:a,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"done_all"}),""]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[s.jsxs("p",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark mb-3 uppercase tracking-wide",children:[" ",e.previousVersion]}),s.jsxs("p",{className:"text-sm text-text-main-light dark:text-text-main-dark leading-relaxed",children:[e.summary," ( diff)"]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-primary/30 shadow-sm relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 size-16 bg-gradient-to-bl from-green-500/10 to-transparent pointer-events-none","aria-hidden":!0}),s.jsxs("p",{className:"text-sm font-bold text-primary mb-3 uppercase tracking-wide",children:[" ",e.version]}),s.jsx("p",{className:"text-sm text-text-main-light dark:text-text-main-dark leading-relaxed",children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wide",children:""}),s.jsx("div",{className:"flex-1 rounded-lg bg-background-light dark:bg-background-dark border border-dashed border-border-light dark:border-border-dark flex items-center justify-center text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wide",children:" ()"}),s.jsx("p",{className:"text-sm text-text-main-light dark:text-text-main-dark leading-relaxed",children:"/"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[s.jsxs("div",{className:"flex border-b border-border-light dark:border-border-dark",children:[s.jsx("button",{className:"flex-1 py-3 text-sm font-bold text-primary border-b-2 border-primary bg-primary/5",children:" ()"}),s.jsx("button",{className:"flex-1 py-3 text-sm font-medium text-text-secondary-light hover:text-text-main-light",children:""}),s.jsx("button",{className:"flex-1 py-3 text-sm font-medium text-text-secondary-light hover:text-text-main-light",children:""})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-4 bg-background-light/60 dark:bg-background-dark",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-9 rounded-full bg-slate-200","aria-hidden":!0}),s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-xs font-bold text-text-main-light",children:""}),s.jsx("span",{className:"text-[10px] text-text-secondary-light",children:" 15:00"})]}),s.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark text-sm text-text-main-light dark:text-text-main-dark",children:s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-primary font-medium",children:"@"}),"  a=0 "]})})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-9 rounded-full bg-slate-200","aria-hidden":!0}),s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-xs font-bold text-text-main-light",children:" ()"}),s.jsx("span",{className:"text-[10px] text-text-secondary-light",children:" 09:10"})]}),s.jsx("div",{className:"bg-primary/5 p-3 rounded-lg border border-primary/20 text-sm text-text-main-light",children:s.jsxs("p",{children:[" a=0  ",e.version,""]})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 my-1 text-[10px] text-text-secondary-light",children:[s.jsx("div",{className:"h-px bg-border-light flex-1"}),s.jsxs("span",{children:[" ",e.version," "]}),s.jsx("div",{className:"h-px bg-border-light flex-1"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-9 rounded-full bg-slate-200","aria-hidden":!0}),s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-xs font-bold text-text-main-light",children:""}),s.jsx("span",{className:"text-[10px] text-text-secondary-light",children:""})]}),s.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark text-sm text-text-main-light dark:text-text-main-dark",children:s.jsx("p",{children:" ()"})})]})]}),s.jsxs("div",{className:"pt-2 border-t border-border-light dark:border-border-dark flex gap-3 items-center",children:[s.jsx("input",{className:"flex-1 px-3 py-2 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark text-sm focus:ring-1 focus:ring-primary",placeholder:" @... ()"}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover",type:"button",children:""})]})]})]})]})})]})},vN={pending:"",draft:"",rejected:"",approved:""},wN={pending:"bg-amber-100 text-amber-700",draft:"bg-slate-100 text-slate-600",rejected:"bg-red-100 text-red-700",approved:"bg-emerald-100 text-emerald-700"},jN=({items:e,filter:t,search:r,stats:n,selectedId:a,isLoading:l,onSelect:i,onFilterChange:o,onSearchChange:d})=>{const c=[{label:"",value:"pending",count:n.pending},{label:"",value:"draft",count:n.draft},{label:"",value:"rejected",count:n.rejected},{label:"",value:"approved",count:n.approved},{label:"",value:"all",count:n.all}];return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark flex flex-col gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-2.5 text-text-secondary-light dark:text-text-secondary-dark text-[20px]",children:"search"}),s.jsx("input",{type:"text",value:r,onChange:u=>d(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg text-sm focus:ring-2 focus:ring-primary/20 text-text-main-light dark:text-text-main-dark placeholder:text-text-secondary-light",placeholder:" ID..."})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:c.map(u=>s.jsxs("button",{type:"button",onClick:()=>o(u.value),className:`px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap border transition-all ${t===u.value?"bg-primary/10 text-primary border-primary/30":"bg-white dark:bg-background-dark text-text-secondary-light dark:text-text-secondary-dark border-border-light dark:border-border-dark hover:border-slate-300"}`,children:[u.label,s.jsxs("span",{className:"ml-1 text-[11px] font-bold",children:["(",u.count,")"]})]},u.value))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"..."}):e.length===0?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""}):s.jsx("ul",{children:e.map(u=>{var f;return s.jsx("li",{className:"border-b border-border-light dark:border-border-dark last:border-none",children:s.jsxs("button",{type:"button",onClick:()=>i(u.id),className:`w-full text-left p-4 flex flex-col gap-2 transition-colors ${a===u.id?"bg-primary/5 dark:bg-primary/10 border-l-4 border-l-primary":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:`px-2 py-0.5 rounded font-bold ${wN[u.status]}`,children:vN[u.status]}),s.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-[10px] font-semibold text-text-main-light dark:text-text-main-dark",children:u.code}),(f=u.tags)==null?void 0:f.map(h=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-[10px] font-medium",children:h},h))]}),s.jsx("div",{className:"text-[11px] text-text-secondary-light dark:text-text-secondary-dark",children:u.updatedAt})]}),s.jsx("div",{className:"text-sm font-semibold text-text-main-light dark:text-text-main-dark line-clamp-2",children:u.title}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsxs("span",{children:[": ",u.submitBy,u.submitterRole?`  ${u.submitterRole}`:""]}),s.jsxs("span",{children:[" ",u.version]})]})]})},u.id)})})})]})},Go=[{id:"rev-1",code:"P2409-A03",title:"2024 () - ",status:"pending",submitBy:"",submitterRole:"",tags:["",""],version:"V1.3",previousVersion:"V1.2",summary:" a ",updatedAt:"10 ",assignee:""},{id:"rev-2",code:"Q1023-B11",title:"",status:"pending",submitBy:"",submitterRole:"",tags:["",""],version:"V2.0",previousVersion:"V1.9",summary:"",updatedAt:"2 "},{id:"rev-3",code:"Q1025-C09",title:" (V2)",status:"draft",submitBy:"",submitterRole:"",tags:["",""],version:"V2.0",previousVersion:"V1.0",summary:"",updatedAt:"2 "},{id:"rev-4",code:"G3011-D05",title:"",status:"rejected",submitBy:"",submitterRole:"",tags:["",""],version:"V1.1",previousVersion:"V1.0",summary:"",updatedAt:""},{id:"rev-5",code:"P2101-Z99",title:"",status:"approved",submitBy:"",submitterRole:"",tags:["",""],version:"V1.0",previousVersion:"",summary:" 30 ",updatedAt:""}],kN=()=>{var g;const[e,t]=E.useState(Go),[r,n]=E.useState(((g=Go[0])==null?void 0:g.id)??null),[a,l]=E.useState("all"),[i,o]=E.useState(""),[d,c]=E.useState(!1),u=E.useMemo(()=>({all:e.length,pending:e.filter(y=>y.status==="pending").length,draft:e.filter(y=>y.status==="draft").length,rejected:e.filter(y=>y.status==="rejected").length,approved:e.filter(y=>y.status==="approved").length}),[e]),f=E.useMemo(()=>e.filter(y=>{var P;if(!(a==="all"?!0:y.status===a))return!1;if(!i)return!0;const N=i.toLowerCase();return y.title.toLowerCase().includes(N)||y.code.toLowerCase().includes(N)||y.submitBy.toLowerCase().includes(N)||((P=y.tags)==null?void 0:P.some(v=>v.toLowerCase().includes(N)))}),[e,a,i]);return E.useEffect(()=>{if(!r&&f.length){n(f[0].id);return}r&&f.every(y=>y.id!==r)&&f.length&&n(f[0].id)},[f,r]),{items:e,filteredItems:f,selectedId:r,filter:a,search:i,stats:u,isLoading:d,actions:{select:y=>n(y),setFilter:l,setSearch:o,assignReviewer:async(y,j)=>{t(N=>N.map(P=>P.id===y?{...P,assignee:j}:P))},markApproved:async y=>{t(j=>j.map(N=>N.id===y?{...N,status:"approved"}:N))},markRejected:async y=>{t(j=>j.map(N=>N.id===y?{...N,status:"rejected"}:N))},markPending:async y=>{t(j=>j.map(N=>N.id===y?{...N,status:"pending"}:N))},refetch:async()=>{c(!0),await new Promise(y=>setTimeout(y,300)),t(Go),c(!1)}}}},NN=()=>{const{filteredItems:e,items:t,selectedId:r,filter:n,search:a,stats:l,isLoading:i,actions:o}=kN(),d=S.useMemo(()=>t.find(x=>x.id===r)??e[0]??null,[t,e,r]),c=x=>{o.select(x)},u=()=>{d&&(o.assignReviewer(d.id," ()"),console.log("assign stub",d.id))},f=()=>{d&&(o.markApproved(d.id),console.log("approve stub",d.id))},h=()=>{d&&(o.markRejected(d.id),console.log("reject stub",d.id))},m=()=>{d&&(o.markPending(d.id),console.log("send back stub",d.id))};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark flex flex-col",children:[s.jsxs("header",{className:"h-16 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-6 shrink-0",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("nav",{className:"flex items-center text-sm font-medium text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:"hover:text-primary cursor-pointer",children:""}),s.jsx("span",{className:"mx-2 text-border-light",children:"/"}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-semibold",children:""})]})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:()=>void o.refetch(),children:""}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-bold shadow-sm",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"}),""]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("aside",{className:"w-full md:w-[360px] flex-shrink-0 bg-white dark:bg-surface-dark border-r border-border-light dark:border-border-dark",children:s.jsx(jN,{items:e,filter:n,search:a,stats:l,selectedId:r,isLoading:i,onSelect:c,onFilterChange:o.setFilter,onSearchChange:o.setSearch})}),s.jsx("main",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark overflow-hidden",children:d?s.jsx(bN,{selected:d,onAssign:u,onSendBack:m,onReject:h,onApprove:f}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-text-secondary-light dark:text-text-secondary-dark",children:""})})]})]})},SN={live:{text:"",classes:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},ongoing:{text:"",classes:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},upcoming:{text:"",classes:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"},completed:{text:"",classes:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"},pending:{text:"",classes:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}},CN=({course:e,onStartLive:t,onViewRecording:r,onEdit:n})=>{const a=SN[e.status];return s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20","aria-hidden":!0,children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"functions"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight text-text-main dark:text-white",children:e.title}),s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.classes}`,children:[s.jsx("span",{className:"w-1.5 h-1.5 mr-1.5 bg-green-500 rounded-full","aria-hidden":!0}),a.text]})]}),s.jsxs("p",{className:"text-sm text-text-secondary flex flex-wrap items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"person"})," : ",e.teacher]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule"})," : ",e.schedule]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 self-end md:self-center",children:[s.jsx("button",{type:"button",className:"px-4 h-10 rounded-lg text-sm font-medium text-text-secondary hover:text-text-main hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:n,"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"px-4 h-10 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:n,"aria-label":"",children:""}),s.jsxs("button",{type:"button",className:"px-4 h-10 rounded-lg border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark text-text-main dark:text-white text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-800 shadow-sm transition-colors flex items-center gap-2",onClick:r,"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"publish"}),""]}),s.jsxs("button",{type:"button",className:"px-5 h-10 rounded-lg bg-primary hover:bg-primary-hover text-white text-sm font-bold shadow-md shadow-blue-500/20 transition-all flex items-center gap-2 group",onClick:t,"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px] group-hover:animate-pulse",children:"videocam"}),""]})]})]})},EN=[{key:"overview",label:""},{key:"students",label:""},{key:"assignments",label:""},{key:"recordings",label:""},{key:"settings",label:""}],RN=({activeTab:e,onTabChange:t})=>s.jsx("nav",{"aria-label":"",className:"flex space-x-1",children:EN.map(r=>{const n=e===r.key;return s.jsx("button",{type:"button",onClick:()=>t(r.key),className:`px-4 py-4 text-sm font-medium border-b-2 transition-colors ${n?"text-primary border-primary":"text-text-secondary hover:text-text-main border-transparent hover:border-gray-300"}`,"aria-current":n?"page":void 0,"aria-label":r.label,children:r.label},r.key)})}),lm={online:"bg-green-500",offline:"bg-gray-300"},im={present:"text-green-600 font-medium text-xs bg-green-50 px-2 py-1 rounded",absent:"text-xs text-text-secondary bg-white border border-border-light hover:border-primary hover:text-primary px-3 py-1 rounded shadow-sm transition-colors"},Pu=({student:e,onAttendanceChange:t,onViewProfile:r})=>s.jsxs("tr",{className:"group hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"py-3 border-b border-border-light/50",children:s.jsxs("button",{type:"button",className:"flex items-center gap-3 w-full text-left",onClick:()=>r==null?void 0:r(e.id),"aria-label":` ${e.name} `,children:[e.avatar?s.jsx("div",{className:"size-8 rounded-full bg-cover bg-center",style:{backgroundImage:`url(${e.avatar})`},"aria-hidden":!0}):s.jsx("div",{className:"size-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs","aria-hidden":!0,children:e.name.slice(0,1)}),s.jsx("span",{className:"font-medium text-text-main",children:e.name})]})}),s.jsx("td",{className:"py-3 border-b border-border-light/50",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5","aria-hidden":!0,children:e.onlineStatus==="online"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${lm[e.onlineStatus]}`})]}):s.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${lm[e.onlineStatus]}`})}),s.jsx("span",{className:"text-xs text-text-secondary",children:e.onlineStatus==="online"?"":""})]})}),s.jsx("td",{className:"py-3 border-b border-border-light/50 text-right",children:e.attendance==="present"?s.jsx("span",{className:im[e.attendance],children:""}):s.jsx("button",{type:"button",className:im[e.attendance],onClick:()=>t==null?void 0:t(e.id,"present"),"aria-label":` ${e.name} `,children:""})})]}),PN=({students:e,onViewStudent:t})=>s.jsx("div",{className:"space-y-2",children:e.map(r=>s.jsx(Pu,{student:r,onAttendanceChange:()=>{},onViewProfile:()=>t==null?void 0:t(r.id)},r.id))}),om=({assignments:e,onOpenAssignment:t})=>s.jsx("div",{className:"space-y-3",children:e.map(r=>s.jsx(Nu,{id:r.id,title:r.title,classLabel:r.classLabel,size:r.size,note:r.note,status:r.status,submittedAt:r.dueAt?` ${r.dueAt}`:void 0,onAction:()=>t==null?void 0:t(r.id)},r.id))}),LN=({recordings:e})=>s.jsx("div",{className:"space-y-3",children:e.map(t=>s.jsxs("div",{className:"flex items-center p-4 bg-white dark:bg-gray-800 border border-border-light dark:border-border-dark rounded-lg hover:shadow-md transition-shadow group",children:[s.jsxs("div",{className:"relative h-16 w-28 rounded-lg overflow-hidden bg-gray-900 flex items-center justify-center flex-shrink-0 mr-4",children:[t.preview?s.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 group-hover:scale-105 transition-transform duration-300",style:{backgroundImage:`url(${t.preview})`},"aria-hidden":!0}):null,s.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors","aria-hidden":!0}),s.jsx("span",{className:"relative z-10 text-white material-symbols-outlined",children:"play_arrow"}),s.jsx("span",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded backdrop-blur-sm",children:t.duration})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-text-main dark:text-white truncate",children:t.title}),s.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[t.date,"  ",t.status==="ready"?"":""]})]}),s.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("button",{type:"button",className:"p-2 text-text-secondary hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":` ${t.title}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"play_circle"})})})]},t.id))}),TN="mock.recordings";function _N(){if(typeof window>"u")return[...As.recordings??[]];try{const e=window.localStorage.getItem(TN);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("recordings load failed, fallback to seed",e)}return[...As.recordings??[]]}_N();const lo={async list(e){const t=e?`/recordings?courseId=${encodeURIComponent(e)}`:"/recordings";return(await be.get(t)).data},async get(e){return(await be.get(`/recordings/${e}`)).data},async createFromLive(e){return(await be.post(`/live/${e.id}/record`)).data},async remove(e){return await be.delete(`/recordings/${e}`),!0}},ON=As;[...ON.live_sessions??[]];const Qa={async list(e){return(await be.get("/courses",{params:e})).data},async get(e){return(await be.get(`/courses/${e}`)).data},async startLive(e){return(await be.post(`/courses/${e}/live/start`)).data},async endLive(e){return(await be.post(`/live/${e}/stop`)).data},async getLive(e){return(await be.get(`/live/${e}`)).data}},MN="mock.students";function IN(){const e=[...As.students??[]];if(typeof window>"u")return e;try{const t=window.localStorage.getItem(MN);if(t){const r=JSON.parse(t);if(Array.isArray(r))return r}}catch(t){console.warn("students load failed, fallback to seed",t)}return e}IN();const yr={async list(e){return(await be.get("/students",{params:e})).data},async get(e){return(await be.get(`/students/${e}`)).data},async getProgress(e){return(await be.get(`/students/${e}/progress`)).data},async create(e){return(await be.post("/students",e)).data},async update(e,t){return(await be.put(`/students/${e}`,t)).data},async remove(e){return await be.delete(`/students/${e}`),!0},async bulkMessage(e,t){return await be.post("/students/bulk/message",{studentIds:e,...t}),!0},async bulkGroup(e,t){return await be.post("/students/bulk/group",{studentIds:e,...t}),!0},async bulkMarkPresent(e){return await be.post("/students/bulk/attendance",{studentIds:e,attendance:"present"}),!0},async exportCsv(e){return(await be.post("/students/export",{studentIds:e})).data}};function uy(e){const[t,r]=S.useState(()=>({course:{id:e,title:"",status:"upcoming"},students:[],assignments:[],recordings:[]})),[n,a]=S.useState(!0),[l,i]=S.useState(void 0),o=S.useCallback(async()=>{a(!0),i(void 0);try{const d=await Qa.get(e)??(await Qa.list()).find(h=>h.id===e);if(!d)throw new Error("Course not found");const[c,u,f]=await Promise.all([yr.list({courseId:d.id}),ds.list({courseId:d.id}),lo.list(d.id)]);r({course:d,students:c,assignments:u,recordings:f})}catch(d){i(d)}finally{a(!1)}},[e]);return S.useEffect(()=>{o()},[o]),{data:t,isLoading:n,error:l,actions:{refresh:o}}}const DN={blue:"from-blue-50 to-white dark:from-slate-800 dark:to-slate-750 border-blue-100 dark:border-slate-700 text-blue-500",orange:"from-orange-50 to-white dark:from-slate-800 dark:to-slate-750 border-orange-100 dark:border-slate-700 text-orange-500",purple:"from-purple-50 to-white dark:from-slate-800 dark:to-slate-750 border-purple-100 dark:border-slate-700 text-purple-500"},AN={blue:"bg-blue-500",orange:"bg-orange-500",purple:"bg-purple-500"},FN={blue:"person_check",orange:"check_circle",purple:"pan_tool"},fy=({keyName:e,label:t,value:r,unit:n,color:a,progress:l,icon:i})=>s.jsxs("article",{className:`p-5 bg-gradient-to-br rounded-xl border flex flex-col justify-between ${DN[a]}`,role:"listitem","aria-label":t,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("p",{className:"text-xs font-bold text-text-secondary uppercase",children:t}),s.jsx("span",{className:"material-symbols-outlined text-lg","aria-hidden":!0,children:i||FN[a]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-1 mt-2",children:[s.jsx("p",{className:"text-3xl font-bold text-text-main dark:text-white font-display tracking-tight",children:r}),n?s.jsx("span",{className:"text-sm font-bold text-text-secondary",children:n}):null]}),typeof l=="number"?s.jsx("div",{className:"w-full h-1.5 rounded-full mt-3 overflow-hidden","aria-label":`${t}`,children:s.jsx("div",{className:`h-full rounded-full ${AN[a]}`,style:{width:`${l}%`}})}):null]})]}),zN=()=>{var j,N,P;const e=Us(),t=(e==null?void 0:e.courseId)||"course-1",r=bt(),{data:{course:n,students:a,assignments:l,recordings:i},actions:o}=uy(t),[d,c]=S.useState("overview"),u=v=>new Promise(_=>setTimeout(_,v)),f=S.useCallback(async v=>{for(let A=0;A<6;A++){const O=await lo.get(v);if(!O||O.status&&O.status!=="processing")break;await u(700)}},[]);S.useEffect(()=>{if(d!=="recordings"||!i.some(O=>O.status==="processing"))return;let v=!1,_=0;const A=window.setInterval(()=>{_+=1,!v&&(o.refresh(),_>=8&&window.clearInterval(A))},1200);return()=>{v=!0,window.clearInterval(A)}},[d,i,o]);const h=["","",n.title],m=n.stats||{studentsTotal:0,participationRate:0,homeworkSubmissionRate:0},x=[{key:"students",label:"",value:m.studentsTotal,unit:"",color:"blue",progress:100},{key:"participation",label:"",value:m.participationRate,unit:"%",color:"purple",progress:m.participationRate},{key:"homework",label:"",value:m.homeworkSubmissionRate,unit:"%",color:"orange",progress:m.homeworkSubmissionRate}],b=()=>{switch(d){case"students":return s.jsx(PN,{students:a});case"assignments":return s.jsx(om,{assignments:l});case"recordings":return s.jsx(LN,{recordings:i});case"settings":return s.jsx("div",{className:"text-sm text-text-secondary",children:""});case"overview":default:return s.jsx(om,{assignments:l.slice(0,3)})}},w=()=>{r(`${K.liveTeaching}/${t}`)},p=async v=>{if(!v){r(K.recordings);return}await f(v),r(`${K.recordings}?recordingId=${v}`)},g=()=>{r(K.assignmentManagement)},y=()=>{r(K.courseEdit.replace(":courseId",t))};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[s.jsx("nav",{className:"flex items-center text-sm text-text-secondary","aria-label":"Breadcrumb",children:h.map((v,_)=>s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:_===h.length-1?"text-text-main font-medium dark:text-gray-200":"hover:text-primary transition-colors cursor-pointer",children:v}),_<h.length-1?s.jsx("span",{className:"mx-2 text-gray-400","aria-hidden":!0,children:"/"}):null]},v))}),s.jsx(CN,{course:n,onStartLive:w,onViewRecording:()=>{var v;return void p((v=i[0])==null?void 0:v.id)},onEdit:y}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(v=>s.jsx(fy,{keyName:v.key,label:v.label,value:v.value,unit:v.unit,color:v.color,progress:v.progress},v.key))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-4 xl:col-span-3 space-y-6",children:[s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-secondary uppercase tracking-wider mb-4",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:""}),s.jsx("span",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-0.5 rounded",children:"+5 "})]}),s.jsxs("div",{className:"text-3xl font-bold text-text-main dark:text-white",children:[m.studentsTotal," ",s.jsx("span",{className:"text-sm font-normal text-text-secondary",children:""})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:"30"}),s.jsxs("span",{className:"text-sm font-medium text-text-main dark:text-white",children:[m.participationRate,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${m.participationRate}%`},"aria-label":""})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:""}),s.jsxs("span",{className:"text-sm font-medium text-text-main dark:text-white",children:[m.homeworkSubmissionRate,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${m.homeworkSubmissionRate}%`},"aria-label":""})})]})]})]}),s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm overflow-hidden group cursor-pointer hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"relative h-32 bg-gray-900 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 group-hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url(${((j=i[0])==null?void 0:j.preview)||""})`},"aria-hidden":!0}),s.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors","aria-hidden":!0}),s.jsx("div",{className:"relative z-10 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/50 text-white group-hover:bg-primary group-hover:border-primary transition-all",children:s.jsx("span",{className:"material-symbols-outlined",children:"play_arrow"})}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded backdrop-blur-sm",children:(N=i[0])==null?void 0:N.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-text-main dark:text-white line-clamp-1",children:(P=i[0])==null?void 0:P.title}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:""})]})}),s.jsx("button",{type:"button",onClick:()=>{var v;return void p((v=i[0])==null?void 0:v.id)},className:"mt-3 w-full py-1.5 text-xs font-medium text-primary bg-primary/5 hover:bg-primary/10 rounded border border-primary/20 transition-colors","aria-label":"",children:""})]})]}),s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-2 space-y-2",children:[s.jsxs("button",{type:"button",onClick:()=>g(),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-left group","aria-label":"",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center","aria-hidden":!0,children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add_task"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main dark:text-white group-hover:text-primary transition-colors",children:""}),s.jsx("p",{className:"text-xs text-text-secondary",children:"3  ()"})]})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-left group","aria-label":"",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center","aria-hidden":!0,children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"forum"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main dark:text-white group-hover:text-primary transition-colors",children:""}),s.jsx("p",{className:"text-xs text-text-secondary",children:"5 "})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-8 xl:col-span-9 flex flex-col h-full",children:[s.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-t-xl border-b border-border-light dark:border-border-dark px-2 sticky top-0 z-20",children:s.jsx(RN,{activeTab:d,onTabChange:c})}),s.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-b-xl border border-t-0 border-border-light dark:border-border-dark shadow-sm min-h-[400px] p-6",children:b()})]})]})]})},$N={live:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",upcoming:"bg-input-bg text-text-secondary dark:bg-slate-700 dark:text-slate-400",ongoing:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",completed:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",pending:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"},UN={live:"",ongoing:"",upcoming:"",completed:"",pending:""},hy=({id:e,title:t,description:r,classLabel:n,timeRange:a,studentsCount:l,status:i,onEnter:o,onMore:d})=>{const c=i==="live"||i==="ongoing";return s.jsxs("article",{className:"bg-surface-light dark:bg-surface-dark rounded-xl p-0 shadow-[0_2px_8px_rgba(0,0,0,0.04)] dark:shadow-none border border-border-color dark:border-slate-700 flex flex-col relative overflow-hidden group hover:border-primary/30 transition-all",role:"listitem",children:[i==="live"?s.jsx("div",{className:"h-1 w-full bg-primary absolute top-0 left-0","aria-hidden":!0}):null,s.jsxs("div",{className:"p-5 flex flex-col h-full gap-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("span",{className:`text-[11px] font-bold px-2 py-0.5 rounded uppercase tracking-wide flex items-center gap-1 ${$N[i]}`,children:[i==="live"||i==="ongoing"?s.jsx("span",{className:"size-1.5 rounded-full bg-green-500 animate-pulse","aria-hidden":!0}):null,UN[i]]}),s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main","aria-label":"",onClick:()=>d==null?void 0:d(e),children:s.jsx("span",{className:"material-symbols-outlined",children:"more_horiz"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg text-text-main dark:text-white",children:t}),n?s.jsx("span",{className:"text-[11px] font-semibold text-text-secondary bg-input-bg dark:bg-slate-800 px-2 py-0.5 rounded",children:n}):null]}),r?s.jsx("p",{className:"text-xs text-text-secondary line-clamp-1",children:r}):null]}),s.jsxs("div",{className:"mt-auto space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-text-main dark:text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-input-bg dark:bg-slate-800 px-2 py-1 rounded","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base text-text-secondary",children:"schedule"}),s.jsx("span",{className:"font-medium",children:a})]}),s.jsxs("div",{className:"flex items-center gap-1 text-text-secondary","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"group"}),s.jsxs("span",{className:"text-xs",children:[l," "]})]})]}),s.jsxs("button",{type:"button",className:`w-full py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors shadow-sm ${c?"bg-primary text-white hover:bg-blue-600":"bg-input-bg text-text-secondary dark:bg-slate-700 dark:text-slate-400 cursor-not-allowed"}`,onClick:()=>c?o==null?void 0:o(e):void 0,"aria-label":c?"":"",disabled:!c,children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:c?"videocam":"schedule_send"}),c?"":""]})]})]})]})},BN=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],dm=[{label:"",date:"23"},{label:"",date:"24",isToday:!0},{label:"",date:"25"},{label:"",date:"26"},{label:"",date:"27"},{label:"",date:"28"},{label:"",date:"29"}],HN={live:"bg-primary text-white shadow-lg ring-2 ring-white",ongoing:"bg-primary text-white shadow-lg ring-2 ring-white",upcoming:"bg-orange-50 text-orange-900 border border-orange-200",completed:"bg-slate-100 text-text-main border border-slate-200",pending:"bg-slate-100 text-text-secondary border border-slate-200"},QN={live:"videocam",ongoing:"videocam",upcoming:"schedule",completed:"check_circle",pending:"event_busy"},VN=[{value:"day",label:""},{value:"week",label:""},{value:"month",label:""}],cm=64,WN=8*60,um=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},KN=e=>{const t=um(e.startTime),r=um(e.endTime),n=Math.max(0,t-WN),a=Math.max(30,r-t);return{top:`${n/60*cm}px`,height:`${a/60*cm}px`}},qN=({courses:e,view:t,onSelectCourse:r,onViewChange:n})=>s.jsxs("div",{className:"flex-1 flex flex-col bg-background-light relative",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-background-light shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-text-main tracking-tight",children:"2023 10"}),s.jsxs("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-border-light p-0.5",children:[s.jsx("button",{type:"button",className:"p-1 hover:bg-background-light rounded transition-colors text-text-secondary","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),s.jsx("button",{type:"button",className:"px-2 text-sm font-bold text-text-main","aria-label":"",children:""}),s.jsx("button",{type:"button",className:"p-1 hover:bg-background-light rounded transition-colors text-text-secondary","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]}),s.jsx("div",{className:"flex bg-white rounded-lg shadow-sm border border-border-light p-1",role:"group","aria-label":"//",children:VN.map(a=>s.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md transition-colors ${t===a.value?"text-primary font-bold bg-primary/10 shadow-sm":"text-text-secondary hover:bg-background-light"}`,"aria-pressed":t===a.value,onClick:()=>n==null?void 0:n(a.value),children:a.label},a.value))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6 relative custom-scroll",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-border-light min-h-[800px] flex flex-col relative",children:[s.jsxs("div",{className:"grid grid-cols-8 border-b border-border-light sticky top-0 bg-white z-10 rounded-t-xl",children:[s.jsx("div",{className:"p-3 text-center border-r border-border-light/50 text-xs font-bold text-text-secondary",children:""}),dm.map((a,l)=>s.jsxs("div",{className:`p-3 text-center border-r border-border-light/50 ${l===dm.length-1,""} ${a.isToday?"bg-primary/5":""}`,children:[s.jsx("div",{className:`text-xs font-medium ${a.isToday?"text-primary font-bold":"text-text-secondary"}`,children:a.label}),s.jsx("div",{className:`text-lg font-bold font-display mx-auto w-8 h-8 flex items-center justify-center rounded-full ${a.isToday?"bg-primary text-white":"text-text-main"}`,children:a.date})]},a.label))]}),s.jsxs("div",{className:"flex-1 grid grid-cols-8 relative",children:[s.jsx("div",{className:"absolute w-full border-t-2 border-primary z-10 flex items-center pointer-events-none",style:{top:"32%"},children:s.jsx("div",{className:"absolute -left-1 w-2 h-2 bg-primary rounded-full","aria-hidden":!0})}),s.jsx("div",{className:"col-span-1 border-r border-border-light/50 text-xs text-text-secondary font-medium",children:BN.map(a=>s.jsx("div",{className:"h-16 border-b border-border-light/30 flex items-start justify-center pt-2",children:a},a))}),s.jsx("div",{className:"col-span-7 grid grid-cols-7 absolute inset-0 left-[12.5%] h-full pointer-events-none",children:Array.from({length:7}).map((a,l)=>s.jsx("div",{className:`border-r border-border-light/30 h-full ${l===1?"bg-primary/5":""} grid grid-rows-[repeat(11,4rem)]`,children:Array.from({length:11}).map((i,o)=>s.jsx("div",{className:"border-b border-border-light/30"},o))},l))}),s.jsx("div",{className:"absolute inset-0 left-[12.5%] right-0",children:s.jsx("div",{className:"grid grid-cols-7 h-full",children:e.map(a=>{const l=KN(a),i=Math.min(Math.max(a.weekday,1),7);return s.jsx("div",{className:"relative px-1",style:{gridColumnStart:i},children:s.jsxs("button",{type:"button",className:`absolute inset-x-1 text-left rounded-lg p-3 text-xs cursor-pointer transition-transform hover:scale-[1.02] flex flex-col justify-between ${HN[a.status]}`,style:l,onClick:()=>r==null?void 0:r(a.id),"aria-label":`${a.title} ${a.startTime}-${a.endTime}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-1 gap-2",children:[s.jsx("span",{className:"font-bold line-clamp-2 leading-snug text-sm",children:a.title}),a.status==="live"?s.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-100 px-2 py-1 text-[11px] font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:""}):null]}),s.jsx("p",{className:"opacity-80 line-clamp-1",children:a.className})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-80",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:QN[a.status]}),s.jsxs("span",{children:[a.startTime," - ",a.endTime]})]})]})},a.id)})})})]})]})})]}),GN=({course:e,open:t,onClose:r,children:n})=>{const a={live:"",ongoing:"",upcoming:"",completed:"",pending:""};return s.jsxs("aside",{className:`absolute inset-y-0 right-0 w-[480px] bg-white shadow-drawer border-l border-border-light z-40 transform transition-transform duration-300 ease-in-out flex flex-col ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"",children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-border-light bg-slate-50",children:[s.jsx("div",{className:"flex-1",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:a[e.status]}),s.jsxs("span",{className:"text-text-secondary text-sm",children:[e.dayLabel," ",e.startTime," - ",e.endTime]})]}),s.jsx("h2",{className:"text-xl font-bold text-text-main leading-tight mb-1",children:e.title}),s.jsx("p",{className:"text-text-secondary text-sm",children:e.className})]}):s.jsx("div",{className:"text-text-secondary text-sm",children:""})}),s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main hover:bg-black/5 rounded-full p-1 transition-colors",onClick:r,"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 p-6 border-b border-border-light",children:[s.jsxs("button",{className:"flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold py-2.5 px-4 rounded-lg shadow-sm transition-all active:scale-95","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined",children:"videocam"}),""]}),s.jsxs("button",{className:"flex items-center justify-center gap-2 bg-white border border-border-light hover:bg-slate-50 text-text-main font-medium py-2.5 px-4 rounded-lg transition-colors","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined",children:"edit"}),""]}),s.jsxs("button",{className:"col-span-2 flex items-center justify-center gap-2 bg-white border border-border-light hover:bg-slate-50 text-text-secondary font-medium py-2 px-4 rounded-lg text-sm transition-colors border-dashed","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"upload_file"})," /  / "]})]}),n?s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n}):null]})},YN=({students:e,onAttendanceChange:t,onViewProfile:r})=>s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-text-main",children:""}),s.jsxs("span",{className:"bg-gray-100 text-text-secondary text-xs px-2 py-0.5 rounded-full font-medium",children:[e.length,""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-primary text-sm font-medium hover:underline","aria-label":" CSV",children:"CSV"}),s.jsx("div",{className:"h-4 w-px bg-border-light","aria-hidden":!0}),s.jsx("button",{className:"text-primary text-sm font-medium hover:underline","aria-label":"",children:""})]})]}),s.jsx("div",{className:"px-6 pb-2",children:s.jsxs("div",{className:"flex border-b border-border-light",role:"tablist","aria-label":"",children:[s.jsx("button",{className:"px-4 py-2 text-sm font-bold text-primary border-b-2 border-primary",role:"tab","aria-selected":!0,children:""}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-main transition-colors",role:"tab",children:" (3)"}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-main transition-colors",role:"tab",children:" (28)"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-white z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-3 text-xs font-medium text-text-secondary border-b border-border-light w-[40%]",children:""}),s.jsx("th",{className:"py-3 text-xs font-medium text-text-secondary border-b border-border-light w-[30%]",children:""}),s.jsx("th",{className:"py-3 text-xs font-medium text-text-secondary border-b border-border-light w-[30%] text-right",children:""})]})}),s.jsx("tbody",{className:"text-sm",children:e.map(n=>s.jsx(Pu,{student:n,onAttendanceChange:t,onViewProfile:r},n.id))})]})})]});function JN(e){var y,j;const[t,r]=S.useState(!1),[n,a]=S.useState(void 0),[l,i]=S.useState([]),[o,d]=S.useState([]),[c,u]=S.useState([]),[f,h]=S.useState([]),m=S.useCallback(async()=>{r(!0),a(void 0);try{const[N,P,v,_]=await Promise.all([Qa.list(),yr.list(),ds.list(),lo.list()]);i(N),d(P),u(v),h(_)}catch(N){a(N)}finally{r(!1)}},[]);S.useEffect(()=>{m()},[m]);const x=S.useMemo(()=>l.map((N,P)=>{var ue;const[v="00:00",_="01:00"]=(N.timeRange??"00:00 - 01:00").split("-").map(z=>z.trim()),A=((ue=N.schedule)==null?void 0:ue.split(" ")[0])??`${(P%7+1).toString()}`,O=`${24+P}`,B=N.status==="live"?"":N.status==="upcoming"?"":N.status==="completed"?"":"",se=N.status==="completed"?"recorded":"live";return{...N,className:N.classLabel??N.title,description:N.description,dayLabel:A,dateLabel:O,weekday:P%7+1,startTime:v,endTime:_,tag:B,mode:se,students:o.filter(z=>!z.courseId||z.courseId===N.id),assignments:c.filter(z=>z.courseId===N.id),recordings:f.filter(z=>z.courseId===N.id)}}),[c,l,f,o]),b=((y=x.find(N=>N.status==="live"))==null?void 0:y.id)??((j=x[0])==null?void 0:j.id),[w,p]=S.useState(void 0);S.useEffect(()=>{const N=e??b;p(P=>P??N)},[e,b]);const g=S.useCallback((N,P)=>{d(v=>v.map(_=>_.id===N?{..._,attendance:P}:_))},[]);return{data:{courses:x,students:o,selectedCourseId:w},isLoading:t,error:n,actions:{setSelectedCourse:p,markAttendance:g}}}const XN=()=>{const e=Us(),[t]=Nj(),r=S.useMemo(()=>{const f=typeof(t==null?void 0:t.get)=="function"?t.get("courseId"):void 0,h=e==null?void 0:e.courseId;return f??h},[e,t]),{data:{courses:n,students:a,selectedCourseId:l},actions:{setSelectedCourse:i,markAttendance:o}}=JN(r),[d,c]=S.useState("week"),u=S.useMemo(()=>n.find(f=>f.id===l),[n,l]);return s.jsxs("div",{className:"flex min-h-screen bg-background-light text-text-main relative",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-6 p-4",children:[s.jsx(qN,{courses:n,view:d,onSelectCourse:i,onViewChange:c}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(f=>{var h;return s.jsx(hy,{id:f.id,title:f.title,description:f.description,classLabel:f.classLabel??f.className,timeRange:f.timeRange,studentsCount:((h=f.students)==null?void 0:h.length)||0,status:f.status,onEnter:()=>i(f.id),onMore:()=>i(f.id)},f.id)})})]}),s.jsx(GN,{course:u,open:!!u,onClose:()=>i(void 0),children:s.jsx(YN,{students:a,onAttendanceChange:o})})]})},ZN=()=>{const e=Us(),t=(e==null?void 0:e.courseId)||"course-1",r=bt(),{data:{course:n}}=uy(t),[a,l]=S.useState(n.title||""),[i,o]=S.useState(n.teacher||""),[d,c]=S.useState(n.schedule||""),u=f=>{f.preventDefault(),r(K.courseDetail.replace(":courseId",t))};return s.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:""}),s.jsxs("form",{onSubmit:u,className:"space-y-4 bg-surface-light dark:bg-surface-dark p-6 rounded-lg border border-border-light dark:border-border-dark",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary block mb-1",children:""}),s.jsx("input",{value:a,onChange:f=>l(f.target.value),className:"w-full px-3 py-2 rounded border border-border-light"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary block mb-1",children:""}),s.jsx("input",{value:i,onChange:f=>o(f.target.value),className:"w-full px-3 py-2 rounded border border-border-light"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-text-secondary block mb-1",children:""}),s.jsx("input",{value:d,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 rounded border border-border-light"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded",children:""}),s.jsx("button",{type:"button",onClick:()=>r(K.courseDetail.replace(":courseId",t)),className:"px-4 py-2 rounded border",children:""})]})]})]})},eS=({courses:e,onCourseDetail:t,onEnter:r,onViewAll:n,onAddCourse:a})=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[s.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-white",children:""}),s.jsxs("div",{className:"flex gap-2","aria-label":"",children:[s.jsx("button",{className:"size-8 flex items-center justify-center rounded-full bg-input-bg dark:bg-slate-700 text-text-secondary hover:text-text-main disabled:opacity-50","aria-label":"",disabled:!0,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back_ios_new"})}),s.jsx("button",{className:"size-8 flex items-center justify-center rounded-full bg-input-bg dark:bg-slate-700 text-text-secondary hover:text-text-main","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward_ios"})}),s.jsx("button",{type:"button",className:"ml-3 text-xs text-primary hover:underline",onClick:()=>n==null?void 0:n(),children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",role:"list","aria-label":"",children:[e.map(l=>s.jsx(hy,{id:l.id,title:l.title,description:l.description,classLabel:l.classLabel,timeRange:l.timeRange||"",studentsCount:l.studentsCount??0,status:l.status,onEnter:()=>r==null?void 0:r(l.id),onMore:()=>t==null?void 0:t(l.id)},l.id)),s.jsxs("button",{className:"bg-transparent rounded-xl border-2 border-dashed border-border-color dark:border-slate-700 flex flex-col items-center justify-center p-5 text-center group hover:border-primary/50 hover:bg-primary/5 transition-all cursor-pointer","aria-label":"",onClick:()=>a==null?void 0:a(),children:[s.jsx("div",{className:"size-12 rounded-full bg-input-bg dark:bg-slate-800 flex items-center justify-center mb-3 group-hover:bg-primary group-hover:text-white transition-colors text-text-secondary",children:s.jsx("span",{className:"material-symbols-outlined",children:"edit_calendar"})}),s.jsx("h4",{className:"font-bold text-text-main dark:text-white text-sm",children:""}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:""})]})]})]}),tS=({metrics:e})=>s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 p-6 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-text-main dark:text-white text-lg flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"analytics"}),""]}),s.jsxs("p",{className:"text-xs text-text-secondary flex items-center gap-1.5 mt-1.5",children:[s.jsxs("span",{className:"relative flex h-2 w-2","aria-hidden":!0,children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"font-mono",children:"WS_CONNECTED"}),"  "]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("select",{className:"bg-input-bg dark:bg-slate-700 border-none text-xs font-medium text-text-main dark:text-white rounded-lg py-1.5 pl-3 pr-8 focus:ring-1 focus:ring-primary","aria-label":"",children:s.jsx("option",{children:" (A)"})})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",role:"list","aria-label":"",children:e.map(t=>s.jsx(fy,{keyName:t.key,label:t.label,value:t.value,unit:t.unit,color:t.color,progress:t.progress},t.key))})]}),rS=({assignments:e,onGrade:t,onViewAll:r})=>s.jsxs("section",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 h-full flex flex-col","aria-label":"",children:[s.jsxs("div",{className:"p-5 pb-3 border-b border-border-color dark:border-slate-700 flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-text-main dark:text-white text-lg",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-20","aria-hidden":!0}),s.jsxs("span",{className:"relative bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-300 text-[10px] font-bold px-2 py-0.5 rounded-full border border-red-200 dark:border-red-800",children:[e.length," "]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:s.jsx("ul",{className:"space-y-2",role:"list",children:e.map(n=>s.jsx(Nu,{...n,onAction:a=>t==null?void 0:t(a)},n.id))})}),s.jsx("div",{className:"p-3 border-t border-border-color dark:border-slate-700",children:s.jsxs("button",{onClick:()=>r==null?void 0:r(),className:"w-full py-2 text-xs font-bold text-text-secondary hover:text-primary hover:bg-input-bg dark:hover:bg-slate-700 rounded-lg transition-colors flex items-center justify-center gap-1","aria-label":"",children:["",s.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"})]})})]}),Bl=As,nS=[{key:"participation",label:"",value:92,unit:"%"},{key:"accuracy",label:"",value:78,unit:"%"},{key:"hands",label:"",value:5,unit:""}];function sS(){var i,o;const e=Bl.courses??[],t=Bl.assignments??[],r=(i=Bl.dashboard)==null?void 0:i.today_course_ids,n=r!=null&&r.length?e.filter(d=>r.includes(d.id)):e.slice(0,4),a=t.slice(0,6),l=((o=Bl.dashboard)==null?void 0:o.metrics)??nS;return{courses:n,assignments:a,metrics:l}}async function aS(){try{return(await be.get("/dashboard")).data}catch(e){console.warn("fetchDashboard failed, falling back to mock data",e)}return sS()}const lS={fetchDashboard:aS};function iS(){const e=Ig(),{data:t,isLoading:r,refetch:n}=hk({queryKey:["dashboard"],queryFn:lS.fetchDashboard,staleTime:6e4});return{data:t??{courses:[],assignments:[],metrics:[]},isLoading:r,actions:{refresh:()=>n().then(l=>l.data),invalidate:async()=>{await e.invalidateQueries({queryKey:["dashboard"]})}}}}const oS=()=>{const{data:{courses:e,assignments:t,metrics:r}}=iS(),n=bt(),a=x=>{n(K.courseDetail.replace(":courseId",x))},l=x=>{n(`${K.liveTeaching}/${x}`)},i=()=>{n(K.courseSchedule)},o=x=>{n(`${K.assignmentManagement}/${x}/grading`)},d=()=>{n(K.assignmentManagement)},c=()=>{n(K.liveTeaching)},u=()=>{n(`${K.assignmentManagement}/new`)},f=()=>{n(`${K.resourceLibrary}/upload`)},h=["blue","orange","purple"],m=r.map((x,b)=>({...x,color:x.color??h[b%h.length]}));return s.jsx(eo,{children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:"max-w-[1280px] mx-auto p-6 lg:p-10 space-y-8",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-[28px] font-bold text-text-main dark:text-white leading-tight",children:" "}),s.jsxs("p",{className:"text-text-secondary text-sm mt-1",children:[" ",s.jsxs("span",{className:"text-text-main dark:text-white font-medium",children:[e.length," "]})," "," ",s.jsxs("span",{className:"text-text-main dark:text-white font-medium",children:[t.length," "]}),""]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",role:"group","aria-label":"",children:[s.jsxs("button",{onClick:()=>u(),className:"flex items-center gap-2 px-4 py-2 bg-surface-light dark:bg-surface-dark border border-border-color dark:border-slate-600 rounded-lg shadow-sm hover:border-primary/50 text-text-main dark:text-white text-sm font-bold transition-all","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"add_circle"}),""]}),s.jsxs("button",{onClick:()=>f(),className:"flex items-center gap-2 px-4 py-2 bg-surface-light dark:bg-surface-dark border border-border-color dark:border-slate-600 rounded-lg shadow-sm hover:border-primary/50 text-text-main dark:text-white text-sm font-bold transition-all","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"cloud_upload"}),""]}),s.jsxs("button",{onClick:()=>c(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white border border-primary rounded-lg shadow-md shadow-primary/20 hover:bg-blue-600 text-sm font-bold transition-all active:scale-95 select-none","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"videocam"}),""]})]})]}),s.jsx("section",{children:s.jsx(eS,{courses:e,onCourseDetail:a,onEnter:l,onViewAll:i})}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6","aria-label":"",children:[s.jsx("div",{className:"xl:col-span-2 space-y-6",children:s.jsx(tS,{metrics:m})}),s.jsx("div",{className:"xl:col-span-1",children:s.jsx(rS,{assignments:t,onGrade:o,onViewAll:d})})]})]})})})},dS={high:"bg-red-50 text-red-700 border border-red-200",medium:"bg-amber-50 text-amber-700 border border-amber-200",low:"bg-emerald-50 text-emerald-700 border border-emerald-200"},cS=({items:e,filter:t,search:r,stats:n,selectedId:a,isLoading:l,onSelect:i,onFilterChange:o,onSearchChange:d})=>{const c=[{label:"",value:"all",count:n.all},{label:"",value:"unread",count:n.unread},{label:"",value:"question",count:n.question},{label:"",value:"appeal",count:n.appeal},{label:"",value:"system",count:n.system},{label:"",value:"general",count:n.general}];return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark flex flex-col gap-3 shadow-sm z-10",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),s.jsx("input",{type:"text",value:r,onChange:u=>d(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg text-sm focus:ring-2 focus:ring-primary/50 placeholder:text-text-secondary-light dark:text-white",placeholder:"..."})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide -mx-1 px-1",children:c.map(u=>s.jsxs("button",{type:"button",onClick:()=>o(u.value),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-xs font-semibold border transition-all ${t===u.value?"bg-primary/10 text-primary border-primary/30":"bg-background-light dark:bg-background-dark text-text-secondary-light dark:text-text-secondary-dark border-border-light dark:border-border-dark hover:border-slate-300 dark:hover:border-slate-600"}`,children:[u.label,typeof u.count=="number"?s.jsxs("span",{className:"ml-1 text-[11px] font-bold",children:["(",u.count,")"]}):null]},u.value))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"..."}):e.length===0?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""}):s.jsx("ul",{children:e.map(u=>{var f;return s.jsx("li",{className:"border-b border-border-light dark:border-border-dark last:border-none",children:s.jsxs("button",{type:"button",onClick:()=>i(u.id),className:`w-full text-left p-4 flex flex-col gap-2 transition-colors ${a===u.id?"bg-primary/5 dark:bg-primary/10 border-l-4 border-l-primary":"hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-text-main-light dark:text-text-main-dark font-bold text-[11px]",children:u.type==="question"?"":u.type==="system"?"":u.type==="appeal"?"":""}),s.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-bold ${dS[u.priority]}`,children:u.priority==="high"?"":u.priority==="medium"?"":""}),(f=u.tags)==null?void 0:f.map(h=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-[11px] font-medium",children:h},h))]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[u.isRead?null:s.jsx("span",{className:"size-2 rounded-full bg-primary inline-block","aria-label":"unread"}),s.jsx("span",{children:u.time})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-text-main-light dark:text-text-main-dark",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:u.sender}),s.jsx("span",{className:"text-text-secondary-light",children:""}),s.jsx("span",{children:u.subject})]}),s.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark line-clamp-2 leading-relaxed",children:u.preview})]})},u.id)})})})]})},uS=({selected:e,onReply:t,onForward:r,onCreateTicket:n,onToggleRead:a})=>{var l;return s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-border-light dark:border-border-dark overflow-hidden flex flex-col min-h-[520px]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-light dark:border-border-dark bg-slate-50/50 dark:bg-slate-900/40",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg text-text-secondary-light dark:text-text-secondary-dark transition-colors",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined",children:"reply"})}),s.jsx("button",{className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg text-text-secondary-light dark:text-text-secondary-dark transition-colors",onClick:r,children:s.jsx("span",{className:"material-symbols-outlined",children:"forward"})}),s.jsx("button",{className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg text-text-secondary-light dark:text-text-secondary-dark transition-colors",onClick:n,children:s.jsx("span",{className:"material-symbols-outlined",children:"assignment_add"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("button",{type:"button",className:`px-2 py-1 rounded text-xs font-bold border ${e.isRead?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-orange-50 text-orange-700 border-orange-200"}`,onClick:a,children:e.isRead?"":""})]})]}),s.jsxs("div",{className:"p-6 flex-1 flex flex-col gap-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-bold text-text-main-light dark:text-text-main-dark mb-2",children:e.subject}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:"font-semibold text-text-main-light dark:text-text-main-dark",children:e.sender}),s.jsx("span",{className:"text-text-secondary-light",children:""}),s.jsx("span",{children:e.role}),e.email?s.jsx("span",{className:"text-text-secondary-light",children:e.email}):null,s.jsx("span",{className:"text-text-secondary-light",children:e.time})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[s.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-xs font-bold text-text-main-light dark:text-text-main-dark",children:e.type==="question"?"":e.type==="appeal"?"":e.type==="system"?"":""}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${e.priority==="high"?"bg-red-50 text-red-700 border-red-200":e.priority==="medium"?"bg-amber-50 text-amber-700 border-amber-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:e.priority==="high"?"":e.priority==="medium"?"":""}),(l=e.tags)==null?void 0:l.map(i=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-xs font-medium",children:i},i))]})]}),s.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none text-sm leading-relaxed text-text-main-light dark:text-text-main-dark",children:s.jsx("p",{children:e.content})}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-border-light dark:border-border-dark",children:[s.jsx("div",{className:"mb-3 text-sm font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover transition-colors flex items-center gap-1",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"reply"}),""]}),s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-1",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"forward"}),""]}),s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-1",onClick:n,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"assignment_add"}),""]}),s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-1",onClick:a,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"visibility"}),e.isRead?"":""]})]})]})]})]})})},Yo=[{id:"msg-1",type:"question",subject:"",preview:"",content:"4 AC  O  D BD  AC BD ",sender:"",role:"",email:"zhangwei_student@edu.com",time:" 10:30",priority:"medium",isRead:!1,tags:["",""]},{id:"msg-2",type:"system",subject:" ",preview:" 15  48  3 ",content:" 15  48  3 ",sender:"",role:"",time:"09:15",priority:"high",isRead:!1,tags:[""]},{id:"msg-3",type:"appeal",subject:" 12 ",preview:" 12 ",content:" 12 ",sender:"",role:"",email:"liming_student@edu.com",time:"",priority:"high",isRead:!0,tags:["",""]},{id:"msg-4",type:"question",subject:"",preview:"",content:"",sender:"",role:"",time:"2 ",priority:"low",isRead:!0,tags:[""]},{id:"msg-5",type:"general",subject:"",preview:"",content:"",sender:"",role:"",email:"team_lead@edu.com",time:"",priority:"medium",isRead:!0,tags:["",""]}],fS=()=>{var g;const[e,t]=E.useState(Yo),[r,n]=E.useState(((g=Yo[0])==null?void 0:g.id)??null),[a,l]=E.useState("all"),[i,o]=E.useState(""),[d,c]=E.useState(!1),u=E.useMemo(()=>({all:e.length,unread:e.filter(y=>!y.isRead).length,question:e.filter(y=>y.type==="question").length,appeal:e.filter(y=>y.type==="appeal").length,system:e.filter(y=>y.type==="system").length,general:e.filter(y=>y.type==="general").length}),[e]),f=E.useMemo(()=>e.filter(y=>{var P;if(!(a==="all"?!0:a==="unread"?!y.isRead:y.type===a))return!1;if(!i)return!0;const N=i.toLowerCase();return y.subject.toLowerCase().includes(N)||y.preview.toLowerCase().includes(N)||y.sender.toLowerCase().includes(N)||((P=y.tags)==null?void 0:P.some(v=>v.toLowerCase().includes(N)))}),[e,a,i]);E.useEffect(()=>{if(!r&&f.length){n(f[0].id);return}r&&f.every(y=>y.id!==r)&&f.length&&n(f[0].id)},[f,r]);const h=y=>n(y),m=async y=>{t(j=>j.map(N=>N.id===y?{...N,isRead:!0}:N))},x=async y=>{t(j=>j.map(N=>N.id===y?{...N,isRead:!1}:N))},b=async y=>{t(j=>j.map(N=>N.id===y?{...N,isRead:!N.isRead}:N))},w=async()=>{t(y=>y.map(j=>({...j,isRead:!0})))},p=async()=>{c(!0),await new Promise(y=>setTimeout(y,300)),t(Yo),c(!1)};return{notifications:e,filteredNotifications:f,selectedId:r,filter:a,search:i,stats:u,isLoading:d,unreadCount:u.unread,actions:{select:h,setFilter:l,setSearch:o,markRead:m,markUnread:x,markAllRead:w,toggleRead:b,refetch:p}}},hS=()=>{const{notifications:e,filteredNotifications:t,selectedId:r,filter:n,search:a,stats:l,isLoading:i,unreadCount:o,actions:d}=fS(),c=S.useMemo(()=>e.find(b=>b.id===r)??t[0]??null,[e,t,r]),u=b=>{d.select(b),d.markRead(b)},f=()=>{c&&console.log("reply stub",c.id)},h=()=>{c&&console.log("forward stub",c.id)},m=()=>{c&&console.log("create ticket stub",c.id)},x=()=>{c&&d.toggleRead(c.id)};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark flex flex-col",children:[s.jsxs("header",{className:"h-16 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-lg font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsxs("span",{className:"text-xs bg-primary text-white px-2 py-0.5 rounded-full font-bold",children:[" ",o]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:()=>void d.markAllRead(),children:""}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:()=>void d.refetch(),children:""})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("section",{className:"w-full md:w-[380px] flex-shrink-0 flex flex-col bg-surface-light dark:bg-surface-dark border-r border-border-light dark:border-border-dark",children:s.jsx(cS,{items:t,filter:n,search:a,stats:l,selectedId:r,isLoading:i,onSelect:u,onFilterChange:d.setFilter,onSearchChange:d.setSearch})}),s.jsx("section",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark",children:c?s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx(uS,{selected:c,onReply:f,onForward:h,onCreateTicket:m,onToggleRead:x})}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-text-secondary-light dark:text-text-secondary-dark",children:""})})]})]})},mS={ready:{label:"",tone:"bg-emerald-100 text-emerald-700"},processing:{label:"",tone:"bg-amber-100 text-amber-700"},failed:{label:"",tone:"bg-red-100 text-red-700"}},fm={label:"",tone:"bg-gray-100 text-gray-600"},pS=({id:e,title:t,duration:r,date:n,status:a,preview:l,onPlay:i,onShare:o,onExport:d})=>{const c=a?mS[a]??fm:fm;return s.jsxs("article",{className:"group bg-white rounded-xl border border-border-light shadow-sm hover:shadow-md hover:border-border-dark/50 transition-all cursor-pointer flex flex-col overflow-hidden",role:"listitem",children:[s.jsxs("div",{className:"relative aspect-video bg-slate-200 w-full overflow-hidden",children:[l?s.jsx("div",{className:"absolute inset-0 bg-center bg-cover transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url(${l})`},"aria-hidden":!0}):null,s.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:r}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx("button",{type:"button",className:"bg-white/90 rounded-full p-2 shadow-lg backdrop-blur-sm transform scale-90 group-hover:scale-100 transition-transform",onClick:()=>i(e),"aria-label":` ${t}`,children:s.jsx("span",{className:"material-symbols-outlined text-primary text-[28px] pl-1",children:"play_arrow"})})})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-2 flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-text-main font-bold text-sm leading-snug line-clamp-2 group-hover:text-primary transition-colors",children:t}),s.jsx("button",{className:"text-text-secondary hover:text-text-main -mr-2 -mt-2 p-2 rounded-full","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})})]}),s.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-text-secondary",children:[s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] font-semibold ${c.tone}`,children:c.label})}),s.jsx("span",{children:n})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 text-xs",children:[s.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-lg border border-border-light hover:border-primary text-text-main hover:text-primary transition-colors",onClick:()=>o(e),"aria-label":` ${t}`,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"share"}),""]}),s.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-lg border border-border-light hover:border-primary text-text-main hover:text-primary transition-colors",onClick:()=>d(e),"aria-label":` ${t}`,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"file_download"}),""]})]})]})]})},xS=({recordings:e,onPlay:t,onShare:r,onExport:n,onFilterChange:a})=>{const[l,i]=S.useState(void 0),[o,d]=S.useState(void 0),[c,u]=S.useState(void 0);return S.useEffect(()=>{a==null||a({courseId:l,status:o,date:c})},[l,o,c,a]),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",placeholder:"courseId",value:l??"",onChange:f=>i(f.target.value||void 0)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:o??"",onChange:f=>d(f.target.value||void 0),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"ready",children:""}),s.jsx("option",{value:"processing",children:""}),s.jsx("option",{value:"failed",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",type:"date",value:c??"",onChange:f=>u(f.target.value||void 0)})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",role:"list",children:e.map(f=>s.jsx(pS,{...f,onPlay:t,onShare:r,onExport:n},f.id))})]})},gS=({recording:e,onClose:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex justify-end",role:"dialog","aria-modal":"true","aria-label":"",children:s.jsxs("div",{className:"relative w-full max-w-3xl bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[s.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-border-light",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-text-main line-clamp-1",children:e.title}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",e.courseId||"","  ",e.date]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 text-text-secondary hover:bg-gray-100 rounded-lg transition-colors",title:"",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"open_in_new"})}),s.jsx("button",{className:"p-2 text-text-secondary hover:bg-gray-100 rounded-lg transition-colors",title:"",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"close"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"bg-black aspect-video relative",children:[s.jsx("div",{className:"absolute inset-0 bg-center bg-cover opacity-80",style:{backgroundImage:`url(${e.preview||""})`},"aria-hidden":!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("button",{className:"bg-white/20 backdrop-blur-md rounded-full p-4 hover:scale-110 transition-transform","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-white text-[40px] fill-1",children:"play_arrow"})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/20",children:s.jsx("div",{className:"h-full bg-primary w-1/3 relative",children:s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 size-3 bg-white rounded-full shadow cursor-pointer","aria-label":""})})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-text-secondary",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-main",children:""}),s.jsxs("p",{children:[": ",e.duration]}),s.jsxs("p",{children:[": ",e.status]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-main",children:""}),s.jsx("p",{className:"text-xs",children:"TODO: "})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-bold text-text-main flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"content_cut"}),"/"]}),s.jsx("div",{className:"h-12 bg-slate-100 rounded-lg border border-border-light relative overflow-hidden flex items-center px-2 text-xs text-text-secondary",children:s.jsx("span",{className:"opacity-60",children:"/"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-bold text-text-main flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"whiteboard"}),""]}),s.jsx("p",{className:"text-sm text-text-secondary",children:"TODO: /"})]})]})]})]})}):null;function yS(e={}){const[t,r]=S.useState([]),[n,a]=S.useState(e),[l,i]=S.useState(!1),[o,d]=S.useState(void 0),c=S.useMemo(()=>t.filter(h=>!(n.courseId&&h.courseId!==n.courseId||n.status&&h.status!==n.status||n.date&&h.date!==n.date)),[n,t]),u=S.useCallback(async()=>{i(!0),d(void 0);try{const h=await lo.list(n.courseId);r(h)}catch(h){d(h)}finally{i(!1)}},[n.courseId]);S.useEffect(()=>{u()},[u]),S.useEffect(()=>{if(!c.some(x=>x.status==="processing"))return;const m=setInterval(()=>{u()},4e3);return()=>clearInterval(m)},[c,u]);const f=S.useCallback(async h=>{r(m=>m.map(x=>x.id===h?{...x,status:"ready"}:x))},[]);return{recordings:c,isLoading:l,error:o,filters:n,setFilters:h=>a(m=>({...m,...h})),refetch:u,setReady:f}}const bS=()=>{const{recordings:e,isLoading:t,error:r,setFilters:n,refetch:a}=yS(),[l,i]=S.useState(void 0),[o,d]=S.useState(null),[c,u]=S.useState(null),f=S.useMemo(()=>e.find(w=>w.id===l),[l,e]),h=S.useCallback(w=>{i(w)},[]),m=S.useCallback(async w=>{var g;const p=`https://campus.example.com/recordings/${w}?expires=7d`;d(p);try{if(typeof navigator<"u"&&((g=navigator.clipboard)!=null&&g.writeText)){await navigator.clipboard.writeText(p),u("7 ");return}u("")}catch(y){console.error("",y),u("")}},[]),x=S.useCallback(w=>{u(`: ${w}`),d(null)},[]),b=S.useCallback(()=>{i(void 0)},[]);return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm text-text-main hover:border-primary transition-colors",onClick:()=>void a(),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"refresh"}),s.jsx("span",{className:"ml-1",children:""})]}),s.jsxs("button",{className:"px-3 h-10 rounded-lg bg-primary text-white text-sm shadow hover:shadow-md transition-shadow",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"upload"}),s.jsx("span",{className:"ml-1",children:""})]})]})]}),c?s.jsxs("div",{className:"rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800 flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{children:c}),o?s.jsx("p",{className:"font-mono text-[11px] break-all text-amber-900",children:o}):null]}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>{u(null),d(null)},"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(xS,{recordings:e,onPlay:h,onShare:m,onExport:x,onFilterChange:n}),s.jsx(gS,{recording:f,onClose:b})]})},vS=e=>{switch(e){case"pdf":return"picture_as_pdf";case"video":return"play_circle";case"doc":return"description";case"tex":return"code";default:return"insert_drive_file"}},wS=e=>e==="pdf"?"bg-red-50 text-red-600 border-red-100":e==="video"?"bg-purple-50 text-purple-600 border-purple-100":e==="tex"?"bg-slate-100 text-slate-600 border-slate-200":e==="doc"?"bg-blue-50 text-blue-600 border-blue-100":"bg-slate-50 text-slate-600 border-slate-100",jS=({resource:e,onPreview:t,onInsert:r,onShare:n,onDelete:a})=>{const l=vS(e.type),i=wS(e.type);return s.jsxs("div",{className:"group relative flex flex-col bg-white dark:bg-surface-dark rounded-xl border border-border-light shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer",children:[s.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-xl overflow-hidden flex items-center justify-center",children:[s.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-300 group-hover:text-primary transition-colors",children:l}),e.durationLabel?s.jsx("span",{className:"absolute bottom-2 right-2 px-1.5 py-0.5 bg-black/60 text-white text-[10px] rounded",children:e.durationLabel}):null,s.jsx("button",{type:"button",className:"absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity",onClick:o=>{o.stopPropagation(),t==null||t(e)},children:s.jsx("span",{className:"material-symbols-outlined text-[20px] text-white drop-shadow",children:"visibility"})})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx("h3",{className:"font-bold text-text-main text-sm leading-snug line-clamp-2",children:e.title}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main",onClick:o=>{o.stopPropagation(),a==null||a(e)},"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[e.tags.map(o=>s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-medium border ${i}`,children:o},o)),e.module?s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium bg-blue-50 text-blue-600 border border-blue-100",children:e.module}):null]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border-light",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[s.jsx("span",{children:e.uploader??""}),e.version?s.jsx("span",{className:"text-[10px] font-mono",children:e.version}):null,e.sizeLabel?s.jsx("span",{className:"text-[10px]",children:e.sizeLabel}):null]}),s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx("button",{type:"button",className:"hover:text-primary",onClick:o=>{o.stopPropagation(),r==null||r(e)},children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add_link"})}),s.jsx("button",{type:"button",className:"hover:text-primary",onClick:o=>{o.stopPropagation(),n==null||n(e)},children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"share"})})]})]})]})]})},kS=()=>s.jsxs("aside",{className:"w-80 bg-white border-l border-border-light shadow-xl flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border-light flex items-center justify-between bg-background-light",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"output"}),s.jsx("h3",{className:"font-bold text-text-main",children:""})]}),s.jsx("span",{className:"text-xs bg-primary text-white px-2 py-0.5 rounded-full font-bold",children:""})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 text-sm text-text-secondary",children:[s.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-lg mb-3",children:""}),s.jsx("p",{children:" console "})]}),s.jsx("div",{className:"p-4 border-t border-border-light bg-background-light",children:s.jsxs("button",{className:"w-full py-2.5 bg-primary text-white rounded-lg font-bold text-sm shadow hover:bg-primary-hover transition-colors flex items-center justify-center gap-2",type:"button",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"arrow_forward"})]})})]}),NS=({onRefresh:e,onOpenUpload:t})=>s.jsxs("header",{className:"h-16 flex items-center justify-between border-b border-border-light bg-white px-6 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 rounded bg-primary text-white flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"calculate"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-text-main",children:""}),s.jsx("p",{className:"text-xs text-text-secondary",children:"  "})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-white border border-border-light rounded-lg text-text-main font-medium hover:bg-slate-50 shadow-sm",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"history"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-bold hover:bg-primary-hover shadow-md",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"cloud_upload"}),""]})]})]}),SS=({folders:e,selectedFolder:t,onSelectFolder:r})=>s.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-border-light bg-white overflow-y-auto p-4",children:[s.jsx("h3",{className:"text-xs font-bold text-text-secondary uppercase tracking-wider mb-3",children:""}),s.jsx("ul",{className:"space-y-1 text-sm",children:e.map(n=>s.jsx("li",{children:s.jsx("button",{type:"button",className:`w-full text-left px-3 py-2 rounded-lg hover:bg-background-light transition-colors ${t===n?"bg-primary/10 text-primary font-semibold":"text-text-main"}`,onClick:()=>r(n),children:n})},n))}),s.jsx("div",{className:"mt-6 text-xs text-text-secondary",children:""})]}),CS=({search:e,onSearchChange:t})=>s.jsxs("div",{className:"px-6 pt-5 pb-0",children:[s.jsxs("div",{className:"flex items-center text-sm text-text-secondary mb-3",children:[s.jsx("span",{className:"hover:text-primary cursor-pointer",children:""}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-text-main font-medium",children:""})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-text-main tracking-tight",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-1",children:""})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-border-light rounded-lg text-text-main text-sm font-medium hover:bg-slate-50 shadow-sm",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"sort"}),""]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-border-light rounded-lg text-text-main text-sm font-medium hover:bg-slate-50 shadow-sm",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"view_module"}),""]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-border-light p-2 flex flex-wrap items-center gap-3 shadow-sm mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary text-[20px]",children:"search"}),s.jsx("input",{type:"text",value:e,onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-background-light border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 focus:bg-white placeholder-text-secondary",placeholder:"..."})]}),s.jsx("div",{className:"h-6 w-px bg-border-light hidden md:block","aria-hidden":!0}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsxs("select",{className:"bg-background-light border border-border-light text-sm rounded-lg py-2 pl-3 pr-8 text-text-main cursor-pointer hover:bg-white focus:ring-0",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]}),s.jsxs("select",{className:"bg-background-light border border-border-light text-sm rounded-lg py-2 pl-3 pr-8 text-text-main cursor-pointer hover:bg-white focus:ring-0",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]})]})]})]}),ES=({onUploadRequest:e})=>s.jsxs("div",{className:"mb-6 rounded-xl border-2 border-dashed border-border-light bg-background-light hover:bg-primary/5 hover:border-primary/40 transition-colors p-8 flex flex-col items-center justify-center text-center cursor-pointer",onClick:e,children:[s.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm mb-3",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-[32px]",children:"upload_file"})}),s.jsx("h3",{className:"text-text-main font-medium",children:""}),s.jsx("p",{className:"text-text-secondary text-sm mt-1",children:" PDF, DOCX, MP4, TEX  500MB"})]}),RS=({visible:e,onClose:t,onUpload:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-xl p-6 relative",children:[s.jsx("button",{className:"absolute right-4 top-4 text-text-secondary hover:text-text-main",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})}),s.jsx("h3",{className:"text-lg font-bold text-text-main mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:""}),s.jsxs("div",{className:"border-2 border-dashed border-border-light rounded-lg p-6 text-center bg-background-light hover:border-primary/60 hover:bg-primary/5 transition-colors cursor-pointer",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-4xl",children:"upload"}),s.jsx("p",{className:"mt-2 text-text-main font-medium",children:" (stub)"}),s.jsx("p",{className:"text-xs text-text-secondary",children:""})]})]})}):null,hm=[{id:"res-1",title:"2023().pdf",type:"pdf",module:"",tags:["PDF",""],version:"v1.0",uploader:"",sizeLabel:"4.2 MB"},{id:"res-2",title:".mp4",type:"video",module:"",tags:["MP4",""],version:"v2.1",uploader:"",durationLabel:"14:20"},{id:"res-3",title:"CMO2022_Finals_Source.tex",type:"tex",module:"",tags:["TEX",""],version:"v1.0",uploader:"",sizeLabel:"2.1 MB"},{id:"res-4",title:".docx",type:"doc",module:"",tags:["DOCX",""],version:"v3.5",uploader:""}];function PS(){const[e,t]=S.useState(hm),[r,n]=S.useState(!1),[a,l]=S.useState(void 0),i=S.useCallback(async()=>{n(!0),l(void 0),await new Promise(c=>setTimeout(c,120)),t(hm),n(!1)},[]),o=S.useCallback(async c=>{await new Promise(f=>setTimeout(f,100));const u={id:`res-${Date.now()}`,title:c,type:"other",module:"",tags:[""],uploader:""};return t(f=>[u,...f]),u},[]),d=S.useCallback(async c=>{await new Promise(u=>setTimeout(u,80)),t(u=>u.filter(f=>f.id!==c))},[]);return{resources:e,isLoading:r,error:a,upload:o,remove:d,refetch:i}}const LS=()=>{const{resources:e,isLoading:t,error:r,upload:n,remove:a,refetch:l}=PS(),[i,o]=S.useState(!1),[d,c]=S.useState(""),[u,f]=S.useState(""),h=S.useMemo(()=>{if(!d)return e;const b=d.toLowerCase();return e.filter(w=>w.title.toLowerCase().includes(b)||w.tags.some(p=>p.toLowerCase().includes(b)))},[e,d]),m=b=>{console.log("insert to course stub",b)},x=async b=>{await n(b),o(!1)};return s.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[s.jsx(NS,{onRefresh:()=>void l(),onOpenUpload:()=>o(!0)}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(SS,{folders:["","","","","","",""],selectedFolder:u,onSelectFolder:f}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-background-light",children:[s.jsx(CS,{search:d,onSearchChange:c}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[s.jsx(ES,{onUploadRequest:()=>o(!0)}),r?s.jsx("div",{className:"text-sm text-red-600 mb-3",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary mb-3",children:"..."}):null,s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(b=>s.jsx(jS,{resource:b,onPreview:w=>console.log("preview stub",w.id),onInsert:w=>m(w.id),onShare:w=>console.log("share stub",w.id),onDelete:w=>void a(w.id)},b.id))})]})]}),s.jsx(kS,{})]}),s.jsx(RS,{visible:i,onClose:()=>o(!1),onUpload:()=>void x(".pdf")})]})},TS=()=>{const e=bt(),[t,r]=E.useState(""),[n,a]=E.useState(""),[l,i]=E.useState(null),o=d=>{if(d.preventDefault(),!l||l.length===0){alert("");return}const c=Array.from(l).map(u=>u.name);console.log("Uploading resources",{title:t,description:n,fileNames:c}),e(K.resourceLibrary)};return s.jsx(eo,{children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:"max-w-[900px] mx-auto p-6 lg:p-10",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-2",children:""}),s.jsxs("form",{onSubmit:o,className:"mt-6 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("input",{value:t,onChange:d=>r(d.target.value),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("textarea",{value:n,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border rounded h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("input",{type:"file",multiple:!0,onChange:d=>i(d.target.files),className:"w-full"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded",children:""}),s.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 border rounded",children:""})]})]})]})})})},_S=({roleId:e,groupedActions:t,permissions:r,onToggle:n})=>{const a=r[e]??{};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-text-secondary-light",children:e||""})]}),s.jsx("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{className:"bg-background-light dark:bg-background-dark text-xs font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2 w-20 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:Object.entries(t).map(([l,i])=>s.jsx(E.Fragment,{children:i.map((o,d)=>s.jsxs("tr",{className:"hover:bg-background-light dark:hover:bg-background-dark",children:[d===0?s.jsx("td",{className:"px-4 py-3 align-top text-sm font-semibold text-text-main-light dark:text-text-main-dark",rowSpan:i.length,children:l}):null,s.jsx("td",{className:"px-4 py-3 text-sm text-text-main-light dark:text-text-main-dark",children:o.label}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("input",{type:"checkbox",checked:!!a[o.id],onChange:()=>n(e,o.id),className:"rounded border-border-light text-primary focus:ring-primary"})})]},o.id))},l))})]})}),s.jsx("div",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:"stub"})]})},OS=({roles:e,selectedRoleId:t,onSelect:r,onAddRole:n})=>{const[a,l]=S.useState(""),i=()=>{const o=a.trim();o&&(n(o),l(""))};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover",onClick:i,children:""})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{type:"text",value:a,onChange:o=>l(o.target.value),placeholder:"",className:"flex-1 px-3 py-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-sm"})}),s.jsx("div",{className:"rounded-lg border border-border-light dark:border-border-dark overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{className:"bg-background-light dark:bg-background-dark text-xs font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:e.map(o=>s.jsxs("tr",{className:`${t===o.id?"bg-primary/5 dark:bg-primary/15":"hover:bg-background-light dark:hover:bg-background-dark cursor-pointer"}`,onClick:()=>r(o.id),children:[s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-text-main-light dark:text-text-main-dark",children:o.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:o.description}),s.jsx("td",{className:"px-4 py-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:o.userCount??"-"})]},o.id))})]})})]})},mm=({title:e,description:t,actionLabel:r,onAction:n})=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark mb-2",children:e}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark mb-3",children:t}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-background-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800",onClick:n,children:r})]}),MS=({onTestS3:e,onTestSSO:t,onSave:r})=>s.jsxs("header",{className:"h-16 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-6 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:e,children:" S3  (stub)"}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:t,children:" SSO (stub)"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover shadow-sm",onClick:r,children:""})]})]}),IS=[{id:"courses.read",group:"",label:""},{id:"courses.edit",group:"",label:""},{id:"assignments.manage",group:"",label:""},{id:"question-bank.edit",group:"",label:""},{id:"question-bank.review",group:"",label:""},{id:"students.read",group:"",label:""},{id:"students.export",group:"",label:""},{id:"system.admin",group:"",label:""}],pm=[{id:"role-admin",name:"",description:" SSO  S3 ",userCount:3},{id:"role-teacher",name:"",description:"",userCount:18},{id:"role-reviewer",name:"",description:"",userCount:5}],DS={"role-admin":{"courses.read":!0,"courses.edit":!0,"assignments.manage":!0,"question-bank.edit":!0,"question-bank.review":!0,"students.read":!0,"students.export":!0,"system.admin":!0},"role-teacher":{"courses.read":!0,"courses.edit":!0,"assignments.manage":!0,"question-bank.edit":!0,"question-bank.review":!1,"students.read":!0,"students.export":!1,"system.admin":!1},"role-reviewer":{"courses.read":!0,"courses.edit":!1,"assignments.manage":!1,"question-bank.edit":!0,"question-bank.review":!0,"students.read":!0,"students.export":!1,"system.admin":!1}},AS=()=>{var m;const[e,t]=E.useState(pm),[r,n]=E.useState(DS),[a,l]=E.useState(((m=pm[0])==null?void 0:m.id)??""),i=IS,o=E.useMemo(()=>i.reduce((x,b)=>(x[b.group]=x[b.group]?[...x[b.group],b]:[b],x),{}),[i]);return{roles:e,actions:i,groupedActions:o,permissions:r,selectedRoleId:a,setSelectedRoleId:l,addRole:x=>{const b=`role-${Date.now()}`,w={id:b,name:x,description:"",userCount:0};t(p=>[...p,w]),n(p=>({...p,[b]:i.reduce((g,y)=>(g[y.id]=!1,g),{})})),l(b)},togglePermission:(x,b)=>{n(w=>{const p=w[x]??{};return{...w,[x]:{...p,[b]:!p[b]}}})},saveChanges:async()=>{console.log("audit log stub: permissions saved",{roles:e,permissions:r})},testS3Integration:async()=>{console.log("S3 integration test stub")},testSSOIntegration:async()=>{console.log("SSO integration test stub")}}},FS=()=>{const{roles:e,groupedActions:t,permissions:r,selectedRoleId:n,setSelectedRoleId:a,addRole:l,togglePermission:i,saveChanges:o,testS3Integration:d,testSSOIntegration:c}=AS(),u=async()=>{await o()};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark flex flex-col",children:[s.jsx(MS,{onTestS3:()=>void d(),onTestSSO:()=>void c(),onSave:()=>void u()}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsx("div",{className:"xl:col-span-1",children:s.jsx(OS,{roles:e,selectedRoleId:n,onSelect:a,onAddRole:l})}),s.jsx("div",{className:"xl:col-span-2",children:s.jsx(_S,{roleId:n,groupedActions:t,permissions:r,onToggle:i})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(mm,{title:" (S3) ",description:"",actionLabel:" (stub)",onAction:()=>void d()}),s.jsx(mm,{title:" (SSO)",description:" SAML / OAuth",actionLabel:" SSO  (stub)",onAction:()=>void c()})]})]})})]})},zS=({onExportTemplate:e,onCreateStudent:t})=>s.jsxs("header",{className:"w-full h-16 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark px-6 flex items-center justify-between shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-text-main-light dark:text-text-main-dark tracking-tight",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm font-medium",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"download"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-primary hover:bg-primary-hover text-white transition-colors text-sm font-medium shadow-sm",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"}),""]})]})]}),$S=e=>e==="up"?{icon:"trending_up",className:"text-green-500"}:e==="down"?{icon:"priority_high",className:"text-red-500"}:{icon:"remove",className:"text-gray-400"},US=e=>{const t=Math.round((e.attendanceRate??0)*100),r=t>=90?"bg-primary":t>=80?"bg-yellow-500":"bg-red-500",n=e.attendance==="absent"?`${t}% ()`:`${t}%`;return s.jsxs("div",{children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-1.5 dark:bg-gray-700",children:s.jsx("div",{className:`${r} h-1.5 rounded-full`,style:{width:`${Math.min(100,Math.max(0,t))}%`}})}),s.jsx("span",{className:"text-xs text-text-secondary mt-1 block",children:n})]})},BS=e=>e==="online"?"bg-green-500":"bg-gray-300",HS=({data:e,isLoading:t,filters:r,pagination:n,selectedIds:a,onFilterChange:l,onResetFilters:i,onToggleSelect:o,onToggleSelectAll:d,onPageChange:c,onRefresh:u,onBulkMessage:f,onBulkExport:h,onBulkGroup:m,onBulkMarkPresent:x,onViewStudent:b})=>{const w=S.useMemo(()=>e.map(v=>v.id),[e]),p=w.length>0&&w.every(v=>a.has(v)),g=a.size,y=Math.max(1,Math.ceil(n.total/n.pageSize)),j=(n.page-1)*n.pageSize+1,N=Math.min(n.total,n.page*n.pageSize),P=v=>{v(Array.from(a))};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col min-h-[500px]",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-light dark:border-border-dark",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs font-medium",children:[" ",n.total," "]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"button",className:"p-1.5 text-text-secondary-light hover:text-primary rounded-lg hover:bg-background-light dark:hover:bg-background-dark transition-colors",title:"",onClick:()=>u==null?void 0:u(),children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"refresh"})})})]}),s.jsxs("div",{className:"px-6 py-4 border-b border-border-light dark:border-border-dark flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.grade,onChange:v=>l({grade:v.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.className,onChange:v=>l({className:v.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:" (1) ",children:"1 ()"}),s.jsx("option",{value:" (2) ",children:"2"}),s.jsx("option",{value:" (3) ",children:"3"}),s.jsx("option",{value:" (1) ",children:" (1)"}),s.jsx("option",{value:" (2) ",children:" (2)"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.attendance,onChange:v=>l({attendance:v.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"present",children:""}),s.jsx("option",{value:"absent",children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.score,onChange:v=>l({score:v.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"90+",children:"90"}),s.jsx("option",{value:"60-89",children:"60-89"}),s.jsx("option",{value:"<60",children:"60"})]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2 pb-0.5",children:[s.jsx("button",{type:"button",className:"text-text-secondary-light hover:text-primary text-sm font-medium px-2 py-1.5 transition-colors",onClick:i,children:""}),s.jsxs("div",{className:"relative w-60",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"material-symbols-outlined text-text-secondary-light text-[20px]",children:"search"})}),s.jsx("input",{type:"text",value:r.query,onChange:v=>l({query:v.target.value}),placeholder:" /  / ...",className:"block w-full pl-10 pr-3 py-2 rounded-lg border-0 bg-background-light dark:bg-background-dark ring-1 ring-inset ring-border-light dark:ring-border-dark placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 text-text-main-light dark:text-text-main-dark transition-shadow"})]})]})]}),s.jsx("div",{className:"w-full overflow-x-auto hidden md:block",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border-light dark:border-border-dark",children:[s.jsx("th",{className:"py-3 px-6 w-12",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer",checked:p,onChange:v=>d(w,v.target.checked)})}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark text-sm",children:t?s.jsx("tr",{children:s.jsx("td",{className:"px-6 py-4 text-text-secondary-light",colSpan:8,children:"..."})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-6 py-4 text-text-secondary-light",colSpan:8,children:""})}):e.map(v=>{const _=v.latestScore??0,A=BS(v.onlineStatus),O=$S(v.trend);return s.jsxs("tr",{className:`hover:bg-background-light dark:hover:bg-background-dark/50 transition-colors ${a.has(v.id)?"bg-blue-50/50 dark:bg-blue-900/10":""}`,children:[s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer",checked:a.has(v.id),onChange:()=>o(v.id)})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-cover bg-center",style:v.avatar?{backgroundImage:`url(${v.avatar})`}:void 0,"aria-hidden":!0}),s.jsx("span",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 border-2 border-white rounded-full ${A}`,"aria-hidden":!0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main-light dark:text-text-main-dark",children:v.name}),s.jsx("p",{className:"text-xs text-text-secondary-light",children:v.handle??`@${v.id}`})]})]})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("span",{className:"text-sm font-mono text-text-secondary-light",children:v.studentNumber})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:v.className})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm font-bold ${O.className==="text-red-500"?"text-red-500":"text-text-main-light dark:text-text-main-dark"}`,children:_}),s.jsx("span",{className:"text-xs text-text-secondary-light",children:"/ 100"}),s.jsx("span",{className:`material-symbols-outlined text-[16px] ${O.className}`,children:O.icon})]})}),s.jsx("td",{className:"py-4 px-6 align-top",children:US(v)}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("span",{className:"text-sm text-text-secondary-light",children:v.lastActive??"--"})}),s.jsx("td",{className:"py-4 px-6 text-right align-top",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"text-primary hover:text-primary-hover text-sm font-medium",onClick:()=>b==null?void 0:b(v.id),children:""}),s.jsx("button",{className:"p-1 text-text-secondary-light hover:text-text-main-light rounded hover:bg-gray-200 dark:hover:bg-gray-700",type:"button",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})})]})})]},v.id)})})]})}),s.jsx("div",{className:"md:hidden px-4 py-3 space-y-3 border-b border-border-light dark:border-border-dark",children:e.map(v=>s.jsxs("div",{className:"rounded-lg border border-border-light dark:border-border-dark overflow-hidden",children:[s.jsx("div",{className:"px-4 pt-3",children:s.jsx(Pu,{student:v,onViewProfile:b,onAttendanceChange:()=>{}})}),s.jsxs("div",{className:"px-4 pb-3 text-xs text-text-secondary flex flex-wrap gap-3",children:[s.jsxs("span",{children:[" ",v.studentNumber]}),s.jsx("span",{children:v.className}),s.jsxs("span",{children:[" ",v.latestScore??"--"]}),s.jsxs("span",{children:[" ",Math.round((v.attendanceRate??0)*100),"%"]})]})]},v.id))}),s.jsxs("div",{className:"mt-auto border-t border-border-light dark:border-border-dark px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-text-secondary-light",children:[" ",n.total===0?0:j,"  ",N,"  ",n.total," "]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{type:"button",className:"p-1.5 rounded-lg text-text-secondary-light hover:bg-background-light dark:hover:bg-background-dark disabled:opacity-50",onClick:()=>c(Math.max(1,n.page-1)),disabled:n.page<=1,children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"chevron_left"})}),s.jsxs("div",{className:"px-2 text-sm text-text-secondary-light",children:[" ",n.page," / ",y," "]}),s.jsx("button",{type:"button",className:"p-1.5 rounded-lg text-text-secondary-light hover:bg-background-light dark:hover:bg-background-dark disabled:opacity-50",onClick:()=>c(Math.min(y,n.page+1)),disabled:n.page>=y,children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"chevron_right"})})]})]}),g>0?s.jsxs("div",{className:"sticky bottom-4 left-0 right-0 mx-auto w-fit bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark shadow-xl rounded-full px-6 py-3 flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 border-r border-border-light dark:border-border-dark pr-6",children:[s.jsx("span",{className:"bg-primary text-white text-xs font-bold px-2 py-0.5 rounded-full",children:g}),s.jsx("span",{className:"text-sm font-medium text-text-main-light dark:text-text-main-dark",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(f),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"mail"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(m),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"folder_shared"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(x),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"assignment_turned_in"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(h),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"download"}),"CSV"]})]})]}):null]})},xm={query:"",grade:"all",className:"all",attendance:"all",score:"all"},gm=["","",""],ym=[" (1) "," (2) "," (3) "," (1) "," (2) "];function QS(e){let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t}function VS(e){const t=QS(e.id),r=gm[t%gm.length],n=ym[t%ym.length],a=55+t%46,l=a>=90?"up":a<60?"down":"flat",i=e.attendance==="present"?.85:.6,o=Math.min(1,i+t%15/100);return{...e,studentNumber:e.id,grade:r,className:n,latestScore:a,trend:l,attendanceRate:o,handle:`@${e.id}`}}function WS(e={}){const[t,r]=S.useState([]),[n,a]=S.useState({...xm,...e}),[l,i]=S.useState(1),[o,d]=S.useState(10),[c,u]=S.useState(new Set),[f,h]=S.useState(!1),m=S.useMemo(()=>t.filter(z=>{if(n.grade!=="all"&&z.grade!==n.grade||n.className!=="all"&&z.className!==n.className||n.attendance!=="all"&&z.attendance!==n.attendance||n.score==="90+"&&(z.latestScore??0)<90||n.score==="60-89"&&((z.latestScore??0)<60||(z.latestScore??0)>89)||n.score==="<60"&&(z.latestScore??0)>=60)return!1;if(n.query){const ge=n.query.toLowerCase();if(!z.name.toLowerCase().includes(ge)&&!z.studentNumber.toLowerCase().includes(ge)&&!(z.handle??"").toLowerCase().includes(ge))return!1}return!0}),[n,t]),x=m.length,b=Math.max(1,Math.ceil(x/o)),w=Math.min(l,b),p=S.useMemo(()=>{const z=(w-1)*o;return m.slice(z,z+o)},[w,m,o]),g=S.useCallback(z=>{u(ge=>{const Z=new Set(ge);return Z.has(z)?Z.delete(z):Z.add(z),Z})},[]),y=S.useCallback((z,ge)=>{u(Z=>{const me=new Set(Z);return z.forEach(M=>{ge?me.add(M):me.delete(M)}),me})},[]),j=S.useCallback(()=>{u(new Set)},[]),N=S.useCallback(async()=>{h(!0);try{const z=await yr.list();r(z.map(VS))}finally{h(!1)}},[]);S.useEffect(()=>{N()},[N]);const P=S.useCallback(z=>{a(ge=>({...ge,...z})),i(1)},[]),v=S.useCallback(()=>{a(xm),i(1),j()},[j]),_=S.useCallback(z=>{i(Math.max(1,z))},[]),A=S.useCallback(z=>{d(Math.max(1,z)),i(1)},[]),O=S.useCallback(async z=>{await yr.bulkMessage(z),j()},[j]),B=S.useCallback(async z=>{await yr.exportCsv(z),j()},[j]),se=S.useCallback(async z=>{await yr.bulkGroup(z,{group:""}),await N(),j()},[j,N]),ue=S.useCallback(async z=>{await yr.bulkMarkPresent(z),await N(),j()},[j,N]);return{data:p,isLoading:f,filters:n,pagination:{page:w,pageSize:o,total:x},selectedIds:c,actions:{setFilters:P,resetFilters:v,changePage:_,setPageSize:A,toggleSelect:g,toggleSelectAll:y,clearSelection:j,refetch:N,bulkMessage:O,bulkExport:B,bulkGroup:se,bulkMarkPresent:ue}}}const KS=()=>{const e=bt(),{data:t,isLoading:r,filters:n,pagination:a,selectedIds:l,actions:i}=WS(),o=()=>{i.bulkExport(Array.from(l))},d=()=>{console.log("create student flow pending")};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark",children:[s.jsx(zS,{onExportTemplate:o,onCreateStudent:d}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:s.jsx("div",{className:"max-w-[1280px] mx-auto flex flex-col gap-6",children:s.jsx(HS,{data:t,isLoading:r,filters:n,pagination:a,selectedIds:l,onFilterChange:i.setFilters,onResetFilters:i.resetFilters,onToggleSelect:i.toggleSelect,onToggleSelectAll:i.toggleSelectAll,onPageChange:i.changePage,onRefresh:i.refetch,onBulkMessage:i.bulkMessage,onBulkExport:i.bulkExport,onBulkGroup:i.bulkGroup,onBulkMarkPresent:i.bulkMarkPresent,onViewStudent:c=>e(K.studentProfile.replace(":studentId",c))})})})]})},qS=({items:e})=>s.jsx("nav",{"aria-label":"",className:"text-sm text-text-secondary flex items-center gap-2",children:e.map((t,r)=>{const n=r===e.length-1;return s.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.onClick&&!n?s.jsx("button",{type:"button",onClick:t.onClick,className:"hover:text-primary",children:t.label}):s.jsx("span",{className:"text-text-main",children:t.label}),n?null:s.jsx("span",{className:"text-text-secondary",children:"/"})]},t.label)})}),GS=({onRefresh:e})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-border-light text-sm font-medium text-text-main hover:bg-background-light",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"refresh"}),""]})]}),YS=({mastery:e,submissions:t,onAssignmentSelect:r})=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsx("div",{className:"text-xs text-text-secondary",children:""})]}),s.jsx("div",{className:"h-48 rounded-lg border border-dashed border-border-light dark:border-border-dark flex items-center justify-center text-text-secondary text-sm bg-background-light/50",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main",children:""}),s.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:e.map(n=>s.jsxs("li",{className:"py-2 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main",children:n.topic}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[" ",Math.round(n.mastery*100),"%"]})]}),s.jsx("span",{className:`material-symbols-outlined text-[18px] ${n.trend==="up"?"text-green-500":n.trend==="down"?"text-red-500":"text-gray-400"}`,children:n.trend==="up"?"trending_up":n.trend==="down"?"trending_down":"drag_indicator"})]},n.topic))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main",children:""}),s.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:t.map(n=>s.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main",children:n.title}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[n.submittedAt??"","  ",n.status==="missing"?"":n.status==="late"?"":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main",children:n.score??"--"}),r?s.jsx("button",{type:"button",onClick:()=>r(n.assignmentId),className:"text-xs text-primary hover:text-primary-hover",children:""}):s.jsx("span",{className:"text-xs text-text-secondary",children:""})]})]},n.id))})]})]})]}),Jo=({label:e,value:t})=>s.jsxs("div",{className:"bg-background-light dark:bg-background-dark rounded-lg p-3 flex-1 min-w-[140px]",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:e}),s.jsx("p",{className:"text-lg font-semibold text-text-main mt-1",children:t})]}),JS=({profile:e,onExportReport:t})=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-14 rounded-full bg-cover bg-center border border-border-light",style:e.avatar?{backgroundImage:`url(${e.avatar})`}:void 0,"aria-hidden":!0}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:e.name}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e.className,"  ",e.grade]}),s.jsx("p",{className:"text-xs text-primary",children:e.handle??`@${e.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"px-4 py-2 rounded-lg border border-border-light text-sm font-medium text-text-main hover:bg-background-light",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"download"}),""]}),s.jsxs("button",{type:"button",className:"px-4 py-2 rounded-lg bg-primary text-white text-sm font-medium shadow-sm hover:bg-primary-hover",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"edit"}),""]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(Jo,{label:"",value:`${Math.round(e.attendanceRate*100)}%`}),s.jsx(Jo,{label:"",value:`${Math.round(e.averageScore)}`}),s.jsx(Jo,{label:"",value:e.lastActive})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:""}),s.jsxs("p",{className:"text-text-main",children:["",e.email??""]}),s.jsxs("p",{className:"text-text-main",children:["",e.phone??""]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:"/"}),s.jsx("p",{className:"text-text-main",children:e.guardian??""}),s.jsxs("p",{className:"text-text-main",children:["",e.group??""]})]})]})]}),bm=["","",""],vm=[" (1) "," (2) "," (3) "," (1) "," (2) "];function XS(e){let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t}function ZS(e){const t=XS(e.id),r=bm[t%bm.length],n=vm[t%vm.length],a=e.attendance==="present"?.85:.6;return{id:e.id,name:e.name,avatar:e.avatar,grade:r,className:n,handle:`@${e.id}`,email:`${e.id}@example.com`,phone:`138-0000-${(t%9e3+1e3).toString()}`,guardian:"",group:e.group,attendanceRate:Math.min(1,a+t%15/100),averageScore:70+t%26,lastActive:e.lastActive??""}}const e2=[{id:"sub-1",title:"",assignmentId:"hw-101",score:98,status:"on-time",submittedAt:"2026-01-03 21:10"},{id:"sub-2",title:"",assignmentId:"quiz-204",score:88,status:"late",submittedAt:"2025-12-29 09:30"},{id:"sub-3",title:"",assignmentId:"hw-205",score:75,status:"on-time",submittedAt:"2025-12-22 19:05"},{id:"sub-4",title:"",assignmentId:"quiz-210",status:"missing"}],t2=[{topic:"",mastery:.95,trend:"up"},{topic:"",mastery:.72,trend:"flat"},{topic:"",mastery:.82,trend:"up"},{topic:"",mastery:.64,trend:"down"}];function r2(e){const[t,r]=S.useState(null),[n,a]=S.useState([]),[l,i]=S.useState([]),[o,d]=S.useState(!1),[c,u]=S.useState(void 0),f=S.useCallback(async()=>{d(!0),u(void 0);try{if(!e)throw new Error("Missing studentId");const h=await yr.get(e);if(!h)throw new Error("Not found");const m=await yr.getProgress(e);r(ZS(h)),a(e2.map(b=>({...b,id:`${e}-${b.id}`})));const x=Object.entries((m==null?void 0:m.mastery)??{}).map(([b,w])=>({topic:b,mastery:w,trend:"flat"}));i(x.length?x:t2)}catch(h){u(h)}finally{d(!1)}},[e]);return S.useEffect(()=>{f()},[f]),{profile:t,submissions:n,mastery:l,isLoading:o,error:c,refetch:f}}const n2=()=>{const{studentId:e}=Us(),t=bt(),{profile:r,submissions:n,mastery:a,isLoading:l,error:i,refetch:o}=r2(e),d=()=>{console.log("export report stub",r==null?void 0:r.id)},c=r?[{label:"Students",onClick:()=>t(K.studentList)},{label:r.className,onClick:()=>t(K.studentList)},{label:r.name}]:[{label:"Students",onClick:()=>t(K.studentList)}],u=f=>{t(`${K.assignmentManagement}?assignmentId=${f}`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(qS,{items:c}),s.jsx(GS,{onRefresh:()=>void o()}),i?s.jsx("div",{className:"text-sm text-red-600",children:i.message}):null,l&&!r?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,r?s.jsx(JS,{profile:r,onExportReport:d}):null,r?s.jsx(YS,{mastery:a,submissions:n,onAssignmentSelect:u}):null]})},s2=()=>{const e=bt(),[t,r]=E.useState(""),[n,a]=E.useState(""),[l,i]=E.useState(""),[o,d]=E.useState(""),[c,u]=E.useState(!1),f=h=>{if(h.preventDefault(),!t.trim()){alert("");return}console.log("Creating assignment",{title:t,description:n,dueDate:l,totalPoints:o,publishing:c}),e(K.assignmentManagement)};return s.jsx(eo,{children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:"max-w-[900px] mx-auto p-6 lg:p-10",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-2",children:""}),s.jsxs("form",{onSubmit:f,className:"mt-6 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("input",{value:t,onChange:h=>r(h.target.value),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("textarea",{value:n,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 border rounded h-28"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:""}),s.jsx("input",{type:"date",value:l,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:""}),s.jsx("input",{type:"number",value:o,onChange:h=>d(h.target.value===""?"":Number(h.target.value)),className:"w-full px-3 py-2 border rounded"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-text-secondary",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:h=>u(h.target.checked)}),""]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded",children:""}),s.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 border rounded",children:""})]})]})]})})})},a2=e=>e==="up"?{icon:"trending_up",color:"text-green-600"}:e==="down"?{icon:"trending_down",color:"text-red-600"}:{icon:"drag_handle",color:"text-slate-400"},l2=({items:e})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:e.map(t=>{const r=a2(t.trend);return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-4 shadow-sm flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[s.jsx("span",{children:t.label}),t.badge?s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary/10 text-primary font-medium",children:t.badge}):null]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-text-main",children:t.value}),s.jsx("span",{className:`material-symbols-outlined text-[18px] ${r.color}`,children:r.icon})]}),t.sublabel?s.jsx("p",{className:"text-xs text-text-secondary",children:t.sublabel}):null]},t.id)})}),i2=({reports:e,scheduled:t,onGenerate:r,onSchedule:n})=>{var c;const[a,l]=S.useState(((c=e[0])==null?void 0:c.id)??""),i=()=>{a&&r(a)},o=u=>{a&&n(a,u)},d=e.find(u=>u.id===a);return s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-border-light text-text-main hover:bg-background-light",onClick:()=>o("weekly"),children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule_send"}),"()"]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-border-light text-text-main hover:bg-background-light",onClick:()=>i(),children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"download"}),""]})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:e.map(u=>s.jsxs("button",{type:"button",onClick:()=>l(u.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border border-border-light dark:border-border-dark hover:border-primary hover:shadow-md transition-all h-full ${a===u.id?"bg-primary/5 border-primary":"bg-surface-light dark:bg-surface-dark"}`,children:[s.jsx("div",{className:"size-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"analytics"})}),s.jsx("span",{className:"text-xs font-medium text-text-main text-center",children:u.name}),s.jsx("p",{className:"text-[11px] text-text-secondary text-center",children:u.description})]},u.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"lg:col-span-2 bg-background-light dark:bg-surface-dark rounded-lg border border-dashed border-border-light dark:border-border-dark p-4",role:"img","aria-label":"",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main mb-2",children:(d==null?void 0:d.name)??""}),s.jsx("p",{className:"text-xs text-text-secondary mb-3",children:"/"}),s.jsx("div",{className:"h-48 bg-white/50 dark:bg-background-dark rounded border border-border-light dark:border-border-dark flex items-center justify-center text-text-secondary text-sm",children:""})]}),s.jsxs("div",{className:"bg-background-light dark:bg-surface-dark rounded-lg border border-border-light dark:border-border-dark p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main mb-3",children:""}),s.jsxs("ul",{className:"space-y-2 text-sm text-text-secondary",children:[t.length===0?s.jsx("li",{children:""}):null,t.map(u=>{var f;return s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{children:((f=e.find(h=>h.id===u.reportId))==null?void 0:f.name)??u.reportId}),s.jsxs("span",{className:"text-xs text-text-secondary",children:[u.frequency,"  ",u.nextRun]})]},u.id)})]})]})]})]})},wm=[{id:"dashboard",name:"",description:"",category:"dashboard"},{id:"logins",name:"",description:"",category:"activity"},{id:"practice",name:"",description:"",category:"questions"},{id:"tests",name:"",description:"",category:"questions"},{id:"exams",name:"",description:"",category:"exams"}],jm=[{id:"sched-1",reportId:"dashboard",frequency:"weekly",nextRun:" 08:00"},{id:"sched-2",reportId:"exams",frequency:"monthly",nextRun:"1 09:00"}];function o2(){const[e,t]=S.useState(wm),[r,n]=S.useState(jm),[a,l]=S.useState(!1),[i,o]=S.useState(void 0),d=S.useCallback(async()=>{l(!0),o(void 0),await new Promise(f=>setTimeout(f,120)),t(wm),n(jm),l(!1)},[]),c=S.useCallback(async f=>{await new Promise(m=>setTimeout(m,80));const h=`/exports/${f}-${Date.now()}.csv`;return console.log("generate report stub",f,h),h},[]),u=S.useCallback(async(f,h)=>{await new Promise(x=>setTimeout(x,80));const m={id:`sched-${Date.now()}`,reportId:f,frequency:h,nextRun:""};return n(x=>[...x,m]),console.log("schedule export stub",m),m},[]);return{reports:e,scheduled:r,isLoading:a,error:i,generateReport:c,scheduleExport:u,refetch:d}}const d2=()=>{const{reports:e,scheduled:t,isLoading:r,error:n,generateReport:a,scheduleExport:l,refetch:i}=o2(),o=S.useMemo(()=>[{id:"pending",label:"",value:"12",sublabel:"",badge:"",trend:"up"},{id:"participation",label:"",value:"68%",sublabel:" -5%",trend:"down"},{id:"warnings",label:"",value:"15",sublabel:"",trend:"up"},{id:"average",label:"",value:"82%",sublabel:"",trend:"flat"}],[]),d=[{label:"",value:45,studentId:"20230105"},{label:"",value:60,studentId:"20230108"},{label:"",value:35,studentId:"20230112"},{label:"",value:75,studentId:"20230120"},{label:"",value:80,studentId:"20230126"},{label:"",value:55,studentId:"20230130"},{label:"",value:40,studentId:"20230132"}],c=u=>{console.log("datapoint clicked for student",u)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-wrap items-end justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black tracking-tight text-text-main",children:""}),s.jsx("p",{className:"text-text-secondary text-sm",children:""})]}),s.jsxs("div",{className:"flex gap-3 text-sm",children:[s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 h-10 px-4 rounded-lg border border-border-light bg-white text-text-main font-bold hover:bg-slate-50",onClick:()=>void i(),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"history"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 h-10 px-5 rounded-lg bg-primary text-white text-sm font-bold shadow-md hover:bg-primary-hover",onClick:()=>void a("dashboard"),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add_chart"}),""]})]})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-4 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-end gap-4 mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:"..."})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",children:[s.jsx("option",{children:""}),s.jsx("option",{children:"(1)"}),s.jsx("option",{children:"(3)"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]})]}),s.jsx("button",{className:"h-10 px-4 bg-primary/10 text-primary hover:bg-primary/20 rounded-lg text-sm font-bold transition-colors",children:""})]}),s.jsx(l2,{items:o})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"warning"}),s.jsx("h3",{className:"text-lg font-bold text-text-main",children:""})]}),s.jsx("div",{className:"text-sm text-text-secondary",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{title:"",value:"12 ",tone:"text-red-600",pill:""},{title:"",value:"<60% (3)",tone:"text-orange-600",pill:""},{title:"",value:"15 ",tone:"text-blue-600",pill:""}].map(u=>s.jsxs("div",{className:"rounded-xl border border-border-light dark:border-border-dark bg-background-light/60 dark:bg-surface-dark p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:u.title}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary/10 text-primary text-xs font-bold",children:u.pill})]}),s.jsx("p",{className:`text-lg font-bold ${u.tone}`,children:u.value}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:""})]},u.title))})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"folder_open"}),s.jsx("h3",{className:"text-lg font-bold text-text-main",children:""})]}),r?s.jsx("span",{className:"text-sm text-text-secondary",children:"..."}):null,n?s.jsx("span",{className:"text-sm text-red-600",children:n.message}):null]}),s.jsx("div",{className:"p-4",children:s.jsx(i2,{reports:e,scheduled:t,onGenerate:u=>void a(u),onSchedule:(u,f)=>void l(u,f)})})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4",children:[s.jsx("h4",{className:"text-base font-bold text-text-main mb-4",children:"7 ()"}),s.jsx("div",{className:"relative h-64 w-full mt-2 flex items-end justify-between gap-4 px-2 pb-6",role:"img","aria-label":"7",children:d.map(u=>s.jsxs("button",{type:"button",className:"group relative flex-1 h-full flex flex-col items-center justify-end",onClick:()=>c(u.studentId),children:[s.jsx("div",{className:"w-full max-w-[40px] bg-primary/20 group-hover:bg-primary/30 rounded-t-sm transition-all",style:{height:`${u.value}%`},children:s.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[u.value," "]})}),s.jsx("span",{className:"text-xs text-text-secondary mt-2",children:u.label})]},u.label))}),s.jsx("p",{className:"text-xs text-text-secondary mt-2",children:""})]})]})},c2={draft:"",scheduled:"",ongoing:"",completed:"",review:"",closed:""},u2=({exams:e,onSelect:t,onPublish:r,onClose:n,onFilterChange:a})=>{const[l,i]=S.useState([]),[o,d]=S.useState(""),[c,u]=S.useState(""),[f,h]=S.useState("");S.useEffect(()=>{a==null||a({status:o||void 0,query:c||void 0,classLabel:f||void 0})},[o,c,f,a]);const m=w=>{i(p=>p.includes(w)?p.filter(g=>g!==w):[...p,w])},x=()=>{r==null||r(l)},b=()=>{n==null||n(l)};return s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsx("div",{className:"flex-1 min-w-[200px] relative",children:s.jsx("input",{className:"w-full pl-3 pr-3 py-2 bg-background-light border border-border-light rounded-lg text-sm",placeholder:"",value:c,onChange:w=>u(w.target.value)})}),s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light bg-white text-sm",value:o,onChange:w=>d(w.target.value||""),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"ongoing",children:""}),s.jsx("option",{value:"scheduled",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"closed",children:""})]}),s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light bg-white text-sm",placeholder:"/",value:f,onChange:w=>h(w.target.value)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:x,disabled:!l.length,children:""}),s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:b,disabled:!l.length,children:""})]})]}),s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:e.map(w=>s.jsx("article",{className:"bg-white rounded-xl border border-border-light shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:s.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"bg-gray-100 text-gray-700 text-[11px] font-bold px-2 py-0.5 rounded",children:c2[w.status]}),w.classLabel?s.jsx("span",{className:"text-xs text-text-secondary",children:w.classLabel}):null]}),s.jsx("h3",{className:"text-lg font-bold text-text-main group-hover:text-primary transition-colors cursor-pointer",onClick:()=>t==null?void 0:t(w.id),children:w.title})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:l.includes(w.id),onChange:()=>m(w.id)}),s.jsx("span",{children:""})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm text-text-secondary",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:w.startAt??""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:w.endAt??""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:w.durationMinutes?`${w.durationMinutes} `:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:w.proctor??""})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[w.token?s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded bg-background-light border border-border-light",children:[s.jsx("span",{className:"uppercase font-bold tracking-wide",children:"Token"}),s.jsx("code",{className:"text-sm text-primary font-bold",children:w.token})]}):s.jsx("span",{className:"text-[11px]",children:" Token"}),s.jsx("div",{className:"flex items-center gap-2",children:w.participants?s.jsxs("span",{children:[" ",w.participants.current,"/",w.participants.total]}):null})]})]})},w.id))}),e.length?null:s.jsx("div",{className:"text-sm text-text-secondary",children:""})]})},f2=({open:e,onClose:t,onSave:r,initialExam:n})=>{const[a,l]=S.useState(""),[i,o]=S.useState("draft"),[d,c]=S.useState(""),[u,f]=S.useState(""),[h,m]=S.useState(""),[x,b]=S.useState(""),[w,p]=S.useState(""),[g,y]=S.useState(""),[j,N]=S.useState(!1);S.useEffect(()=>{n?(l(n.title),o(n.status),c(n.classLabel??""),f(n.startAt??""),m(n.endAt??""),b(n.durationMinutes?String(n.durationMinutes):""),p(n.proctor??""),y(n.note??"")):(l(""),o("draft"),c(""),f(""),m(""),b(""),p(""),y(""))},[n]);const P=async v=>{v.preventDefault(),N(!0),await r({title:a,status:i,classLabel:d||void 0,startAt:u||void 0,endAt:h||void 0,durationMinutes:x?Number(x):void 0,proctor:w||void 0,note:g||void 0}),N(!1),t()};return s.jsx(zg,{open:e,onClose:t,title:n?"":"",children:s.jsxs("form",{className:"space-y-4",onSubmit:P,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:a,onChange:v=>l(v.target.value),required:!0})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["/",s.jsx("textarea",{className:"min-h-[80px] px-3 py-2 rounded-lg border border-border-light",value:g,onChange:v=>y(v.target.value),placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light",value:i,onChange:v=>o(v.target.value),children:[s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"scheduled",children:""}),s.jsx("option",{value:"ongoing",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"closed",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["/",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:d,onChange:v=>c(v.target.value),placeholder:"(3)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"datetime-local",value:u,onChange:v=>f(v.target.value)})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"datetime-local",value:h,onChange:v=>m(v.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ()",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"number",value:x,onChange:v=>b(v.target.value)})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:w,onChange:v=>p(v.target.value),placeholder:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("p",{className:"text-[11px] text-text-tertiary",children:"TODO: "})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",onClick:t,children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:j,children:j?"...":""})]})]})})},h2=[{id:"exam-1",title:"2023 ()",status:"ongoing",classLabel:"(3)",startAt:"2023-10-24T14:00:00",durationMinutes:120,proctor:"",token:"A8F-9K2",participants:{current:42,total:45}},{id:"exam-2",title:"2023",status:"review",classLabel:"(1)",endAt:"2023-10-23T16:30:00",durationMinutes:90,note:" 95%"},{id:"exam-3",title:"",status:"scheduled",classLabel:"",startAt:"2023-10-28T09:00:00",durationMinutes:90}];function m2(e={}){const[t,r]=S.useState(h2),[n,a]=S.useState(e),[l,i]=S.useState(!1),[o,d]=S.useState(void 0),c=S.useCallback(async()=>{i(!0),d(void 0),await new Promise(m=>setTimeout(m,120)),i(!1)},[]),u=S.useMemo(()=>t.filter(m=>!(n.status&&m.status!==n.status||n.classLabel&&m.classLabel!==n.classLabel||n.query&&!m.title.toLowerCase().includes(n.query.toLowerCase()))),[n,t]),f=S.useCallback(async m=>{const x={id:m.id??`exam-${Date.now()}`,title:m.title,status:m.status??"draft",classLabel:m.classLabel,startAt:m.startAt,endAt:m.endAt,durationMinutes:m.durationMinutes,proctor:m.proctor,token:m.token,participants:m.participants,note:m.note};return r(b=>[x,...b]),x},[]),h=S.useCallback(async(m,x)=>{let b;return r(w=>w.map(p=>p.id===m?(b={...p,...x},b):p)),b},[]);return{exams:u,isLoading:l,error:o,filters:n,setFilters:m=>a(x=>({...x,...m})),createExam:f,updateExam:h,refetch:c}}const p2=()=>{const{exams:e,isLoading:t,error:r,filters:n,setFilters:a,createExam:l,updateExam:i,refetch:o}=m2(),[d,c]=S.useState(!1),[u,f]=S.useState(null),[h,m]=S.useState(null),x=()=>{f(null),c(!0)},b=async y=>{u?(await i(u.id,y),m("")):(await l(y),m(""))},w=y=>{const j=e.find(N=>N.id===y);f(j??null),c(!0)},p=y=>{y.forEach(j=>{i(j,{status:"scheduled"})}),m(` ${y.length} `)},g=y=>{y.forEach(j=>{i(j,{status:"closed"})}),m(` ${y.length} `)};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:"/"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:()=>void o(),children:""}),s.jsx("button",{className:"px-3 h-10 rounded-lg bg-primary text-white text-sm shadow",onClick:x,children:""})]})]}),h?s.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[s.jsx("p",{children:h}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>m(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(u2,{exams:e,onSelect:w,onPublish:p,onClose:g,onFilterChange:a}),s.jsxs("div",{className:"text-xs text-text-secondary",children:["",n.status??""," / ",n.classLabel??""]}),s.jsx(f2,{open:d,onClose:()=>c(!1),onSave:b,initialExam:u})]})},x2={draft:"bg-amber-100 text-amber-700",review:"bg-blue-100 text-blue-700",published:"bg-emerald-100 text-emerald-700"},g2=({questions:e,onSelect:t,onFilterChange:r})=>{const[n,a]=S.useState(""),[l,i]=S.useState(""),[o,d]=S.useState(""),[c,u]=S.useState(""),[f,h]=S.useState("");return S.useEffect(()=>{r==null||r({query:n||void 0,knowledgePoint:l||void 0,difficulty:o?Number(o):void 0,type:c||void 0,status:f||void 0})},[o,l,r,n,f,c]),s.jsxs("section",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 material-symbols-outlined text-[18px]",children:"search"}),s.jsx("input",{className:"pl-9 pr-3 py-2 w-full rounded-lg border border-border-light bg-white text-sm",placeholder:"ID",value:n,onChange:m=>a(m.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:l,onChange:m=>i(m.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:o,onChange:m=>d(m.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"1",children:""}),s.jsx("option",{value:"2",children:""}),s.jsx("option",{value:"3",children:""}),s.jsx("option",{value:"4",children:""}),s.jsx("option",{value:"5",children:""})]}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:c,onChange:m=>u(m.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:f,onChange:m=>h(m.target.value||""),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"published",children:""})]})]})]}),s.jsx("div",{className:"space-y-3",children:e.map(m=>{var x;return s.jsxs("article",{className:"group flex flex-col gap-2 p-4 border border-border-light rounded-xl bg-white shadow-sm hover:shadow-md cursor-pointer transition",onClick:()=>t==null?void 0:t(m.id),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("span",{className:"text-[11px] font-mono text-text-secondary",children:["ID: ",m.id]}),s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${x2[m.status]}`,children:m.status==="review"?"":m.status==="draft"?"":""})]}),s.jsx("h3",{className:"text-sm font-semibold text-text-main line-clamp-2 leading-snug group-hover:text-primary",children:m.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-[11px] text-text-secondary flex-wrap",children:[(x=m.knowledgePoints)==null?void 0:x.map(b=>s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded bg-slate-100 text-slate-600 border border-border-light",children:b},b)),m.type?s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded bg-slate-100 text-slate-600 border border-border-light",children:m.type}):null,typeof m.difficulty=="number"?s.jsx("span",{className:"flex text-amber-400",children:"".repeat(m.difficulty)}):null]})]},m.id)})}),e.length?null:s.jsx("div",{className:"text-sm text-text-secondary",children:""})]})},y2=[{id:"v1.1",time:"10:42",summary:" LaTeX ",current:!0},{id:"v1.0",time:" 16:20",summary:"OCR ",current:!1}],b2=({question:e,onSave:t})=>{const[r,n]=S.useState((e==null?void 0:e.title)??""),[a,l]=S.useState((e==null?void 0:e.content)??""),[i,o]=S.useState((e==null?void 0:e.status)??"draft"),[d,c]=S.useState(!1);S.useEffect(()=>{n((e==null?void 0:e.title)??""),l((e==null?void 0:e.content)??""),o((e==null?void 0:e.status)??"draft")},[e]);const u=async h=>{h.preventDefault(),c(!0),await t({title:r,content:a,status:i}),c(!1)},f=()=>{alert("")};return s.jsx("div",{className:"flex flex-col h-full",children:s.jsxs("form",{className:"flex-1 flex flex-col gap-4",onSubmit:u,children:[s.jsx("input",{className:"w-full text-xl font-bold bg-transparent border border-border-light rounded-lg px-3 py-2 focus:border-primary focus:ring-0",placeholder:"...",value:r,onChange:h=>n(h.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"px-3 h-9 rounded-lg border border-border-light text-xs text-text-secondary hover:border-primary",onClick:f,children:" ()"}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light text-sm",value:i,onChange:h=>o(h.target.value),children:[s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"published",children:""})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-lg border border-border-light shadow-sm",children:[s.jsxs("div",{className:"p-2 flex items-center gap-2 border-b border-border-light text-xs text-text-secondary",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"functions"}),s.jsx("span",{children:"LaTeX "})]}),s.jsx("textarea",{className:"flex-1 min-h-[220px] p-3 text-sm font-mono border-0 focus:ring-0",value:a,onChange:h=>l(h.target.value),placeholder:" LaTeX"})]}),s.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-lg border border-border-light shadow-sm",children:[s.jsxs("div",{className:"p-2 flex items-center gap-2 border-b border-border-light text-xs text-text-secondary",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"visibility"}),s.jsx("span",{children:""}),s.jsx("span",{className:"ml-auto text-[10px] text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded",children:"LaTeX "})]}),s.jsx("div",{className:"flex-1 p-3 text-sm text-text-main bg-background-light/60",children:a||""})]})]}),s.jsxs("div",{className:"rounded-lg border border-border-light bg-white p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xs font-bold text-text-secondary uppercase tracking-wider",children:""}),s.jsx("button",{type:"button",className:"text-xs text-primary",children:""})]}),s.jsx("div",{className:"space-y-3",children:y2.map(h=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`size-2.5 rounded-full mt-1 ${h.current?"bg-primary":"bg-slate-300"}`,"aria-hidden":!0}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:`font-semibold ${h.current?"text-text-main":"text-text-secondary"}`,children:[h.id,h.current?" ()":""]}),s.jsx("span",{className:"text-text-tertiary font-mono",children:h.time})]}),s.jsx("p",{className:"text-xs text-text-secondary",children:h.summary})]})]},h.id))})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:d,children:d?"...":""})]})]})})},v2=[{id:"q-842",title:" n n^3 - n  6 ",content:" n $n^3 - n$  6 ",knowledgePoints:[""],difficulty:3,type:"",status:"review",author:"",updatedAt:"10:42"},{id:"q-841",title:" |2x - 1| < 5 ",content:" |2x - 1| < 5 ",knowledgePoints:[""],difficulty:2,type:"",status:"draft",author:"",updatedAt:""},{id:"q-839",title:" f(x) = x^2 + ax + b ",content:" f(x) = x^2 + ax + b f(1) = 0...",knowledgePoints:[""],difficulty:3,type:"",status:"published",author:"",updatedAt:""}];function w2(e={}){const[t,r]=S.useState(v2),[n,a]=S.useState(e),[l,i]=S.useState(!1),[o,d]=S.useState(void 0),c=S.useCallback(async()=>{i(!0),d(void 0),await new Promise(x=>setTimeout(x,120)),i(!1)},[]),u=S.useMemo(()=>t.filter(x=>{var b;return!(n.status&&x.status!==n.status||n.knowledgePoint&&!((b=x.knowledgePoints)!=null&&b.includes(n.knowledgePoint))||n.type&&x.type!==n.type||typeof n.difficulty=="number"&&x.difficulty!==n.difficulty||n.query&&!x.title.toLowerCase().includes(n.query.toLowerCase()))}),[n,t]),f=S.useCallback(x=>t.find(b=>b.id===x),[t]),h=S.useCallback(async x=>{const b={id:x.id??`q-${Date.now()}`,title:x.title,content:x.content,knowledgePoints:x.knowledgePoints??[],difficulty:x.difficulty??3,type:x.type??"",status:x.status??"draft",author:x.author,updatedAt:x.updatedAt??""};return r(w=>[b,...w]),b},[]),m=S.useCallback(async(x,b)=>{let w;return r(p=>p.map(g=>g.id===x?(w={...g,...b},w):g)),w},[]);return{questions:u,isLoading:l,error:o,filters:n,setFilters:x=>a(b=>({...b,...x})),getQuestion:f,createQuestion:h,updateQuestion:m,refetch:c}}const j2=()=>{const{questions:e,isLoading:t,error:r,filters:n,setFilters:a,getQuestion:l,createQuestion:i,updateQuestion:o,refetch:d}=w2(),[c,u]=S.useState(null),[f,h]=S.useState(null),m=S.useMemo(()=>c?l(c):void 0,[c,l]),x=async w=>{if(c)await o(c,w),h("");else{const p=await i(w);u(p.id),h("")}},b=()=>{u(null)};return s.jsxs("div",{className:"grid grid-cols-12 h-full",children:[s.jsxs("div",{className:"col-span-12 md:col-span-3 border-r border-border-light bg-white p-4 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-lg font-bold text-text-main",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 h-9 rounded-lg border border-border-light text-sm",onClick:()=>void d(),children:""}),s.jsx("button",{className:"px-3 h-9 rounded-lg bg-primary text-white text-sm shadow",onClick:b,children:""})]})]}),f?s.jsxs("div",{className:"mb-3 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800 flex items-start justify-between",children:[s.jsx("p",{children:f}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>h(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(g2,{questions:e,onSelect:u,onFilterChange:a}),s.jsxs("div",{className:"text-[11px] text-text-secondary mt-2",children:["",n.knowledgePoint??""," / ",n.type??""," / ",n.status??""]})]}),s.jsx("div",{className:"col-span-12 md:col-span-9 bg-background-light p-4 overflow-y-auto",children:s.jsx(b2,{question:m??null,onSave:x})})]})},k2=()=>s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-text-secondary",children:""})]}),N2=({title:e="",statusLabel:t="Live",children:r})=>s.jsxs("section",{className:"relative w-full aspect-video bg-slate-900 text-white rounded-xl overflow-hidden border border-slate-800 flex items-center justify-center",role:"region","aria-live":"polite","aria-label":e,children:[s.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-500 text-[11px] font-semibold uppercase tracking-wide",children:t}),s.jsx("span",{className:"text-xs text-white/70",children:e})]}),r||s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold",children:"Whiteboard / Stream Placeholder"}),s.jsx("p",{className:"text-sm text-white/60 mt-3",children:"TODO:  WebRTC/ SDK "})]})]}),S2=({onToggleMic:e,onToggleCamera:t,onShareScreen:r,onInsertQuestion:n,onToggleRecording:a,onEndSession:l,recordingActive:i=!1,micMuted:o=!1,cameraOff:d=!1})=>{const c="flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors";return s.jsxs("nav",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-2 shadow-sm","aria-label":"",children:[s.jsxs("button",{type:"button",className:`${c} ${o?"text-red-500":"text-text-main"}`,"aria-label":o?"":"",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:o?"mic_off":"mic"}),s.jsx("span",{children:o?"":""})]}),s.jsxs("button",{type:"button",className:`${c} ${d?"text-red-500":"text-text-main"}`,"aria-label":d?"":"",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:d?"videocam_off":"videocam"}),s.jsx("span",{children:d?"":""})]}),s.jsxs("button",{type:"button",className:`${c} text-text-main`,"aria-label":"",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"screen_share"}),s.jsx("span",{children:""})]}),s.jsxs("button",{type:"button",className:`${c} text-text-main`,"aria-label":"",onClick:n,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"quiz"}),s.jsx("span",{children:""})]}),s.jsxs("button",{type:"button",className:`${c} ${i?"text-red-500":"text-text-main"}`,"aria-label":i?"":"",onClick:a,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:i?"stop_circle":"fiber_manual_record"}),s.jsx("span",{children:i?"":""})]}),s.jsxs("button",{type:"button",className:`${c} text-red-600`,"aria-label":"",onClick:l,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"}),s.jsx("span",{children:""})]})]})},C2=({students:e,onOpenChat:t})=>s.jsxs("aside",{className:"w-full md:w-72 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl flex flex-col",children:[s.jsxs("header",{className:"px-4 py-3 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-text-secondary uppercase",children:""}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary/10 text-primary font-semibold",children:e.length})]}),s.jsxs("button",{type:"button",className:"text-xs text-primary font-medium","aria-label":"",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-sm align-middle",children:"forum"})," "]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",role:"list",children:e.map(r=>s.jsxs("div",{role:"listitem",className:"relative flex items-center gap-3 p-2 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-slate-800",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-cover bg-center bg-slate-200 text-slate-600 flex items-center justify-center text-sm font-bold",style:r.avatar?{backgroundImage:`url(${r.avatar})`}:void 0,"aria-hidden":!0,children:r.avatar?null:r.name.slice(0,1)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main dark:text-white truncate",children:r.name}),s.jsxs("p",{className:"text-[11px] text-text-secondary flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${r.isOnline===!1?"bg-red-400":"bg-green-500"}`,"aria-hidden":!0}),r.isOnline===!1?"":""]})]}),r.raisedHand?s.jsxs("span",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-100 text-amber-700 flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-xs","aria-hidden":!0,children:"pan_tool"}),""]}):null]},r.id))})]});function E2(e){const[t,r]=S.useState({id:"",courseId:e,status:"idle"}),n=t.status,a=S.useCallback(async i=>{const o=await Qa.startLive(i),d={id:o.id,courseId:o.courseId,status:"live",startedAt:o.startAt};return r(d),d},[]),l=S.useCallback(async i=>{const{session:o,recording:d}=await Qa.endLive(i);return r(c=>({...c,id:o.id,courseId:o.courseId,status:"ended",recordingId:d.id})),d.id},[]);return{session:t,status:n,start:a,end:l}}const R2=[{id:"s1",name:"",raisedHand:!1,isOnline:!0},{id:"s2",name:"",raisedHand:!0,isOnline:!0},{id:"s3",name:"",raisedHand:!1,isOnline:!1},{id:"s4",name:"Student A",raisedHand:!1,isOnline:!0}],P2=({onBackToCourse:e})=>{const t=Us(),r=(t==null?void 0:t.courseId)||"course-live-1",{session:n,status:a,start:l,end:i}=E2(r),[o,d]=S.useState(!1),[c,u]=S.useState(!1),[f,h]=S.useState(!1);S.useEffect(()=>{a==="idle"&&r&&l(r)},[r,l,a]);const m=async()=>{const x=await i(n.id);console.log("Recording created:",x)};return s.jsxs("div",{className:"min-h-screen bg-background-dark text-white",children:[s.jsxs("header",{className:"flex items-center justify-between px-4 py-3",children:[s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm font-medium text-white/90 hover:text-white",onClick:()=>e==null?void 0:e(r),"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"}),""]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",children:[s.jsx("span",{className:"px-2 py-1 rounded-full bg-red-500 text-white text-[11px] font-semibold uppercase tracking-wide",children:a==="live"?"Live":"Ended"}),s.jsxs("span",{children:[" ID: ",r]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-4 px-4 pb-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(N2,{title:"",statusLabel:a==="live"?"Live":"Ended"}),s.jsx(S2,{onToggleMic:()=>d(x=>!x),onToggleCamera:()=>u(x=>!x),onShareScreen:()=>console.log("share screen"),onInsertQuestion:()=>console.log("insert question"),onToggleRecording:()=>h(x=>!x),onEndSession:m,recordingActive:f,micMuted:o,cameraOff:c})]}),s.jsx(C2,{students:R2,onOpenChat:()=>console.log("open chat")})]})]})},L2=()=>{const e=bt();return s.jsx(P2,{onBackToCourse:t=>{e(K.courseDetail.replace(":courseId",t))}})},T2=()=>{const e=bt(),[t,r]=S.useState(""),[n,a]=S.useState("");return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light text-text-main p-6",children:s.jsxs("div",{className:"w-full max-w-sm bg-surface-light border border-border-light rounded-xl p-6 shadow-sm",children:[s.jsx("h1",{className:"text-lg font-bold",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-1",children:""}),s.jsxs("form",{className:"mt-5 space-y-3",onSubmit:l=>{l.preventDefault(),e(K.dashboard)},children:[s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{value:t,onChange:l=>r(l.target.value),className:"mt-1 w-full h-10 px-3 rounded-lg border border-border-light bg-white",placeholder:"teacher@example.com","aria-label":""})]}),s.jsxs("label",{className:"block",children:[s.jsx("span",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{type:"password",value:n,onChange:l=>a(l.target.value),className:"mt-1 w-full h-10 px-3 rounded-lg border border-border-light bg-white",placeholder:"","aria-label":""})]}),s.jsx("button",{type:"submit",className:"w-full h-10 rounded-lg bg-primary text-white font-bold hover:bg-blue-600","aria-label":"",children:""})]})]})})},_2=gj([{element:s.jsx(kk,{}),children:[{path:K.login,element:s.jsx(T2,{}),handle:{title:""}}]},{element:s.jsx(jk,{}),children:[{path:K.dashboard,element:s.jsx(oS,{}),handle:{title:""}},{path:K.courseSchedule,element:s.jsx(XN,{}),handle:{title:""}},{path:K.recordings,element:s.jsx(bS,{}),handle:{title:""}},{path:K.resourceLibrary,element:s.jsx(LS,{}),handle:{title:""}},{path:`${K.resourceLibrary}/upload`,element:s.jsx(TS,{}),handle:{title:""}},{path:K.assignmentManagement,element:s.jsx(dN,{}),handle:{title:""}},{path:`${K.assignmentManagement}/new`,element:s.jsx(s2,{}),handle:{title:""}},{path:K.gradebook,element:s.jsx(fN,{}),handle:{title:""}},{path:K.examManagement,element:s.jsx(p2,{}),handle:{title:""}},{path:K.studentList,element:s.jsx(KS,{}),handle:{title:""}},{path:K.teachingAnalytics,element:s.jsx(d2,{}),handle:{title:""}},{path:K.inbox,element:s.jsx(hS,{}),handle:{title:""}},{path:K.settings,element:s.jsx(FS,{}),handle:{title:""}},{path:K.collaborationReview,element:s.jsx(NN,{}),handle:{title:""}},{path:K.questionBank,element:s.jsx(j2,{}),handle:{title:""}},{path:"*",element:s.jsx(k2,{}),handle:{title:""}}]},{element:s.jsx(yk,{}),children:[{path:K.courseDetail,element:s.jsx(zN,{}),handle:{title:""}},{path:K.courseEdit,element:s.jsx(ZN,{}),handle:{title:""}},{path:K.studentProfile,element:s.jsx(n2,{}),handle:{title:""}},{path:K.gradingWorkspace,element:s.jsx(yN,{}),handle:{title:""}}]},{element:s.jsx(vk,{}),children:[{path:K.liveTeaching,element:s.jsx(L2,{}),handle:{title:""}}]}]);function O2(){return s.jsx(pk,{children:s.jsx(Lj,{router:_2})})}const M2=document.getElementById("root");Xo.createRoot(M2).render(s.jsx(O2,{}));
