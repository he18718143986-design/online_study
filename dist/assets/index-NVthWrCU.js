var ah=e=>{throw TypeError(e)};var jo=(e,t,r)=>t.has(e)||ah("Cannot "+r);var C=(e,t,r)=>(jo(e,t,"read from private field"),r?r.call(e):t.get(e)),ne=(e,t,r)=>t.has(e)?ah("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),H=(e,t,r,n)=>(jo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ue=(e,t,r)=>(jo(e,t,"access private method"),r);var yl=(e,t,r,n)=>({set _(a){H(e,t,a,r)},get _(){return C(e,t,n)}});function ny(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zm={exports:{}},zi={},ex={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),ay=Symbol.for("react.portal"),ly=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),dy=Symbol.for("react.provider"),cy=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),hy=Symbol.for("react.suspense"),fy=Symbol.for("react.memo"),my=Symbol.for("react.lazy"),lh=Symbol.iterator;function xy(e){return e===null||typeof e!="object"?null:(e=lh&&e[lh]||e["@@iterator"],typeof e=="function"?e:null)}var tx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx=Object.assign,nx={};function $s(e,t,r){this.props=e,this.context=t,this.refs=nx,this.updater=r||tx}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sx(){}sx.prototype=$s.prototype;function Pc(e,t,r){this.props=e,this.context=t,this.refs=nx,this.updater=r||tx}var Lc=Pc.prototype=new sx;Lc.constructor=Pc;rx(Lc,$s.prototype);Lc.isPureReactComponent=!0;var ih=Array.isArray,ax=Object.prototype.hasOwnProperty,Tc={current:null},lx={key:!0,ref:!0,__self:!0,__source:!0};function ix(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)ax.call(t,n)&&!lx.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Za,type:e,key:l,ref:i,props:a,_owner:Tc.current}}function py(e,t){return{$$typeof:Za,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _c(e){return typeof e=="object"&&e!==null&&e.$$typeof===Za}function gy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oh=/\/+/g;function wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gy(""+e.key):t.toString(36)}function Gl(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Za:case ay:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+wo(i,0):n,ih(a)?(r="",e!=null&&(r=e.replace(oh,"$&/")+"/"),Gl(a,t,r,"",function(c){return c})):a!=null&&(_c(a)&&(a=py(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(oh,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",ih(e))for(var o=0;o<e.length;o++){l=e[o];var d=n+wo(l,o);i+=Gl(l,t,r,d,a)}else if(d=xy(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=n+wo(l,o++),i+=Gl(l,t,r,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vl(e,t,r){if(e==null)return e;var n=[],a=0;return Gl(e,n,"","",function(l){return t.call(r,l,a++)}),n}function by(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},Jl={transition:null},yy={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:Tc};function ox(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:vl,forEach:function(e,t,r){vl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vl(e,function(){t++}),t},toArray:function(e){return vl(e,function(t){return t})||[]},only:function(e){if(!_c(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=$s;de.Fragment=ly;de.Profiler=oy;de.PureComponent=Pc;de.StrictMode=iy;de.Suspense=hy;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;de.act=ox;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rx({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Tc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)ax.call(t,d)&&!lx.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Za,type:e.type,key:a,ref:l,props:n,_owner:i}};de.createContext=function(e){return e={$$typeof:cy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dy,_context:e},e.Consumer=e};de.createElement=ix;de.createFactory=function(e){var t=ix.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:uy,render:e}};de.isValidElement=_c;de.lazy=function(e){return{$$typeof:my,_payload:{_status:-1,_result:e},_init:by}};de.memo=function(e,t){return{$$typeof:fy,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Jl.transition;Jl.transition={};try{e()}finally{Jl.transition=t}};de.unstable_act=ox;de.useCallback=function(e,t){return dt.current.useCallback(e,t)};de.useContext=function(e){return dt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};de.useEffect=function(e,t){return dt.current.useEffect(e,t)};de.useId=function(){return dt.current.useId()};de.useImperativeHandle=function(e,t,r){return dt.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return dt.current.useMemo(e,t)};de.useReducer=function(e,t,r){return dt.current.useReducer(e,t,r)};de.useRef=function(e){return dt.current.useRef(e)};de.useState=function(e){return dt.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return dt.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return dt.current.useTransition()};de.version="18.3.1";ex.exports=de;var E=ex.exports;const w=sy(E),vy=ny({__proto__:null,default:w},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=E,wy=Symbol.for("react.element"),ky=Symbol.for("react.fragment"),Ny=Object.prototype.hasOwnProperty,Sy=jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cy={key:!0,ref:!0,__self:!0,__source:!0};function dx(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Ny.call(t,n)&&!Cy.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:wy,type:e,key:l,ref:i,props:a,_owner:Sy.current}}zi.Fragment=ky;zi.jsx=dx;zi.jsxs=dx;Zm.exports=zi;var s=Zm.exports,cd={},cx={exports:{}},St={},ux={exports:{}},hx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,B){var W=I.length;I.push(B);e:for(;0<W;){var re=W-1>>>1,se=I[re];if(0<a(se,B))I[re]=B,I[W]=se,W=re;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var B=I[0],W=I.pop();if(W!==B){I[0]=W;e:for(var re=0,se=I.length,Le=se>>>1;re<Le;){var ke=2*(re+1)-1,Ne=I[ke],ze=ke+1,cr=I[ze];if(0>a(Ne,W))ze<se&&0>a(cr,Ne)?(I[re]=cr,I[ze]=W,re=ze):(I[re]=Ne,I[ke]=W,re=ke);else if(ze<se&&0>a(cr,W))I[re]=cr,I[ze]=W,re=ze;else break e}}return B}function a(I,B){var W=I.sortIndex-B.sortIndex;return W!==0?W:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],c=[],u=1,h=null,f=3,m=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=I)n(c),B.sortIndex=B.expirationTime,t(d,B);else break;B=r(c)}}function j(I){if(g=!1,y(I),!x)if(r(d)!==null)x=!0,q(N);else{var B=r(c);B!==null&&U(j,B.startTime-I)}}function N(I,B){x=!1,g&&(g=!1,p(P),P=-1),m=!0;var W=f;try{for(y(B),h=r(d);h!==null&&(!(h.expirationTime>B)||I&&!z());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var se=re(h.expirationTime<=B);B=e.unstable_now(),typeof se=="function"?h.callback=se:h===r(d)&&n(d),y(B)}else n(d);h=r(d)}if(h!==null)var Le=!0;else{var ke=r(c);ke!==null&&U(j,ke.startTime-B),Le=!1}return Le}finally{h=null,f=W,m=!1}}var R=!1,k=null,P=-1,T=5,D=-1;function z(){return!(e.unstable_now()-D<T)}function M(){if(k!==null){var I=e.unstable_now();D=I;var B=!0;try{B=k(!0,I)}finally{B?Q():(R=!1,k=null)}}else R=!1}var Q;if(typeof b=="function")Q=function(){b(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ce=Y.port2;Y.port1.onmessage=M,Q=function(){ce.postMessage(null)}}else Q=function(){v(M,0)};function q(I){k=I,R||(R=!0,Q())}function U(I,B){P=v(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,q(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var W=f;f=B;try{return I()}finally{f=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=f;f=I;try{return B()}finally{f=W}},e.unstable_scheduleCallback=function(I,B,W){var re=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,I){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,I={id:u++,callback:B,priorityLevel:I,startTime:W,expirationTime:se,sortIndex:-1},W>re?(I.sortIndex=W,t(c,I),r(d)===null&&I===r(c)&&(g?(p(P),P=-1):g=!0,U(j,W-re))):(I.sortIndex=se,t(d,I),x||m||(x=!0,q(N))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var B=f;return function(){var W=f;f=B;try{return I.apply(this,arguments)}finally{f=W}}}})(hx);ux.exports=hx;var Ey=ux.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry=E,Nt=Ey;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fx=new Set,Na={};function Wn(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(Na[e]=t,e=0;e<t.length;e++)fx.add(t[e])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=Object.prototype.hasOwnProperty,Py=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dh={},ch={};function Ly(e){return ud.call(ch,e)?!0:ud.call(dh,e)?!1:Py.test(e)?ch[e]=!0:(dh[e]=!0,!1)}function Ty(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _y(e,t,r,n){if(t===null||typeof t>"u"||Ty(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oc=/[\-:]([a-z])/g;function Ic(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oc,Ic);Ge[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oc,Ic);Ge[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oc,Ic);Ge[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dc(e,t,r,n){var a=Ge.hasOwnProperty(t)?Ge[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_y(t,r,a,n)&&(r=null),n||a===null?Ly(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rr=Ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jl=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),Mc=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),mx=Symbol.for("react.provider"),xx=Symbol.for("react.context"),Ac=Symbol.for("react.forward_ref"),fd=Symbol.for("react.suspense"),md=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),px=Symbol.for("react.offscreen"),uh=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=uh&&e[uh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,ko;function ia(e){if(ko===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ko=t&&t[1]||""}return`
`+ko+e}var No=!1;function So(e,t){if(!e||No)return"";No=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{No=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ia(e):""}function Oy(e){switch(e.tag){case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return e=So(e.type,!1),e;case 11:return e=So(e.type.render,!1),e;case 1:return e=So(e.type,!0),e;default:return""}}function xd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zn:return"Fragment";case Xn:return"Portal";case hd:return"Profiler";case Mc:return"StrictMode";case fd:return"Suspense";case md:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xx:return(e.displayName||"Context")+".Consumer";case mx:return(e._context.displayName||"Context")+".Provider";case Ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fc:return t=e.displayName||null,t!==null?t:xd(e.type)||"Memo";case Or:t=e._payload,e=e._init;try{return xd(e(t))}catch{}}return null}function Iy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xd(t);case 8:return t===Mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dy(e){var t=gx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wl(e){e._valueTracker||(e._valueTracker=Dy(e))}function bx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pd(e,t){var r=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=an(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yx(e,t){t=t.checked,t!=null&&Dc(e,"checked",t,!1)}function gd(e,t){yx(e,t);var r=an(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bd(e,t.type,r):t.hasOwnProperty("defaultValue")&&bd(e,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bd(e,t,r){(t!=="number"||fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var oa=Array.isArray;function us(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+an(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function yd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(oa(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:an(r)}}function vx(e,t){var r=an(t.value),n=an(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kl,wx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},My=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(e){My.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ma[t]=ma[e]})});function kx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ma.hasOwnProperty(e)&&ma[e]?(""+t).trim():t+"px"}function Nx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=kx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Ay=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(e,t){if(t){if(Ay[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function wd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nd=null,hs=null,fs=null;function ph(e){if(e=rl(e)){if(typeof Nd!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Wi(t),Nd(e.stateNode,e.type,t))}}function Sx(e){hs?fs?fs.push(e):fs=[e]:hs=e}function Cx(){if(hs){var e=hs,t=fs;if(fs=hs=null,ph(e),t)for(e=0;e<t.length;e++)ph(t[e])}}function Ex(e,t){return e(t)}function Rx(){}var Co=!1;function Px(e,t,r){if(Co)return e(t,r);Co=!0;try{return Ex(e,t,r)}finally{Co=!1,(hs!==null||fs!==null)&&(Rx(),Cx())}}function Ca(e,t){var r=e.stateNode;if(r===null)return null;var n=Wi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var Sd=!1;if(Nr)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Sd=!1}function Fy(e,t,r,n,a,l,i,o,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var xa=!1,mi=null,xi=!1,Cd=null,$y={onError:function(e){xa=!0,mi=e}};function zy(e,t,r,n,a,l,i,o,d){xa=!1,mi=null,Fy.apply($y,arguments)}function Uy(e,t,r,n,a,l,i,o,d){if(zy.apply(this,arguments),xa){if(xa){var c=mi;xa=!1,mi=null}else throw Error(F(198));xi||(xi=!0,Cd=c)}}function Vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Lx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gh(e){if(Vn(e)!==e)throw Error(F(188))}function By(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return gh(a),e;if(l===n)return gh(a),t;l=l.sibling}throw Error(F(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Tx(e){return e=By(e),e!==null?_x(e):null}function _x(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_x(e);if(t!==null)return t;e=e.sibling}return null}var Ox=Nt.unstable_scheduleCallback,bh=Nt.unstable_cancelCallback,Hy=Nt.unstable_shouldYield,Qy=Nt.unstable_requestPaint,Ie=Nt.unstable_now,Wy=Nt.unstable_getCurrentPriorityLevel,zc=Nt.unstable_ImmediatePriority,Ix=Nt.unstable_UserBlockingPriority,pi=Nt.unstable_NormalPriority,Vy=Nt.unstable_LowPriority,Dx=Nt.unstable_IdlePriority,Ui=null,lr=null;function Ky(e){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Jy,qy=Math.log,Gy=Math.LN2;function Jy(e){return e>>>=0,e===0?32:31-(qy(e)/Gy|0)|0}var Nl=64,Sl=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=da(o):(l&=i,l!==0&&(n=da(l)))}else i=r&~a,i!==0?n=da(i):l!==0&&(n=da(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kt(t),a=1<<r,n|=e[r],t&=~a;return n}function Yy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xy(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Kt(l),o=1<<i,d=a[i];d===-1?(!(o&r)||o&n)&&(a[i]=Yy(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function Ed(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mx(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function Eo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function el(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=r}function Zy(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Kt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function Uc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var be=0;function Ax(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fx,Bc,$x,zx,Ux,Rd=!1,Cl=[],Jr=null,Yr=null,Xr=null,Ea=new Map,Ra=new Map,Dr=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(t.pointerId)}}function Ys(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=rl(t),t!==null&&Bc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tv(e,t,r,n,a){switch(t){case"focusin":return Jr=Ys(Jr,e,t,r,n,a),!0;case"dragenter":return Yr=Ys(Yr,e,t,r,n,a),!0;case"mouseover":return Xr=Ys(Xr,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return Ea.set(l,Ys(Ea.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Ra.set(l,Ys(Ra.get(l)||null,e,t,r,n,a)),!0}return!1}function Bx(e){var t=vn(e.target);if(t!==null){var r=Vn(t);if(r!==null){if(t=r.tag,t===13){if(t=Lx(r),t!==null){e.blockedOn=t,Ux(e.priority,function(){$x(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);kd=n,r.target.dispatchEvent(n),kd=null}else return t=rl(r),t!==null&&Bc(t),e.blockedOn=r,!1;t.shift()}return!0}function vh(e,t,r){Yl(e)&&r.delete(t)}function rv(){Rd=!1,Jr!==null&&Yl(Jr)&&(Jr=null),Yr!==null&&Yl(Yr)&&(Yr=null),Xr!==null&&Yl(Xr)&&(Xr=null),Ea.forEach(vh),Ra.forEach(vh)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Rd||(Rd=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,rv)))}function Pa(e){function t(a){return Xs(a,e)}if(0<Cl.length){Xs(Cl[0],e);for(var r=1;r<Cl.length;r++){var n=Cl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Jr!==null&&Xs(Jr,e),Yr!==null&&Xs(Yr,e),Xr!==null&&Xs(Xr,e),Ea.forEach(t),Ra.forEach(t),r=0;r<Dr.length;r++)n=Dr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)Bx(r),r.blockedOn===null&&Dr.shift()}var ms=Rr.ReactCurrentBatchConfig,bi=!0;function nv(e,t,r,n){var a=be,l=ms.transition;ms.transition=null;try{be=1,Hc(e,t,r,n)}finally{be=a,ms.transition=l}}function sv(e,t,r,n){var a=be,l=ms.transition;ms.transition=null;try{be=4,Hc(e,t,r,n)}finally{be=a,ms.transition=l}}function Hc(e,t,r,n){if(bi){var a=Pd(e,t,r,n);if(a===null)Ao(e,t,n,yi,r),yh(e,n);else if(tv(a,e,t,r,n))n.stopPropagation();else if(yh(e,n),t&4&&-1<ev.indexOf(e)){for(;a!==null;){var l=rl(a);if(l!==null&&Fx(l),l=Pd(e,t,r,n),l===null&&Ao(e,t,n,yi,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else Ao(e,t,n,null,r)}}var yi=null;function Pd(e,t,r,n){if(yi=null,e=$c(n),e=vn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Lx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yi=e,null}function Hx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wy()){case zc:return 1;case Ix:return 4;case pi:case Vy:return 16;case Dx:return 536870912;default:return 16}default:return 16}}var Kr=null,Qc=null,Xl=null;function Qx(){if(Xl)return Xl;var e,t=Qc,r=t.length,n,a="value"in Kr?Kr.value:Kr.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return Xl=a.slice(e,1<n?1-n:void 0)}function Zl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function jh(){return!1}function Ct(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?El:jh,this.isPropagationStopped=jh,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=Ct(zs),tl=Pe({},zs,{view:0,detail:0}),av=Ct(tl),Ro,Po,Zs,Bi=Pe({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Ro=e.screenX-Zs.screenX,Po=e.screenY-Zs.screenY):Po=Ro=0,Zs=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),wh=Ct(Bi),lv=Pe({},Bi,{dataTransfer:0}),iv=Ct(lv),ov=Pe({},tl,{relatedTarget:0}),Lo=Ct(ov),dv=Pe({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=Ct(dv),uv=Pe({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hv=Ct(uv),fv=Pe({},zs,{data:0}),kh=Ct(fv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function Vc(){return gv}var bv=Pe({},tl,{key:function(e){if(e.key){var t=mv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yv=Ct(bv),vv=Pe({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=Ct(vv),jv=Pe({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),wv=Ct(jv),kv=Pe({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nv=Ct(kv),Sv=Pe({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=Ct(Sv),Ev=[9,13,27,32],Kc=Nr&&"CompositionEvent"in window,pa=null;Nr&&"documentMode"in document&&(pa=document.documentMode);var Rv=Nr&&"TextEvent"in window&&!pa,Wx=Nr&&(!Kc||pa&&8<pa&&11>=pa),Sh=" ",Ch=!1;function Vx(e,t){switch(e){case"keyup":return Ev.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function Pv(e,t){switch(e){case"compositionend":return Kx(t);case"keypress":return t.which!==32?null:(Ch=!0,Sh);case"textInput":return e=t.data,e===Sh&&Ch?null:e;default:return null}}function Lv(e,t){if(es)return e==="compositionend"||!Kc&&Vx(e,t)?(e=Qx(),Xl=Qc=Kr=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wx&&t.locale!=="ko"?null:t.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tv[e.type]:t==="textarea"}function qx(e,t,r,n){Sx(n),t=vi(t,"onChange"),0<t.length&&(r=new Wc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ga=null,La=null;function _v(e){ap(e,0)}function Hi(e){var t=ns(e);if(bx(t))return e}function Ov(e,t){if(e==="change")return t}var Gx=!1;if(Nr){var To;if(Nr){var _o="oninput"in document;if(!_o){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),_o=typeof Rh.oninput=="function"}To=_o}else To=!1;Gx=To&&(!document.documentMode||9<document.documentMode)}function Ph(){ga&&(ga.detachEvent("onpropertychange",Jx),La=ga=null)}function Jx(e){if(e.propertyName==="value"&&Hi(La)){var t=[];qx(t,La,e,$c(e)),Px(_v,t)}}function Iv(e,t,r){e==="focusin"?(Ph(),ga=t,La=r,ga.attachEvent("onpropertychange",Jx)):e==="focusout"&&Ph()}function Dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(La)}function Mv(e,t){if(e==="click")return Hi(t)}function Av(e,t){if(e==="input"||e==="change")return Hi(t)}function Fv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:Fv;function Ta(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ud.call(t,a)||!Gt(e[a],t[a]))return!1}return!0}function Lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Th(e,t){var r=Lh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lh(r)}}function Yx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xx(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fi(e.document)}return t}function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $v(e){var t=Xx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yx(r.ownerDocument.documentElement,r)){if(n!==null&&qc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=Th(r,l);var i=Th(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zv=Nr&&"documentMode"in document&&11>=document.documentMode,ts=null,Ld=null,ba=null,Td=!1;function _h(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Td||ts==null||ts!==fi(n)||(n=ts,"selectionStart"in n&&qc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ba&&Ta(ba,n)||(ba=n,n=vi(Ld,"onSelect"),0<n.length&&(t=new Wc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ts)))}function Rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rs={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Oo={},Zx={};Nr&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Qi(e){if(Oo[e])return Oo[e];if(!rs[e])return e;var t=rs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zx)return Oo[e]=t[r];return e}var ep=Qi("animationend"),tp=Qi("animationiteration"),rp=Qi("animationstart"),np=Qi("transitionend"),sp=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){sp.set(e,t),Wn(t,[e])}for(var Io=0;Io<Oh.length;Io++){var Do=Oh[Io],Uv=Do.toLowerCase(),Bv=Do[0].toUpperCase()+Do.slice(1);on(Uv,"on"+Bv)}on(ep,"onAnimationEnd");on(tp,"onAnimationIteration");on(rp,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(np,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Ih(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Uy(n,t,void 0,e),e.currentTarget=null}function ap(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;Ih(a,o,c),l=d}else for(i=0;i<n.length;i++){if(o=n[i],d=o.instance,c=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;Ih(a,o,c),l=d}}}if(xi)throw e=Cd,xi=!1,Cd=null,e}function je(e,t){var r=t[Md];r===void 0&&(r=t[Md]=new Set);var n=e+"__bubble";r.has(n)||(lp(t,e,2,!1),r.add(n))}function Mo(e,t,r){var n=0;t&&(n|=4),lp(r,e,n,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function _a(e){if(!e[Pl]){e[Pl]=!0,fx.forEach(function(r){r!=="selectionchange"&&(Hv.has(r)||Mo(r,!1,e),Mo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,Mo("selectionchange",!1,t))}}function lp(e,t,r,n){switch(Hx(t)){case 1:var a=nv;break;case 4:a=sv;break;default:a=Hc}r=a.bind(null,t,r,e),a=void 0,!Sd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ao(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=vn(o),i===null)return;if(d=i.tag,d===5||d===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Px(function(){var c=l,u=$c(r),h=[];e:{var f=sp.get(e);if(f!==void 0){var m=Wc,x=e;switch(e){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":m=yv;break;case"focusin":x="focus",m=Lo;break;case"focusout":x="blur",m=Lo;break;case"beforeblur":case"afterblur":m=Lo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wv;break;case ep:case tp:case rp:m=cv;break;case np:m=Nv;break;case"scroll":m=av;break;case"wheel":m=Cv;break;case"copy":case"cut":case"paste":m=hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Nh}var g=(t&4)!==0,v=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var b=c,y;b!==null;){y=b;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,p!==null&&(j=Ca(b,p),j!=null&&g.push(Oa(b,j,y)))),v)break;b=b.return}0<g.length&&(f=new m(f,x,null,r,u),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==kd&&(x=r.relatedTarget||r.fromElement)&&(vn(x)||x[Sr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=c,x=x?vn(x):null,x!==null&&(v=Vn(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(g=wh,j="onMouseLeave",p="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Nh,j="onPointerLeave",p="onPointerEnter",b="pointer"),v=m==null?f:ns(m),y=x==null?f:ns(x),f=new g(j,b+"leave",m,r,u),f.target=v,f.relatedTarget=y,j=null,vn(u)===c&&(g=new g(p,b+"enter",x,r,u),g.target=y,g.relatedTarget=v,j=g),v=j,m&&x)t:{for(g=m,p=x,b=0,y=g;y;y=Jn(y))b++;for(y=0,j=p;j;j=Jn(j))y++;for(;0<b-y;)g=Jn(g),b--;for(;0<y-b;)p=Jn(p),y--;for(;b--;){if(g===p||p!==null&&g===p.alternate)break t;g=Jn(g),p=Jn(p)}g=null}else g=null;m!==null&&Dh(h,f,m,g,!1),x!==null&&v!==null&&Dh(h,v,x,g,!0)}}e:{if(f=c?ns(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=Ov;else if(Eh(f))if(Gx)N=Av;else{N=Dv;var R=Iv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Mv);if(N&&(N=N(e,c))){qx(h,N,r,u);break e}R&&R(e,f,c),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&bd(f,"number",f.value)}switch(R=c?ns(c):window,e){case"focusin":(Eh(R)||R.contentEditable==="true")&&(ts=R,Ld=c,ba=null);break;case"focusout":ba=Ld=ts=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,_h(h,r,u);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":_h(h,r,u)}var k;if(Kc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else es?Vx(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Wx&&r.locale!=="ko"&&(es||P!=="onCompositionStart"?P==="onCompositionEnd"&&es&&(k=Qx()):(Kr=u,Qc="value"in Kr?Kr.value:Kr.textContent,es=!0)),R=vi(c,P),0<R.length&&(P=new kh(P,e,null,r,u),h.push({event:P,listeners:R}),k?P.data=k:(k=Kx(r),k!==null&&(P.data=k)))),(k=Rv?Pv(e,r):Lv(e,r))&&(c=vi(c,"onBeforeInput"),0<c.length&&(u=new kh("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=k))}ap(h,t)})}function Oa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Ca(e,r),l!=null&&n.unshift(Oa(e,l,a)),l=Ca(e,t),l!=null&&n.push(Oa(e,l,a))),e=e.return}return n}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dh(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,d=o.alternate,c=o.stateNode;if(d!==null&&d===n)break;o.tag===5&&c!==null&&(o=c,a?(d=Ca(r,l),d!=null&&i.unshift(Oa(r,d,o))):a||(d=Ca(r,l),d!=null&&i.push(Oa(r,d,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Qv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function Mh(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(Wv,"")}function Ll(e,t,r){if(t=Mh(t),Mh(e)!==t&&r)throw Error(F(425))}function ji(){}var _d=null,Od=null;function Id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,Kv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(e){return Ah.resolve(null).then(e).catch(qv)}:Dd;function qv(e){setTimeout(function(){throw e})}function Fo(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Pa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Pa(t)}function Zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Us=Math.random().toString(36).slice(2),sr="__reactFiber$"+Us,Ia="__reactProps$"+Us,Sr="__reactContainer$"+Us,Md="__reactEvents$"+Us,Gv="__reactListeners$"+Us,Jv="__reactHandles$"+Us;function vn(e){var t=e[sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sr]||r[sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fh(e);e!==null;){if(r=e[sr])return r;e=Fh(e)}return t}e=r,r=e.parentNode}return null}function rl(e){return e=e[sr]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Wi(e){return e[Ia]||null}var Ad=[],ss=-1;function dn(e){return{current:e}}function we(e){0>ss||(e.current=Ad[ss],Ad[ss]=null,ss--)}function ve(e,t){ss++,Ad[ss]=e.current,e.current=t}var ln={},nt=dn(ln),xt=dn(!1),Fn=ln;function Ts(e,t){var r=e.type.contextTypes;if(!r)return ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return e=e.childContextTypes,e!=null}function wi(){we(xt),we(nt)}function $h(e,t,r){if(nt.current!==ln)throw Error(F(168));ve(nt,t),ve(xt,r)}function ip(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(F(108,Iy(e)||"Unknown",a));return Pe({},r,n)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,Fn=nt.current,ve(nt,e),ve(xt,xt.current),!0}function zh(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=ip(e,t,Fn),n.__reactInternalMemoizedMergedChildContext=e,we(xt),we(nt),ve(nt,e)):we(xt),ve(xt,r)}var gr=null,Vi=!1,$o=!1;function op(e){gr===null?gr=[e]:gr.push(e)}function Yv(e){Vi=!0,op(e)}function cn(){if(!$o&&gr!==null){$o=!0;var e=0,t=be;try{var r=gr;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gr=null,Vi=!1}catch(a){throw gr!==null&&(gr=gr.slice(e+1)),Ox(zc,cn),a}finally{be=t,$o=!1}}return null}var as=[],ls=0,Ni=null,Si=0,Ot=[],It=0,$n=null,vr=1,jr="";function bn(e,t){as[ls++]=Si,as[ls++]=Ni,Ni=e,Si=t}function dp(e,t,r){Ot[It++]=vr,Ot[It++]=jr,Ot[It++]=$n,$n=e;var n=vr;e=jr;var a=32-Kt(n)-1;n&=~(1<<a),r+=1;var l=32-Kt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,vr=1<<32-Kt(t)+a|r<<a|n,jr=l+e}else vr=1<<l|r<<a|n,jr=e}function Gc(e){e.return!==null&&(bn(e,1),dp(e,1,0))}function Jc(e){for(;e===Ni;)Ni=as[--ls],as[ls]=null,Si=as[--ls],as[ls]=null;for(;e===$n;)$n=Ot[--It],Ot[It]=null,jr=Ot[--It],Ot[It]=null,vr=Ot[--It],Ot[It]=null}var kt=null,wt=null,Se=!1,Vt=null;function cp(e,t){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,wt=Zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$n!==null?{id:vr,overflow:jr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kt=e,wt=null,!0):!1;default:return!1}}function Fd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $d(e){if(Se){var t=wt;if(t){var r=t;if(!Uh(e,t)){if(Fd(e))throw Error(F(418));t=Zr(r.nextSibling);var n=kt;t&&Uh(e,t)?cp(n,r):(e.flags=e.flags&-4097|2,Se=!1,kt=e)}}else{if(Fd(e))throw Error(F(418));e.flags=e.flags&-4097|2,Se=!1,kt=e}}}function Bh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Tl(e){if(e!==kt)return!1;if(!Se)return Bh(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Id(e.type,e.memoizedProps)),t&&(t=wt)){if(Fd(e))throw up(),Error(F(418));for(;t;)cp(e,t),t=Zr(t.nextSibling)}if(Bh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wt=Zr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=kt?Zr(e.stateNode.nextSibling):null;return!0}function up(){for(var e=wt;e;)e=Zr(e.nextSibling)}function _s(){wt=kt=null,Se=!1}function Yc(e){Vt===null?Vt=[e]:Vt.push(e)}var Xv=Rr.ReactCurrentBatchConfig;function ea(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function _l(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hh(e){var t=e._init;return t(e._payload)}function hp(e){function t(p,b){if(e){var y=p.deletions;y===null?(p.deletions=[b],p.flags|=16):y.push(b)}}function r(p,b){if(!e)return null;for(;b!==null;)t(p,b),b=b.sibling;return null}function n(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function a(p,b){return p=nn(p,b),p.index=0,p.sibling=null,p}function l(p,b,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<b?(p.flags|=2,b):y):(p.flags|=2,b)):(p.flags|=1048576,b)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,b,y,j){return b===null||b.tag!==6?(b=Vo(y,p.mode,j),b.return=p,b):(b=a(b,y),b.return=p,b)}function d(p,b,y,j){var N=y.type;return N===Zn?u(p,b,y.props.children,j,y.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Or&&Hh(N)===b.type)?(j=a(b,y.props),j.ref=ea(p,b,y),j.return=p,j):(j=li(y.type,y.key,y.props,null,p.mode,j),j.ref=ea(p,b,y),j.return=p,j)}function c(p,b,y,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Ko(y,p.mode,j),b.return=p,b):(b=a(b,y.children||[]),b.return=p,b)}function u(p,b,y,j,N){return b===null||b.tag!==7?(b=Mn(y,p.mode,j,N),b.return=p,b):(b=a(b,y),b.return=p,b)}function h(p,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Vo(""+b,p.mode,y),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jl:return y=li(b.type,b.key,b.props,null,p.mode,y),y.ref=ea(p,null,b),y.return=p,y;case Xn:return b=Ko(b,p.mode,y),b.return=p,b;case Or:var j=b._init;return h(p,j(b._payload),y)}if(oa(b)||Gs(b))return b=Mn(b,p.mode,y,null),b.return=p,b;_l(p,b)}return null}function f(p,b,y,j){var N=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(p,b,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jl:return y.key===N?d(p,b,y,j):null;case Xn:return y.key===N?c(p,b,y,j):null;case Or:return N=y._init,f(p,b,N(y._payload),j)}if(oa(y)||Gs(y))return N!==null?null:u(p,b,y,j,null);_l(p,y)}return null}function m(p,b,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(y)||null,o(b,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jl:return p=p.get(j.key===null?y:j.key)||null,d(b,p,j,N);case Xn:return p=p.get(j.key===null?y:j.key)||null,c(b,p,j,N);case Or:var R=j._init;return m(p,b,y,R(j._payload),N)}if(oa(j)||Gs(j))return p=p.get(y)||null,u(b,p,j,N,null);_l(b,j)}return null}function x(p,b,y,j){for(var N=null,R=null,k=b,P=b=0,T=null;k!==null&&P<y.length;P++){k.index>P?(T=k,k=null):T=k.sibling;var D=f(p,k,y[P],j);if(D===null){k===null&&(k=T);break}e&&k&&D.alternate===null&&t(p,k),b=l(D,b,P),R===null?N=D:R.sibling=D,R=D,k=T}if(P===y.length)return r(p,k),Se&&bn(p,P),N;if(k===null){for(;P<y.length;P++)k=h(p,y[P],j),k!==null&&(b=l(k,b,P),R===null?N=k:R.sibling=k,R=k);return Se&&bn(p,P),N}for(k=n(p,k);P<y.length;P++)T=m(k,p,P,y[P],j),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?P:T.key),b=l(T,b,P),R===null?N=T:R.sibling=T,R=T);return e&&k.forEach(function(z){return t(p,z)}),Se&&bn(p,P),N}function g(p,b,y,j){var N=Gs(y);if(typeof N!="function")throw Error(F(150));if(y=N.call(y),y==null)throw Error(F(151));for(var R=N=null,k=b,P=b=0,T=null,D=y.next();k!==null&&!D.done;P++,D=y.next()){k.index>P?(T=k,k=null):T=k.sibling;var z=f(p,k,D.value,j);if(z===null){k===null&&(k=T);break}e&&k&&z.alternate===null&&t(p,k),b=l(z,b,P),R===null?N=z:R.sibling=z,R=z,k=T}if(D.done)return r(p,k),Se&&bn(p,P),N;if(k===null){for(;!D.done;P++,D=y.next())D=h(p,D.value,j),D!==null&&(b=l(D,b,P),R===null?N=D:R.sibling=D,R=D);return Se&&bn(p,P),N}for(k=n(p,k);!D.done;P++,D=y.next())D=m(k,p,P,D.value,j),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?P:D.key),b=l(D,b,P),R===null?N=D:R.sibling=D,R=D);return e&&k.forEach(function(M){return t(p,M)}),Se&&bn(p,P),N}function v(p,b,y,j){if(typeof y=="object"&&y!==null&&y.type===Zn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case jl:e:{for(var N=y.key,R=b;R!==null;){if(R.key===N){if(N=y.type,N===Zn){if(R.tag===7){r(p,R.sibling),b=a(R,y.props.children),b.return=p,p=b;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Or&&Hh(N)===R.type){r(p,R.sibling),b=a(R,y.props),b.ref=ea(p,R,y),b.return=p,p=b;break e}r(p,R);break}else t(p,R);R=R.sibling}y.type===Zn?(b=Mn(y.props.children,p.mode,j,y.key),b.return=p,p=b):(j=li(y.type,y.key,y.props,null,p.mode,j),j.ref=ea(p,b,y),j.return=p,p=j)}return i(p);case Xn:e:{for(R=y.key;b!==null;){if(b.key===R)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(p,b.sibling),b=a(b,y.children||[]),b.return=p,p=b;break e}else{r(p,b);break}else t(p,b);b=b.sibling}b=Ko(y,p.mode,j),b.return=p,p=b}return i(p);case Or:return R=y._init,v(p,b,R(y._payload),j)}if(oa(y))return x(p,b,y,j);if(Gs(y))return g(p,b,y,j);_l(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(p,b.sibling),b=a(b,y),b.return=p,p=b):(r(p,b),b=Vo(y,p.mode,j),b.return=p,p=b),i(p)):r(p,b)}return v}var Os=hp(!0),fp=hp(!1),Ci=dn(null),Ei=null,is=null,Xc=null;function Zc(){Xc=is=Ei=null}function eu(e){var t=Ci.current;we(Ci),e._currentValue=t}function zd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xs(e,t){Ei=e,Xc=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Xc!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(Ei===null)throw Error(F(308));is=e,Ei.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var jn=null;function tu(e){jn===null?jn=[e]:jn.push(e)}function mp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,tu(t)):(r.next=a.next,a.next=r),t.interleaved=r,Cr(e,n)}function Cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ir=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Cr(e,r)}return a=n.interleaved,a===null?(t.next=t,tu(n)):(t.next=a.next,a.next=t),n.interleaved=t,Cr(e,r)}function ei(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uc(e,r)}}function Qh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ri(e,t,r,n){var a=e.updateQueue;Ir=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,c=d.next;d.next=null,i===null?l=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=d))}if(l!==null){var h=a.baseState;i=0,u=c=d=null,o=l;do{var f=o.lane,m=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,g=o;switch(f=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Pe({},h,f);break e;case 2:Ir=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,d=h):u=u.next=m,i|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(d=h),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Un|=i,e.lanes=i,e.memoizedState=h}}function Wh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(F(191,a));a.call(n)}}}var nl={},ir=dn(nl),Da=dn(nl),Ma=dn(nl);function wn(e){if(e===nl)throw Error(F(174));return e}function nu(e,t){switch(ve(Ma,t),ve(Da,e),ve(ir,nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vd(t,e)}we(ir),ve(ir,t)}function Is(){we(ir),we(Da),we(Ma)}function pp(e){wn(Ma.current);var t=wn(ir.current),r=vd(t,e.type);t!==r&&(ve(Da,e),ve(ir,r))}function su(e){Da.current===e&&(we(ir),we(Da))}var Ce=dn(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=[];function au(){for(var e=0;e<zo.length;e++)zo[e]._workInProgressVersionPrimary=null;zo.length=0}var ti=Rr.ReactCurrentDispatcher,Uo=Rr.ReactCurrentBatchConfig,zn=0,Ee=null,Ae=null,He=null,Li=!1,ya=!1,Aa=0,Zv=0;function Xe(){throw Error(F(321))}function lu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function iu(e,t,r,n,a,l){if(zn=l,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?n0:s0,e=r(n,a),ya){l=0;do{if(ya=!1,Aa=0,25<=l)throw Error(F(301));l+=1,He=Ae=null,t.updateQueue=null,ti.current=a0,e=r(n,a)}while(ya)}if(ti.current=Ti,t=Ae!==null&&Ae.next!==null,zn=0,He=Ae=Ee=null,Li=!1,t)throw Error(F(300));return e}function ou(){var e=Aa!==0;return Aa=0,e}function er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ee.memoizedState=He=e:He=He.next=e,He}function Ft(){if(Ae===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=He===null?Ee.memoizedState:He.next;if(t!==null)He=t,Ae=e;else{if(e===null)throw Error(F(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},He===null?Ee.memoizedState=He=e:He=He.next=e}return He}function Fa(e,t){return typeof t=="function"?t(e):t}function Bo(e){var t=Ft(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=Ae,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,d=null,c=l;do{var u=c.lane;if((zn&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=h,i=n):d=d.next=h,Ee.lanes|=u,Un|=u}c=c.next}while(c!==null&&c!==l);d===null?i=n:d.next=o,Gt(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,Ee.lanes|=l,Un|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ho(e){var t=Ft(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Gt(l,t.memoizedState)||(mt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function gp(){}function bp(e,t){var r=Ee,n=Ft(),a=t(),l=!Gt(n.memoizedState,a);if(l&&(n.memoizedState=a,mt=!0),n=n.queue,du(jp.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,$a(9,vp.bind(null,r,n,a,t),void 0,null),Qe===null)throw Error(F(349));zn&30||yp(r,t,a)}return a}function yp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function vp(e,t,r,n){t.value=r,t.getSnapshot=n,wp(t)&&kp(e)}function jp(e,t,r){return r(function(){wp(t)&&kp(e)})}function wp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function kp(e){var t=Cr(e,1);t!==null&&qt(t,e,1,-1)}function Vh(e){var t=er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=r0.bind(null,Ee,e),[t.memoizedState,e]}function $a(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Np(){return Ft().memoizedState}function ri(e,t,r,n){var a=er();Ee.flags|=e,a.memoizedState=$a(1|t,r,void 0,n===void 0?null:n)}function Ki(e,t,r,n){var a=Ft();n=n===void 0?null:n;var l=void 0;if(Ae!==null){var i=Ae.memoizedState;if(l=i.destroy,n!==null&&lu(n,i.deps)){a.memoizedState=$a(t,r,l,n);return}}Ee.flags|=e,a.memoizedState=$a(1|t,r,l,n)}function Kh(e,t){return ri(8390656,8,e,t)}function du(e,t){return Ki(2048,8,e,t)}function Sp(e,t){return Ki(4,2,e,t)}function Cp(e,t){return Ki(4,4,e,t)}function Ep(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rp(e,t,r){return r=r!=null?r.concat([e]):null,Ki(4,4,Ep.bind(null,t,e),r)}function cu(){}function Pp(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Lp(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tp(e,t,r){return zn&21?(Gt(r,t)||(r=Mx(),Ee.lanes|=r,Un|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=r)}function e0(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=Uo.transition;Uo.transition={};try{e(!1),t()}finally{be=r,Uo.transition=n}}function _p(){return Ft().memoizedState}function t0(e,t,r){var n=rn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Op(e))Ip(t,r);else if(r=mp(e,t,r,n),r!==null){var a=ot();qt(r,e,n,a),Dp(r,t,n)}}function r0(e,t,r){var n=rn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Op(e))Ip(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Gt(o,i)){var d=t.interleaved;d===null?(a.next=a,tu(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=mp(e,t,a,n),r!==null&&(a=ot(),qt(r,e,n,a),Dp(r,t,n))}}function Op(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Ip(e,t){ya=Li=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Uc(e,r)}}var Ti={readContext:At,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},n0={readContext:At,useCallback:function(e,t){return er().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Kh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ri(4194308,4,Ep.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var r=er();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=er();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=t0.bind(null,Ee,e),[n.memoizedState,e]},useRef:function(e){var t=er();return e={current:e},t.memoizedState=e},useState:Vh,useDebugValue:cu,useDeferredValue:function(e){return er().memoizedState=e},useTransition:function(){var e=Vh(!1),t=e[0];return e=e0.bind(null,e[1]),er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ee,a=er();if(Se){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),Qe===null)throw Error(F(349));zn&30||yp(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Kh(jp.bind(null,n,l,e),[e]),n.flags|=2048,$a(9,vp.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=er(),t=Qe.identifierPrefix;if(Se){var r=jr,n=vr;r=(n&~(1<<32-Kt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Aa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Zv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s0={readContext:At,useCallback:Pp,useContext:At,useEffect:du,useImperativeHandle:Rp,useInsertionEffect:Sp,useLayoutEffect:Cp,useMemo:Lp,useReducer:Bo,useRef:Np,useState:function(){return Bo(Fa)},useDebugValue:cu,useDeferredValue:function(e){var t=Ft();return Tp(t,Ae.memoizedState,e)},useTransition:function(){var e=Bo(Fa)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:gp,useSyncExternalStore:bp,useId:_p,unstable_isNewReconciler:!1},a0={readContext:At,useCallback:Pp,useContext:At,useEffect:du,useImperativeHandle:Rp,useInsertionEffect:Sp,useLayoutEffect:Cp,useMemo:Lp,useReducer:Ho,useRef:Np,useState:function(){return Ho(Fa)},useDebugValue:cu,useDeferredValue:function(e){var t=Ft();return Ae===null?t.memoizedState=e:Tp(t,Ae.memoizedState,e)},useTransition:function(){var e=Ho(Fa)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:gp,useSyncExternalStore:bp,useId:_p,unstable_isNewReconciler:!1};function Bt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ud(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qi={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ot(),a=rn(e),l=kr(n,a);l.payload=t,r!=null&&(l.callback=r),t=en(e,l,a),t!==null&&(qt(t,e,a,n),ei(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ot(),a=rn(e),l=kr(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=en(e,l,a),t!==null&&(qt(t,e,a,n),ei(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ot(),n=rn(e),a=kr(r,n);a.tag=2,t!=null&&(a.callback=t),t=en(e,a,n),t!==null&&(qt(t,e,n,r),ei(t,e,n))}};function qh(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Ta(r,n)||!Ta(a,l):!0}function Mp(e,t,r){var n=!1,a=ln,l=t.contextType;return typeof l=="object"&&l!==null?l=At(l):(a=pt(t)?Fn:nt.current,n=t.contextTypes,l=(n=n!=null)?Ts(e,a):ln),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Gh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qi.enqueueReplaceState(t,t.state,null)}function Bd(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ru(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=At(l):(l=pt(t)?Fn:nt.current,a.context=Ts(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Ud(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qi.enqueueReplaceState(a,a.state,null),Ri(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ds(e,t){try{var r="",n=t;do r+=Oy(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Qo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Hd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var l0=typeof WeakMap=="function"?WeakMap:Map;function Ap(e,t,r){r=kr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oi||(Oi=!0,Zd=n),Hd(e,t)},r}function Fp(e,t,r){r=kr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Hd(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Hd(e,t),typeof n!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Jh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new l0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=v0.bind(null,e,t,r),t.then(e,e))}function Yh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xh(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kr(-1,1),t.tag=2,en(r,t,1))),r.lanes|=1),e)}var i0=Rr.ReactCurrentOwner,mt=!1;function it(e,t,r,n){t.child=e===null?fp(t,null,r,n):Os(t,e.child,r,n)}function Zh(e,t,r,n,a){r=r.render;var l=t.ref;return xs(t,a),n=iu(e,t,r,n,l,a),r=ou(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Er(e,t,a)):(Se&&r&&Gc(t),t.flags|=1,it(e,t,n,a),t.child)}function ef(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!bu(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,$p(e,t,l,n,a)):(e=li(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Ta,r(i,n)&&e.ref===t.ref)return Er(e,t,a)}return t.flags|=1,e=nn(l,n),e.ref=t.ref,e.return=t,t.child=e}function $p(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(Ta(l,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Er(e,t,a)}return Qd(e,t,r,n,a)}function zp(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ds,vt),vt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(ds,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ve(ds,vt),vt|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ve(ds,vt),vt|=n;return it(e,t,a,r),t.child}function Up(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qd(e,t,r,n,a){var l=pt(r)?Fn:nt.current;return l=Ts(t,l),xs(t,a),r=iu(e,t,r,n,l,a),n=ou(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Er(e,t,a)):(Se&&n&&Gc(t),t.flags|=1,it(e,t,r,a),t.child)}function tf(e,t,r,n,a){if(pt(r)){var l=!0;ki(t)}else l=!1;if(xs(t,a),t.stateNode===null)ni(e,t),Mp(t,r,n),Bd(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=At(c):(c=pt(r)?Fn:nt.current,c=Ts(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||d!==c)&&Gh(t,i,n,c),Ir=!1;var f=t.memoizedState;i.state=f,Ri(t,n,i,a),d=t.memoizedState,o!==n||f!==d||xt.current||Ir?(typeof u=="function"&&(Ud(t,r,u,n),d=t.memoizedState),(o=Ir||qh(t,r,o,n,f,d,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),i.props=n,i.state=d,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,xp(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Bt(t.type,o),i.props=c,h=t.pendingProps,f=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=At(d):(d=pt(r)?Fn:nt.current,d=Ts(t,d));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==d)&&Gh(t,i,n,d),Ir=!1,f=t.memoizedState,i.state=f,Ri(t,n,i,a);var x=t.memoizedState;o!==h||f!==x||xt.current||Ir?(typeof m=="function"&&(Ud(t,r,m,n),x=t.memoizedState),(c=Ir||qh(t,r,c,n,f,x,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=d,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Wd(e,t,r,n,l,a)}function Wd(e,t,r,n,a,l){Up(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&zh(t,r,!1),Er(e,t,l);n=t.stateNode,i0.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Os(t,e.child,null,l),t.child=Os(t,null,o,l)):it(e,t,o,l),t.memoizedState=n.state,a&&zh(t,r,!0),t.child}function Bp(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),nu(e,t.containerInfo)}function rf(e,t,r,n,a){return _s(),Yc(a),t.flags|=256,it(e,t,r,n),t.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Kd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hp(e,t,r){var n=t.pendingProps,a=Ce.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ve(Ce,a&1),e===null)return $d(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Yi(i,n,0,null),e=Mn(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Kd(r),t.memoizedState=Vd,e):uu(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return o0(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=nn(a,d),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=nn(o,l):(l=Mn(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?Kd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=Vd,n}return l=e.child,e=l.sibling,n=nn(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function uu(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,r,n){return n!==null&&Yc(n),Os(t,e.child,null,r),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o0(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=Qo(Error(F(422))),Ol(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Yi({mode:"visible",children:n.children},a,0,null),l=Mn(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Os(t,e.child,null,i),t.child.memoizedState=Kd(i),t.memoizedState=Vd,l);if(!(t.mode&1))return Ol(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(F(419)),n=Qo(l,n,void 0),Ol(e,t,i,n)}if(o=(i&e.childLanes)!==0,mt||o){if(n=Qe,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Cr(e,a),qt(n,e,a,-1))}return gu(),n=Qo(Error(F(421))),Ol(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=j0.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,wt=Zr(a.nextSibling),kt=t,Se=!0,Vt=null,e!==null&&(Ot[It++]=vr,Ot[It++]=jr,Ot[It++]=$n,vr=e.id,jr=e.overflow,$n=t),t=uu(t,n.children),t.flags|=4096,t)}function nf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zd(e.return,t,r)}function Wo(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function Qp(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(it(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,r,t);else if(e.tag===19)nf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ve(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Pi(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Wo(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Pi(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Wo(t,!0,r,null,l);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=nn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function d0(e,t,r){switch(t.tag){case 3:Bp(t),_s();break;case 5:pp(t);break;case 1:pt(t.type)&&ki(t);break;case 4:nu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ve(Ci,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ve(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?Hp(e,t,r):(ve(Ce,Ce.current&1),e=Er(e,t,r),e!==null?e.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qp(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ve(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,zp(e,t,r)}return Er(e,t,r)}var Wp,qd,Vp,Kp;Wp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qd=function(){};Vp=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,wn(ir.current);var l=null;switch(r){case"input":a=pd(e,a),n=pd(e,n),l=[];break;case"select":a=Pe({},a,{value:void 0}),n=Pe({},n,{value:void 0}),l=[];break;case"textarea":a=yd(e,a),n=yd(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ji)}jd(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Na.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in n){var d=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(l||(l=[]),l.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Na.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&je("scroll",e),l||o===d||(l=[])):(l=l||[]).push(c,d))}r&&(l=l||[]).push("style",r);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Kp=function(e,t,r,n){r!==n&&(t.flags|=4)};function ta(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function c0(e,t,r){var n=t.pendingProps;switch(Jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return pt(t.type)&&wi(),Ze(t),null;case 3:return n=t.stateNode,Is(),we(xt),we(nt),au(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(rc(Vt),Vt=null))),qd(e,t),Ze(t),null;case 5:su(t);var a=wn(Ma.current);if(r=t.type,e!==null&&t.stateNode!=null)Vp(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return Ze(t),null}if(e=wn(ir.current),Tl(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[sr]=t,n[Ia]=l,e=(t.mode&1)!==0,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<ca.length;a++)je(ca[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":hh(n,l),je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},je("invalid",n);break;case"textarea":mh(n,l),je("invalid",n)}jd(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Ll(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Ll(n.textContent,o,e),a=["children",""+o]):Na.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&je("scroll",n)}switch(r){case"input":wl(n),fh(n,l,!0);break;case"textarea":wl(n),xh(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ji)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[sr]=t,e[Ia]=n,Wp(e,t,!1,!1),t.stateNode=e;e:{switch(i=wd(r,n),r){case"dialog":je("cancel",e),je("close",e),a=n;break;case"iframe":case"object":case"embed":je("load",e),a=n;break;case"video":case"audio":for(a=0;a<ca.length;a++)je(ca[a],e);a=n;break;case"source":je("error",e),a=n;break;case"img":case"image":case"link":je("error",e),je("load",e),a=n;break;case"details":je("toggle",e),a=n;break;case"input":hh(e,n),a=pd(e,n),je("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Pe({},n,{value:void 0}),je("invalid",e);break;case"textarea":mh(e,n),a=yd(e,n),je("invalid",e);break;default:a=n}jd(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?Nx(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&wx(e,d)):l==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Sa(e,d):typeof d=="number"&&Sa(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Na.hasOwnProperty(l)?d!=null&&l==="onScroll"&&je("scroll",e):d!=null&&Dc(e,l,d,i))}switch(r){case"input":wl(e),fh(e,n,!1);break;case"textarea":wl(e),xh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+an(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?us(e,!!n.multiple,l,!1):n.defaultValue!=null&&us(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ji)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Kp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=wn(Ma.current),wn(ir.current),Tl(t)){if(n=t.stateNode,r=t.memoizedProps,n[sr]=t,(l=n.nodeValue!==r)&&(e=kt,e!==null))switch(e.tag){case 3:Ll(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[sr]=t,t.stateNode=n}return Ze(t),null;case 13:if(we(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&wt!==null&&t.mode&1&&!(t.flags&128))up(),_s(),t.flags|=98560,l=!1;else if(l=Tl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[sr]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),l=!1}else Vt!==null&&(rc(Vt),Vt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Fe===0&&(Fe=3):gu())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return Is(),qd(e,t),e===null&&_a(t.stateNode.containerInfo),Ze(t),null;case 10:return eu(t.type._context),Ze(t),null;case 17:return pt(t.type)&&wi(),Ze(t),null;case 19:if(we(Ce),l=t.memoizedState,l===null)return Ze(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)ta(l,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Pi(e),i!==null){for(t.flags|=128,ta(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Ce,Ce.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>Ms&&(t.flags|=128,n=!0,ta(l,!1),t.lanes=4194304)}else{if(!n)if(e=Pi(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ta(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Se)return Ze(t),null}else 2*Ie()-l.renderingStartTime>Ms&&r!==1073741824&&(t.flags|=128,n=!0,ta(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,r=Ce.current,ve(Ce,n?r&1|2:r&1),t):(Ze(t),null);case 22:case 23:return pu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function u0(e,t){switch(Jc(t),t.tag){case 1:return pt(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Is(),we(xt),we(nt),au(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return su(t),null;case 13:if(we(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ce),null;case 4:return Is(),null;case 10:return eu(t.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var Il=!1,tt=!1,h0=typeof WeakSet=="function"?WeakSet:Set,V=null;function os(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(e,t,n)}else r.current=null}function Gd(e,t,r){try{r()}catch(n){Oe(e,t,n)}}var sf=!1;function f0(e,t){if(_d=bi,e=Xx(),qc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,d=-1,c=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(o=i+a),h!==l||n!==0&&h.nodeType!==3||(d=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++c===a&&(o=i),f===l&&++u===n&&(d=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=o===-1||d===-1?null:{start:o,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Od={focusedElem:e,selectionRange:r},bi=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,p=t.stateNode,b=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Bt(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Oe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return x=sf,sf=!1,x}function va(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Gd(t,r,l)}a=a.next}while(a!==n)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qp(e){var t=e.alternate;t!==null&&(e.alternate=null,qp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[Ia],delete t[Md],delete t[Gv],delete t[Jv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gp(e){return e.tag===5||e.tag===3||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ji));else if(n!==4&&(e=e.child,e!==null))for(Yd(e,t,r),e=e.sibling;e!==null;)Yd(e,t,r),e=e.sibling}function Xd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xd(e,t,r),e=e.sibling;e!==null;)Xd(e,t,r),e=e.sibling}var Ve=null,Wt=!1;function Tr(e,t,r){for(r=r.child;r!==null;)Jp(e,t,r),r=r.sibling}function Jp(e,t,r){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ui,r)}catch{}switch(r.tag){case 5:tt||os(r,t);case 6:var n=Ve,a=Wt;Ve=null,Tr(e,t,r),Ve=n,Wt=a,Ve!==null&&(Wt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Wt?(e=Ve,r=r.stateNode,e.nodeType===8?Fo(e.parentNode,r):e.nodeType===1&&Fo(e,r),Pa(e)):Fo(Ve,r.stateNode));break;case 4:n=Ve,a=Wt,Ve=r.stateNode.containerInfo,Wt=!0,Tr(e,t,r),Ve=n,Wt=a;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Gd(r,t,i),a=a.next}while(a!==n)}Tr(e,t,r);break;case 1:if(!tt&&(os(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Oe(r,t,o)}Tr(e,t,r);break;case 21:Tr(e,t,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,Tr(e,t,r),tt=n):Tr(e,t,r);break;default:Tr(e,t,r)}}function lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new h0),t.forEach(function(n){var a=w0.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Wt=!1;break e;case 3:Ve=o.stateNode.containerInfo,Wt=!0;break e;case 4:Ve=o.stateNode.containerInfo,Wt=!0;break e}o=o.return}if(Ve===null)throw Error(F(160));Jp(l,i,a),Ve=null,Wt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){Oe(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yp(t,e),t=t.sibling}function Yp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Xt(e),n&4){try{va(3,e,e.return),Gi(3,e)}catch(g){Oe(e,e.return,g)}try{va(5,e,e.return)}catch(g){Oe(e,e.return,g)}}break;case 1:Ut(t,e),Xt(e),n&512&&r!==null&&os(r,r.return);break;case 5:if(Ut(t,e),Xt(e),n&512&&r!==null&&os(r,r.return),e.flags&32){var a=e.stateNode;try{Sa(a,"")}catch(g){Oe(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&yx(a,l),wd(o,i);var c=wd(o,l);for(i=0;i<d.length;i+=2){var u=d[i],h=d[i+1];u==="style"?Nx(a,h):u==="dangerouslySetInnerHTML"?wx(a,h):u==="children"?Sa(a,h):Dc(a,u,h,c)}switch(o){case"input":gd(a,l);break;case"textarea":vx(a,l);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?us(a,!!l.multiple,m,!1):f!==!!l.multiple&&(l.defaultValue!=null?us(a,!!l.multiple,l.defaultValue,!0):us(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ia]=l}catch(g){Oe(e,e.return,g)}}break;case 6:if(Ut(t,e),Xt(e),n&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(g){Oe(e,e.return,g)}}break;case 3:if(Ut(t,e),Xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(g){Oe(e,e.return,g)}break;case 4:Ut(t,e),Xt(e);break;case 13:Ut(t,e),Xt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(mu=Ie())),n&4&&lf(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(tt=(c=tt)||u,Ut(t,e),tt=c):Ut(t,e),Xt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(h=V=u;V!==null;){switch(f=V,m=f.child,f.tag){case 0:case 11:case 14:case 15:va(4,f,f.return);break;case 1:os(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Oe(n,r,g)}}break;case 5:os(f,f.return);break;case 22:if(f.memoizedState!==null){df(h);continue}}m!==null?(m.return=f,V=m):df(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,d=h.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=kx("display",i))}catch(g){Oe(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Oe(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ut(t,e),Xt(e),n&4&&lf(e);break;case 21:break;default:Ut(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gp(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Sa(a,""),n.flags&=-33);var l=af(e);Xd(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=af(e);Yd(e,o,i);break;default:throw Error(F(161))}}catch(d){Oe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m0(e,t,r){V=e,Xp(e)}function Xp(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var a=V,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Il;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||tt;o=Il;var c=tt;if(Il=i,(tt=d)&&!c)for(V=a;V!==null;)i=V,d=i.child,i.tag===22&&i.memoizedState!==null?cf(a):d!==null?(d.return=i,V=d):cf(a);for(;l!==null;)V=l,Xp(l),l=l.sibling;V=a,Il=o,tt=c}of(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,V=l):of(e)}}function of(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Gi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Bt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Wh(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wh(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Pa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}tt||t.flags&512&&Jd(t)}catch(f){Oe(t,t.return,f)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function df(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function cf(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gi(4,t)}catch(d){Oe(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(d){Oe(t,a,d)}}var l=t.return;try{Jd(t)}catch(d){Oe(t,l,d)}break;case 5:var i=t.return;try{Jd(t)}catch(d){Oe(t,i,d)}}}catch(d){Oe(t,t.return,d)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var x0=Math.ceil,_i=Rr.ReactCurrentDispatcher,hu=Rr.ReactCurrentOwner,Mt=Rr.ReactCurrentBatchConfig,pe=0,Qe=null,Me=null,qe=0,vt=0,ds=dn(0),Fe=0,za=null,Un=0,Ji=0,fu=0,ja=null,ft=null,mu=0,Ms=1/0,pr=null,Oi=!1,Zd=null,tn=null,Dl=!1,qr=null,Ii=0,wa=0,ec=null,si=-1,ai=0;function ot(){return pe&6?Ie():si!==-1?si:si=Ie()}function rn(e){return e.mode&1?pe&2&&qe!==0?qe&-qe:Xv.transition!==null?(ai===0&&(ai=Mx()),ai):(e=be,e!==0||(e=window.event,e=e===void 0?16:Hx(e.type)),e):1}function qt(e,t,r,n){if(50<wa)throw wa=0,ec=null,Error(F(185));el(e,r,n),(!(pe&2)||e!==Qe)&&(e===Qe&&(!(pe&2)&&(Ji|=r),Fe===4&&Mr(e,qe)),gt(e,n),r===1&&pe===0&&!(t.mode&1)&&(Ms=Ie()+500,Vi&&cn()))}function gt(e,t){var r=e.callbackNode;Xy(e,t);var n=gi(e,e===Qe?qe:0);if(n===0)r!==null&&bh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bh(r),t===1)e.tag===0?Yv(uf.bind(null,e)):op(uf.bind(null,e)),Kv(function(){!(pe&6)&&cn()}),r=null;else{switch(Ax(n)){case 1:r=zc;break;case 4:r=Ix;break;case 16:r=pi;break;case 536870912:r=Dx;break;default:r=pi}r=lg(r,Zp.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zp(e,t){if(si=-1,ai=0,pe&6)throw Error(F(327));var r=e.callbackNode;if(ps()&&e.callbackNode!==r)return null;var n=gi(e,e===Qe?qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Di(e,n);else{t=n;var a=pe;pe|=2;var l=tg();(Qe!==e||qe!==t)&&(pr=null,Ms=Ie()+500,Dn(e,t));do try{b0();break}catch(o){eg(e,o)}while(!0);Zc(),_i.current=l,pe=a,Me!==null?t=0:(Qe=null,qe=0,t=Fe)}if(t!==0){if(t===2&&(a=Ed(e),a!==0&&(n=a,t=tc(e,a))),t===1)throw r=za,Dn(e,0),Mr(e,n),gt(e,Ie()),r;if(t===6)Mr(e,n);else{if(a=e.current.alternate,!(n&30)&&!p0(a)&&(t=Di(e,n),t===2&&(l=Ed(e),l!==0&&(n=l,t=tc(e,l))),t===1))throw r=za,Dn(e,0),Mr(e,n),gt(e,Ie()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:yn(e,ft,pr);break;case 3:if(Mr(e,n),(n&130023424)===n&&(t=mu+500-Ie(),10<t)){if(gi(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ot(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Dd(yn.bind(null,e,ft,pr),t);break}yn(e,ft,pr);break;case 4:if(Mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Kt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*x0(n/1960))-n,10<n){e.timeoutHandle=Dd(yn.bind(null,e,ft,pr),n);break}yn(e,ft,pr);break;case 5:yn(e,ft,pr);break;default:throw Error(F(329))}}}return gt(e,Ie()),e.callbackNode===r?Zp.bind(null,e):null}function tc(e,t){var r=ja;return e.current.memoizedState.isDehydrated&&(Dn(e,t).flags|=256),e=Di(e,t),e!==2&&(t=ft,ft=r,t!==null&&rc(t)),e}function rc(e){ft===null?ft=e:ft.push.apply(ft,e)}function p0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Gt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~fu,t&=~Ji,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kt(t),n=1<<r;e[r]=-1,t&=~n}}function uf(e){if(pe&6)throw Error(F(327));ps();var t=gi(e,0);if(!(t&1))return gt(e,Ie()),null;var r=Di(e,t);if(e.tag!==0&&r===2){var n=Ed(e);n!==0&&(t=n,r=tc(e,n))}if(r===1)throw r=za,Dn(e,0),Mr(e,t),gt(e,Ie()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yn(e,ft,pr),gt(e,Ie()),null}function xu(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(Ms=Ie()+500,Vi&&cn())}}function Bn(e){qr!==null&&qr.tag===0&&!(pe&6)&&ps();var t=pe;pe|=1;var r=Mt.transition,n=be;try{if(Mt.transition=null,be=1,e)return e()}finally{be=n,Mt.transition=r,pe=t,!(pe&6)&&cn()}}function pu(){vt=ds.current,we(ds)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vv(r)),Me!==null)for(r=Me.return;r!==null;){var n=r;switch(Jc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wi();break;case 3:Is(),we(xt),we(nt),au();break;case 5:su(n);break;case 4:Is();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:eu(n.type._context);break;case 22:case 23:pu()}r=r.return}if(Qe=e,Me=e=nn(e.current,null),qe=vt=t,Fe=0,za=null,fu=Ji=Un=0,ft=ja=null,jn!==null){for(t=0;t<jn.length;t++)if(r=jn[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}jn=null}return e}function eg(e,t){do{var r=Me;try{if(Zc(),ti.current=Ti,Li){for(var n=Ee.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Li=!1}if(zn=0,He=Ae=Ee=null,ya=!1,Aa=0,hu.current=null,r===null||r.return===null){Fe=1,za=t,Me=null;break}e:{var l=e,i=r.return,o=r,d=t;if(t=qe,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Yh(i);if(m!==null){m.flags&=-257,Xh(m,i,o,l,t),m.mode&1&&Jh(l,c,t),t=m,d=c;var x=t.updateQueue;if(x===null){var g=new Set;g.add(d),t.updateQueue=g}else x.add(d);break e}else{if(!(t&1)){Jh(l,c,t),gu();break e}d=Error(F(426))}}else if(Se&&o.mode&1){var v=Yh(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Xh(v,i,o,l,t),Yc(Ds(d,o));break e}}l=d=Ds(d,o),Fe!==4&&(Fe=2),ja===null?ja=[l]:ja.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=Ap(l,d,t);Qh(l,p);break e;case 1:o=d;var b=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(tn===null||!tn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=Fp(l,o,t);Qh(l,j);break e}}l=l.return}while(l!==null)}ng(r)}catch(N){t=N,Me===r&&r!==null&&(Me=r=r.return);continue}break}while(!0)}function tg(){var e=_i.current;return _i.current=Ti,e===null?Ti:e}function gu(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Qe===null||!(Un&268435455)&&!(Ji&268435455)||Mr(Qe,qe)}function Di(e,t){var r=pe;pe|=2;var n=tg();(Qe!==e||qe!==t)&&(pr=null,Dn(e,t));do try{g0();break}catch(a){eg(e,a)}while(!0);if(Zc(),pe=r,_i.current=n,Me!==null)throw Error(F(261));return Qe=null,qe=0,Fe}function g0(){for(;Me!==null;)rg(Me)}function b0(){for(;Me!==null&&!Hy();)rg(Me)}function rg(e){var t=ag(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?ng(e):Me=t,hu.current=null}function ng(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=u0(r,t),r!==null){r.flags&=32767,Me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(r=c0(r,t,vt),r!==null){Me=r;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function yn(e,t,r){var n=be,a=Mt.transition;try{Mt.transition=null,be=1,y0(e,t,r,n)}finally{Mt.transition=a,be=n}return null}function y0(e,t,r,n){do ps();while(qr!==null);if(pe&6)throw Error(F(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Zy(e,l),e===Qe&&(Me=Qe=null,qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dl||(Dl=!0,lg(pi,function(){return ps(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Mt.transition,Mt.transition=null;var i=be;be=1;var o=pe;pe|=4,hu.current=null,f0(e,r),Yp(r,e),$v(Od),bi=!!_d,Od=_d=null,e.current=r,m0(r),Qy(),pe=o,be=i,Mt.transition=l}else e.current=r;if(Dl&&(Dl=!1,qr=e,Ii=a),l=e.pendingLanes,l===0&&(tn=null),Ky(r.stateNode),gt(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Zd,Zd=null,e;return Ii&1&&e.tag!==0&&ps(),l=e.pendingLanes,l&1?e===ec?wa++:(wa=0,ec=e):wa=0,cn(),null}function ps(){if(qr!==null){var e=Ax(Ii),t=Mt.transition,r=be;try{if(Mt.transition=null,be=16>e?16:e,qr===null)var n=!1;else{if(e=qr,qr=null,Ii=0,pe&6)throw Error(F(331));var a=pe;for(pe|=4,V=e.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:va(8,u,l)}var h=u.child;if(h!==null)h.return=u,V=h;else for(;V!==null;){u=V;var f=u.sibling,m=u.return;if(qp(u),u===c){V=null;break}if(f!==null){f.return=m,V=f;break}V=m}}}var x=l.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:va(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,V=p;break e}V=l.return}}var b=e.current;for(V=b;V!==null;){i=V;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,V=y;else e:for(i=b;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gi(9,o)}}catch(N){Oe(o,o.return,N)}if(o===i){V=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break e}V=o.return}}if(pe=a,cn(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ui,e)}catch{}n=!0}return n}finally{be=r,Mt.transition=t}}return!1}function hf(e,t,r){t=Ds(r,t),t=Ap(e,t,1),e=en(e,t,1),t=ot(),e!==null&&(el(e,1,t),gt(e,t))}function Oe(e,t,r){if(e.tag===3)hf(e,e,r);else for(;t!==null;){if(t.tag===3){hf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tn===null||!tn.has(n))){e=Ds(r,e),e=Fp(t,e,1),t=en(t,e,1),e=ot(),t!==null&&(el(t,1,e),gt(t,e));break}}t=t.return}}function v0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(qe&r)===r&&(Fe===4||Fe===3&&(qe&130023424)===qe&&500>Ie()-mu?Dn(e,0):fu|=r),gt(e,t)}function sg(e,t){t===0&&(e.mode&1?(t=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):t=1);var r=ot();e=Cr(e,t),e!==null&&(el(e,t,r),gt(e,r))}function j0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sg(e,r)}function w0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),sg(e,r)}var ag;ag=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mt=!1,d0(e,t,r);mt=!!(e.flags&131072)}else mt=!1,Se&&t.flags&1048576&&dp(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ni(e,t),e=t.pendingProps;var a=Ts(t,nt.current);xs(t,r),a=iu(null,t,n,e,a,r);var l=ou();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(n)?(l=!0,ki(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ru(t),a.updater=qi,t.stateNode=a,a._reactInternals=t,Bd(t,n,e,r),t=Wd(null,t,n,!0,l,r)):(t.tag=0,Se&&l&&Gc(t),it(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=N0(n),e=Bt(n,e),a){case 0:t=Qd(null,t,n,e,r);break e;case 1:t=tf(null,t,n,e,r);break e;case 11:t=Zh(null,t,n,e,r);break e;case 14:t=ef(null,t,n,Bt(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bt(n,a),Qd(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bt(n,a),tf(e,t,n,a,r);case 3:e:{if(Bp(t),e===null)throw Error(F(387));n=t.pendingProps,l=t.memoizedState,a=l.element,xp(e,t),Ri(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Ds(Error(F(423)),t),t=rf(e,t,n,r,a);break e}else if(n!==a){a=Ds(Error(F(424)),t),t=rf(e,t,n,r,a);break e}else for(wt=Zr(t.stateNode.containerInfo.firstChild),kt=t,Se=!0,Vt=null,r=fp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),n===a){t=Er(e,t,r);break e}it(e,t,n,r)}t=t.child}return t;case 5:return pp(t),e===null&&$d(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Id(n,a)?i=null:l!==null&&Id(n,l)&&(t.flags|=32),Up(e,t),it(e,t,i,r),t.child;case 6:return e===null&&$d(t),null;case 13:return Hp(e,t,r);case 4:return nu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Os(t,null,n,r):it(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bt(n,a),Zh(e,t,n,a,r);case 7:return it(e,t,t.pendingProps,r),t.child;case 8:return it(e,t,t.pendingProps.children,r),t.child;case 12:return it(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ve(Ci,n._currentValue),n._currentValue=i,l!==null)if(Gt(l.value,i)){if(l.children===a.children&&!xt.current){t=Er(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===n){if(l.tag===1){d=kr(-1,r&-r),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),zd(l.return,r,t),o.lanes|=r;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(F(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),zd(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}it(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xs(t,r),a=At(a),n=n(a),t.flags|=1,it(e,t,n,r),t.child;case 14:return n=t.type,a=Bt(n,t.pendingProps),a=Bt(n.type,a),ef(e,t,n,a,r);case 15:return $p(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bt(n,a),ni(e,t),t.tag=1,pt(n)?(e=!0,ki(t)):e=!1,xs(t,r),Mp(t,n,a),Bd(t,n,a,r),Wd(null,t,n,!0,e,r);case 19:return Qp(e,t,r);case 22:return zp(e,t,r)}throw Error(F(156,t.tag))};function lg(e,t){return Ox(e,t)}function k0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,n){return new k0(e,t,r,n)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N0(e){if(typeof e=="function")return bu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ac)return 11;if(e===Fc)return 14}return 2}function nn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function li(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")bu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Zn:return Mn(r.children,a,l,t);case Mc:i=8,a|=8;break;case hd:return e=Dt(12,r,t,a|2),e.elementType=hd,e.lanes=l,e;case fd:return e=Dt(13,r,t,a),e.elementType=fd,e.lanes=l,e;case md:return e=Dt(19,r,t,a),e.elementType=md,e.lanes=l,e;case px:return Yi(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mx:i=10;break e;case xx:i=9;break e;case Ac:i=11;break e;case Fc:i=14;break e;case Or:i=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Dt(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Mn(e,t,r,n){return e=Dt(7,e,n,t),e.lanes=r,e}function Yi(e,t,r,n){return e=Dt(22,e,n,t),e.elementType=px,e.lanes=r,e.stateNode={isHidden:!1},e}function Vo(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function Ko(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S0(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yu(e,t,r,n,a,l,i,o,d){return e=new S0(e,t,r,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Dt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(l),e}function C0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ig(e){if(!e)return ln;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(pt(r))return ip(e,r,t)}return t}function og(e,t,r,n,a,l,i,o,d){return e=yu(r,n,!0,e,a,l,i,o,d),e.context=ig(null),r=e.current,n=ot(),a=rn(r),l=kr(n,a),l.callback=t??null,en(r,l,a),e.current.lanes=a,el(e,a,n),gt(e,n),e}function Xi(e,t,r,n){var a=t.current,l=ot(),i=rn(a);return r=ig(r),t.context===null?t.context=r:t.pendingContext=r,t=kr(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=en(a,t,i),e!==null&&(qt(e,a,i,l),ei(e,a,i)),i}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vu(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function E0(){return null}var dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function ju(e){this._internalRoot=e}Zi.prototype.render=ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Xi(e,t,null,null)};Zi.prototype.unmount=ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){Xi(null,e,null,null)}),t[Sr]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dr.length&&t!==0&&t<Dr[r].priority;r++);Dr.splice(r,0,e),r===0&&Bx(e)}};function wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function R0(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var c=Mi(i);l.call(c)}}var i=og(t,n,e,0,null,!1,!1,"",mf);return e._reactRootContainer=i,e[Sr]=i.current,_a(e.nodeType===8?e.parentNode:e),Bn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Mi(d);o.call(c)}}var d=yu(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=d,e[Sr]=d.current,_a(e.nodeType===8?e.parentNode:e),Bn(function(){Xi(t,d,r,n)}),d}function to(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=Mi(i);o.call(d)}}Xi(t,i,e,a)}else i=R0(r,t,e,a,n);return Mi(i)}Fx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=da(t.pendingLanes);r!==0&&(Uc(t,r|1),gt(t,Ie()),!(pe&6)&&(Ms=Ie()+500,cn()))}break;case 13:Bn(function(){var n=Cr(e,1);if(n!==null){var a=ot();qt(n,e,1,a)}}),vu(e,1)}};Bc=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var r=ot();qt(t,e,134217728,r)}vu(e,134217728)}};$x=function(e){if(e.tag===13){var t=rn(e),r=Cr(e,t);if(r!==null){var n=ot();qt(r,e,t,n)}vu(e,t)}};zx=function(){return be};Ux=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};Nd=function(e,t,r){switch(t){case"input":if(gd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Wi(n);if(!a)throw Error(F(90));bx(n),gd(n,a)}}}break;case"textarea":vx(e,r);break;case"select":t=r.value,t!=null&&us(e,!!r.multiple,t,!1)}};Ex=xu;Rx=Bn;var P0={usingClientEntryPoint:!1,Events:[rl,ns,Wi,Sx,Cx,xu]},ra={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L0={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tx(e),e===null?null:e.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||E0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Ui=Ml.inject(L0),lr=Ml}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;St.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wu(t))throw Error(F(200));return C0(e,t,null,r)};St.createRoot=function(e,t){if(!wu(e))throw Error(F(299));var r=!1,n="",a=dg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=yu(e,1,!1,null,null,r,!1,n,a),e[Sr]=t.current,_a(e.nodeType===8?e.parentNode:e),new ju(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Tx(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Bn(e)};St.hydrate=function(e,t,r){if(!eo(t))throw Error(F(200));return to(null,e,t,!0,r)};St.hydrateRoot=function(e,t,r){if(!wu(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=dg;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=og(t,null,e,1,r??null,a,!1,l,i),e[Sr]=t.current,_a(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zi(t)};St.render=function(e,t,r){if(!eo(t))throw Error(F(200));return to(null,e,t,!1,r)};St.unmountComponentAtNode=function(e){if(!eo(e))throw Error(F(40));return e._reactRootContainer?(Bn(function(){to(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};St.unstable_batchedUpdates=xu;St.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eo(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return to(e,t,r,!1,n)};St.version="18.3.1-next-f1338f8080-20240426";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(e){console.error(e)}}cg(),cx.exports=St;var ug=cx.exports,xf=ug;cd.createRoot=xf.createRoot,cd.hydrateRoot=xf.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hg=e=>{throw TypeError(e)},T0=(e,t,r)=>t.has(e)||hg("Cannot "+r),qo=(e,t,r)=>(T0(e,t,"read from private field"),r?r.call(e):t.get(e)),_0=(e,t,r)=>t.has(e)?hg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pf="popstate";function O0(e={}){function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return Ua("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:dr(a)}return D0(t,r,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Re(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I0(){return Math.random().toString(36).substring(2,10)}function gf(e,t){return{usr:e.state,key:e.key,idx:t}}function Ua(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?un(t):t,state:r,key:t&&t.key||n||I0()}}function dr({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function un(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function D0(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o="POP",d=null,c=u();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function h(){o="POP";let v=u(),p=v==null?null:v-c;c=v,d&&d({action:o,location:g.location,delta:p})}function f(v,p){o="PUSH";let b=Ua(g.location,v,p);c=u()+1;let y=gf(b,c),j=g.createHref(b);try{i.pushState(y,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}l&&d&&d({action:o,location:g.location,delta:1})}function m(v,p){o="REPLACE";let b=Ua(g.location,v,p);c=u();let y=gf(b,c),j=g.createHref(b);i.replaceState(y,"",j),l&&d&&d({action:o,location:g.location,delta:0})}function x(v){return fg(v)}let g={get action(){return o},get location(){return e(a,i)},listen(v){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(pf,h),d=v,()=>{a.removeEventListener(pf,h),d=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let p=x(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(v){return i.go(v)}};return g}function fg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),oe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:dr(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var ua,bf=class{constructor(e){if(_0(this,ua,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(qo(this,ua).has(e))return qo(this,ua).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){qo(this,ua).set(e,t)}};ua=new WeakMap;var M0=new Set(["lazy","caseSensitive","path","id","index","children"]);function A0(e){return M0.has(e)}var F0=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function $0(e){return F0.has(e)}function z0(e){return e.index===!0}function Ba(e,t,r=[],n={},a=!1){return e.map((l,i)=>{let o=[...r,String(i)],d=typeof l.id=="string"?l.id:o.join("-");if(oe(l.index!==!0||!l.children,"Cannot specify children on an index route"),oe(a||!n[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),z0(l)){let c={...l,id:d};return n[d]=yf(c,t(c)),c}else{let c={...l,id:d,children:void 0};return n[d]=yf(c,t(c)),l.children&&(c.children=Ba(l.children,t,o,n,a)),c}})}function yf(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Ar(e,t,r="/"){return ha(e,t,r,!1)}function ha(e,t,r,n){let a=typeof t=="string"?un(t):t,l=$t(a.pathname||"/",r);if(l==null)return null;let i=xg(e);U0(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let c=X0(l);o=J0(i[d],c,n)}return o}function mg(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function xg(e,t=[],r=[],n="",a=!1){let l=(i,o,d=a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&d)return;oe(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=or([n,u.relativePath]),f=r.concat(u);i.children&&i.children.length>0&&(oe(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),xg(i.children,t,f,h,d)),!(i.path==null&&!i.index)&&t.push({path:h,score:q0(h,i.index),routesMeta:f})};return e.forEach((i,o)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))l(i,o);else for(let c of pg(i.path))l(i,o,!0,c)}),t}function pg(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=pg(n.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function U0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var B0=/^:[\w-]+$/,H0=3,Q0=2,W0=1,V0=10,K0=-2,vf=e=>e==="*";function q0(e,t){let r=e.split("/"),n=r.length;return r.some(vf)&&(n+=K0),t&&(n+=Q0),r.filter(a=>!vf(a)).reduce((a,l)=>a+(B0.test(l)?H0:l===""?W0:V0),n)}function G0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function J0(e,t,r=!1){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let d=n[o],c=o===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",h=Ai({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),f=d.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Ai({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:or([l,h.pathname]),pathnameBase:tj(or([l,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(l=or([l,h.pathnameBase]))}return i}function Ai(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Y0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:h},f)=>{if(u==="*"){let x=o[f]||"";i=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:i,pattern:e}}function Y0(e,t=!1,r=!0){Re(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(n.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function X0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Re(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $t(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Z0({basename:e,pathname:t}){return t==="/"?e:or([e,t])}var gg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ro=e=>gg.test(e);function ej(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?un(e):e,l;if(r)if(ro(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Re(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?l=jf(r.substring(1),"/"):l=jf(r,t)}else l=t;return{pathname:l,search:rj(n),hash:nj(a)}}function jf(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Go(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function no(e){let t=bg(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function so(e,t,r,n=!1){let a;typeof e=="string"?a=un(e):(a={...e},oe(!a.pathname||!a.pathname.includes("?"),Go("?","pathname","search",a)),oe(!a.pathname||!a.pathname.includes("#"),Go("#","pathname","hash",a)),oe(!a.search||!a.search.includes("#"),Go("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}o=h>=0?t[h]:"/"}let d=ej(a,o),c=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}var or=e=>e.join("/").replace(/\/\/+/g,"/"),tj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,sl=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Ha(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function al(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vg(e,t){let r=e;if(typeof r!="string"||!gg.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(yg)try{let l=new URL(window.location.href),i=r.startsWith("//")?new URL(l.protocol+r):new URL(r),o=$t(i.pathname,t);i.origin===l.origin&&o!=null?r=o+i.search+i.hash:a=!0}catch{Re(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}var Gr=Symbol("Uninstrumented");function sj(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(l){let i=Object.keys(r);for(let o of i)l[o]&&r[o].push(l[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=cs(r.lazy,t.lazy,()=>{});a&&(n.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(l=>{let i=a[l],o=r[`lazy.${l}`];if(typeof i=="function"&&o.length>0){let d=cs(o,i,()=>{});d&&(n.lazy=Object.assign(n.lazy||{},{[l]:d}))}})}return["loader","action"].forEach(a=>{let l=t[a];if(typeof l=="function"&&r[a].length>0){let i=l[Gr]??l,o=cs(r[a],i,(...d)=>wf(d[0]));o&&(a==="loader"&&i.hydrate===!0&&(o.hydrate=!0),o[Gr]=i,n[a]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(a=>{let l=a[Gr]??a,i=cs(r.middleware,l,(...o)=>wf(o[0]));return i?(i[Gr]=l,i):a})),n}function aj(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(a){let l=Object.keys(a);for(let i of l)a[i]&&r[i].push(a[i])}})),r.navigate.length>0){let n=e.navigate[Gr]??e.navigate,a=cs(r.navigate,n,(...l)=>{let[i,o]=l;return{to:typeof i=="number"||typeof i=="string"?i:i?dr(i):".",...kf(e,o??{})}});a&&(a[Gr]=n,e.navigate=a)}if(r.fetch.length>0){let n=e.fetch[Gr]??e.fetch,a=cs(r.fetch,n,(...l)=>{let[i,,o,d]=l;return{href:o??".",fetcherKey:i,...kf(e,d??{})}});a&&(a[Gr]=n,e.fetch=a)}return e}function cs(e,t,r){return e.length===0?null:async(...n)=>{let a=await jg(e,r(...n),()=>t(...n),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function jg(e,t,r,n){let a=e[n],l;if(a){let i,o=async()=>(i?console.error("You cannot call instrumented handlers more than once"):i=jg(e,t,r,n-1),l=await i,oe(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await a(o,t)}catch(d){console.error("An instrumentation function threw an error:",d)}i||await o(),await i}else try{l={type:"success",value:await r()}}catch(i){l={type:"error",value:i}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function wf(e){let{request:t,context:r,params:n,unstable_pattern:a}=e;return{request:lj(t),params:{...n},unstable_pattern:a,context:ij(r)}}function kf(e,t){return{currentUrl:dr(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function lj(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function ij(e){if(dj(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var oj=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dj(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===oj}var wg=["POST","PUT","PATCH","DELETE"],cj=new Set(wg),uj=["GET",...wg],hj=new Set(uj),kg=new Set([301,302,303,307,308]),fj=new Set([307,308]),Jo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},na={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xj=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ng="remix-router-transitions",Sg=Symbol("ResetLoaderData");function pj(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";oe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||xj,l=a;if(e.unstable_instrumentations){let S=e.unstable_instrumentations;l=L=>({...a(L),...sj(S.map(_=>_.route).filter(Boolean),L)})}let i={},o=Ba(e.routes,l,void 0,i),d,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let u=e.dataStrategy||jj,h={...e.future},f=null,m=new Set,x=null,g=null,v=null,p=e.hydrationData!=null,b=Ar(o,e.history.location,c),y=!1,j=null,N;if(b==null&&!e.patchRoutesOnNavigation){let S=Lt(404,{pathname:e.history.location.pathname}),{matches:L,route:_}=Al(o);N=!0,b=L,j={[_.id]:S}}else if(b&&!e.hydrationData&&ml(b,o,e.history.location.pathname).active&&(b=null),b)if(b.some(S=>S.route.lazy))N=!1;else if(!b.some(S=>ku(S.route)))N=!0;else{let S=e.hydrationData?e.hydrationData.loaderData:null,L=e.hydrationData?e.hydrationData.errors:null;if(L){let _=b.findIndex(A=>L[A.route.id]!==void 0);N=b.slice(0,_+1).every(A=>!sc(A.route,S,L))}else N=b.every(_=>!sc(_.route,S,L))}else{N=!1,b=[];let S=ml(null,o,e.history.location.pathname);S.active&&S.matches&&(y=!0,b=S.matches)}let R,k={historyAction:e.history.action,location:e.history.location,matches:b,initialized:N,navigation:Jo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||j,fetchers:new Map,blockers:new Map},P="POP",T=null,D=!1,z,M=!1,Q=new Map,Y=null,ce=!1,q=!1,U=new Set,I=new Map,B=0,W=-1,re=new Map,se=new Set,Le=new Map,ke=new Map,Ne=new Set,ze=new Map,cr,hn=null;function $b(){if(f=e.history.listen(({action:S,location:L,delta:_})=>{if(cr){cr(),cr=void 0;return}Re(ze.size===0||_!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let A=eh({currentLocation:k.location,nextLocation:L,historyAction:S});if(A&&_!=null){let $=new Promise(X=>{cr=X});e.history.go(_*-1),fl(A,{state:"blocked",location:L,proceed(){fl(A,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),$.then(()=>e.history.go(_))},reset(){let X=new Map(k.blockers);X.set(A,na),Je({blockers:X})}}),T==null||T.resolve(),T=null;return}return fn(S,L)}),r){$j(t,Q);let S=()=>zj(t,Q);t.addEventListener("pagehide",S),Y=()=>t.removeEventListener("pagehide",S)}return k.initialized||fn("POP",k.location,{initialHydration:!0}),R}function zb(){f&&f(),Y&&Y(),m.clear(),z&&z.abort(),k.fetchers.forEach((S,L)=>bo(L)),k.blockers.forEach((S,L)=>Zu(L))}function Ub(S){return m.add(S),()=>m.delete(S)}function Je(S,L={}){S.matches&&(S.matches=S.matches.map($=>{let X=i[$.route.id],te=$.route;return te.element!==X.element||te.errorElement!==X.errorElement||te.hydrateFallbackElement!==X.hydrateFallbackElement?{...$,route:X}:$})),k={...k,...S};let _=[],A=[];k.fetchers.forEach(($,X)=>{$.state==="idle"&&(Ne.has(X)?_.push(X):A.push(X))}),Ne.forEach($=>{!k.fetchers.has($)&&!I.has($)&&_.push($)}),[...m].forEach($=>$(k,{deletedFetchers:_,newErrors:S.errors??null,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),_.forEach($=>bo($)),A.forEach($=>k.fetchers.delete($))}function qn(S,L,{flushSync:_}={}){var ae,Z;let A=k.actionData!=null&&k.navigation.formMethod!=null&&et(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ae=S.state)==null?void 0:ae._isRedirect)!==!0,$;L.actionData?Object.keys(L.actionData).length>0?$=L.actionData:$=null:A?$=k.actionData:$=null;let X=L.loaderData?Of(k.loaderData,L.loaderData,L.matches||[],L.errors):k.loaderData,te=k.blockers;te.size>0&&(te=new Map(te),te.forEach((ie,fe)=>te.set(fe,na)));let K=ce?!1:rh(S,L.matches||k.matches),J=D===!0||k.navigation.formMethod!=null&&et(k.navigation.formMethod)&&((Z=S.state)==null?void 0:Z._isRedirect)!==!0;d&&(o=d,d=void 0),ce||P==="POP"||(P==="PUSH"?e.history.push(S,S.state):P==="REPLACE"&&e.history.replace(S,S.state));let ee;if(P==="POP"){let ie=Q.get(k.location.pathname);ie&&ie.has(S.pathname)?ee={currentLocation:k.location,nextLocation:S}:Q.has(S.pathname)&&(ee={currentLocation:S,nextLocation:k.location})}else if(M){let ie=Q.get(k.location.pathname);ie?ie.add(S.pathname):(ie=new Set([S.pathname]),Q.set(k.location.pathname,ie)),ee={currentLocation:k.location,nextLocation:S}}Je({...L,actionData:$,loaderData:X,historyAction:P,location:S,initialized:!0,navigation:Jo,revalidation:"idle",restoreScrollPosition:K,preventScrollReset:J,blockers:te},{viewTransitionOpts:ee,flushSync:_===!0}),P="POP",D=!1,M=!1,ce=!1,q=!1,T==null||T.resolve(),T=null,hn==null||hn.resolve(),hn=null}async function Vu(S,L){if(T==null||T.resolve(),T=null,typeof S=="number"){T||(T=Af());let fe=T.promise;return e.history.go(S),fe}let _=nc(k.location,k.matches,c,S,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:A,submission:$,error:X}=Nf(!1,_,L),te=k.location,K=Ua(k.location,A,L&&L.state);K={...K,...e.history.encodeLocation(K)};let J=L&&L.replace!=null?L.replace:void 0,ee="PUSH";J===!0?ee="REPLACE":J===!1||$!=null&&et($.formMethod)&&$.formAction===k.location.pathname+k.location.search&&(ee="REPLACE");let ae=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,Z=(L&&L.flushSync)===!0,ie=eh({currentLocation:te,nextLocation:K,historyAction:ee});if(ie){fl(ie,{state:"blocked",location:K,proceed(){fl(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Vu(S,L)},reset(){let fe=new Map(k.blockers);fe.set(ie,na),Je({blockers:fe})}});return}await fn(ee,K,{submission:$,pendingError:X,preventScrollReset:ae,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:Z,callSiteDefaultShouldRevalidate:L&&L.unstable_defaultShouldRevalidate})}function Bb(){hn||(hn=Af()),go(),Je({revalidation:"loading"});let S=hn.promise;return k.navigation.state==="submitting"?S:k.navigation.state==="idle"?(fn(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),S):(fn(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:M===!0}),S)}async function fn(S,L,_){z&&z.abort(),z=null,P=S,ce=(_&&_.startUninterruptedRevalidation)===!0,Zb(k.location,k.matches),D=(_&&_.preventScrollReset)===!0,M=(_&&_.enableViewTransition)===!0;let A=d||o,$=_&&_.overrideNavigation,X=_!=null&&_.initialHydration&&k.matches&&k.matches.length>0&&!y?k.matches:Ar(A,L,c),te=(_&&_.flushSync)===!0;if(X&&k.initialized&&!q&&Pj(k.location,L)&&!(_&&_.submission&&et(_.submission.formMethod))){qn(L,{matches:X},{flushSync:te});return}let K=ml(X,A,L.pathname);if(K.active&&K.matches&&(X=K.matches),!X){let{error:Ue,notFoundMatches:st,route:ye}=yo(L.pathname);qn(L,{matches:st,loaderData:{},errors:{[ye.id]:Ue}},{flushSync:te});return}z=new AbortController;let J=Yn(e.history,L,z.signal,_&&_.submission),ee=e.getContext?await e.getContext():new bf,ae;if(_&&_.pendingError)ae=[Fr(X).route.id,{type:"error",error:_.pendingError}];else if(_&&_.submission&&et(_.submission.formMethod)){let Ue=await Hb(J,L,_.submission,X,ee,K.active,_&&_.initialHydration===!0,{replace:_.replace,flushSync:te});if(Ue.shortCircuited)return;if(Ue.pendingActionResult){let[st,ye]=Ue.pendingActionResult;if(jt(ye)&&Ha(ye.error)&&ye.error.status===404){z=null,qn(L,{matches:Ue.matches,loaderData:{},errors:{[st]:ye.error}});return}}X=Ue.matches||X,ae=Ue.pendingActionResult,$=Yo(L,_.submission),te=!1,K.active=!1,J=Yn(e.history,J.url,J.signal)}let{shortCircuited:Z,matches:ie,loaderData:fe,errors:We}=await Qb(J,L,X,ee,K.active,$,_&&_.submission,_&&_.fetcherSubmission,_&&_.replace,_&&_.initialHydration===!0,te,ae,_&&_.callSiteDefaultShouldRevalidate);Z||(z=null,qn(L,{matches:ie||X,...If(ae),loaderData:fe,errors:We}))}async function Hb(S,L,_,A,$,X,te,K={}){go();let J=Aj(L,_);if(Je({navigation:J},{flushSync:K.flushSync===!0}),X){let Z=await xl(A,L.pathname,S.signal);if(Z.type==="aborted")return{shortCircuited:!0};if(Z.type==="error"){if(Z.partialMatches.length===0){let{matches:fe,route:We}=Al(o);return{matches:fe,pendingActionResult:[We.id,{type:"error",error:Z.error}]}}let ie=Fr(Z.partialMatches).route.id;return{matches:Z.partialMatches,pendingActionResult:[ie,{type:"error",error:Z.error}]}}else if(Z.matches)A=Z.matches;else{let{notFoundMatches:ie,error:fe,route:We}=yo(L.pathname);return{matches:ie,pendingActionResult:[We.id,{type:"error",error:fe}]}}}let ee,ae=ii(A,L);if(!ae.route.action&&!ae.route.lazy)ee={type:"error",error:Lt(405,{method:S.method,pathname:L.pathname,routeId:ae.route.id})};else{let Z=gs(l,i,S,A,ae,te?[]:n,$),ie=await Vs(S,Z,$,null);if(ee=ie[ae.route.id],!ee){for(let fe of A)if(ie[fe.route.id]){ee=ie[fe.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(kn(ee)){let Z;return K&&K.replace!=null?Z=K.replace:Z=Lf(ee.response.headers.get("Location"),new URL(S.url),c,e.history)===k.location.pathname+k.location.search,await mn(S,ee,!0,{submission:_,replace:Z}),{shortCircuited:!0}}if(jt(ee)){let Z=Fr(A,ae.route.id);return(K&&K.replace)!==!0&&(P="PUSH"),{matches:A,pendingActionResult:[Z.route.id,ee,ae.route.id]}}return{matches:A,pendingActionResult:[ae.route.id,ee]}}async function Qb(S,L,_,A,$,X,te,K,J,ee,ae,Z,ie){let fe=X||Yo(L,te),We=te||K||Mf(fe),Ue=!ce&&!ee;if($){if(Ue){let Ye=Ku(Z);Je({navigation:fe,...Ye!==void 0?{actionData:Ye}:{}},{flushSync:ae})}let xe=await xl(_,L.pathname,S.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){if(xe.partialMatches.length===0){let{matches:Gn,route:gn}=Al(o);return{matches:Gn,loaderData:{},errors:{[gn.id]:xe.error}}}let Ye=Fr(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[Ye]:xe.error}}}else if(xe.matches)_=xe.matches;else{let{error:Ye,notFoundMatches:Gn,route:gn}=yo(L.pathname);return{matches:Gn,loaderData:{},errors:{[gn.id]:Ye}}}}let st=d||o,{dsMatches:ye,revalidatingFetchers:Rt}=Sf(S,A,l,i,e.history,k,_,We,L,ee?[]:n,ee===!0,q,U,Ne,Le,se,st,c,e.patchRoutesOnNavigation!=null,Z,ie);if(W=++B,!e.dataStrategy&&!ye.some(xe=>xe.shouldLoad)&&!ye.some(xe=>xe.route.middleware&&xe.route.middleware.length>0)&&Rt.length===0){let xe=Yu();return qn(L,{matches:_,loaderData:{},errors:Z&&jt(Z[1])?{[Z[0]]:Z[1].error}:null,...If(Z),...xe?{fetchers:new Map(k.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(Ue){let xe={};if(!$){xe.navigation=fe;let Ye=Ku(Z);Ye!==void 0&&(xe.actionData=Ye)}Rt.length>0&&(xe.fetchers=Wb(Rt)),Je(xe,{flushSync:ae})}Rt.forEach(xe=>{fr(xe.key),xe.controller&&I.set(xe.key,xe.controller)});let xn=()=>Rt.forEach(xe=>fr(xe.key));z&&z.signal.addEventListener("abort",xn);let{loaderResults:Ks,fetcherResults:Lr}=await qu(ye,Rt,S,A);if(S.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",xn),Rt.forEach(xe=>I.delete(xe.key));let Yt=Fl(Ks);if(Yt)return await mn(S,Yt.result,!0,{replace:J}),{shortCircuited:!0};if(Yt=Fl(Lr),Yt)return se.add(Yt.key),await mn(S,Yt.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:vo,errors:qs}=_f(k,_,Ks,Z,Rt,Lr);ee&&k.errors&&(qs={...k.errors,...qs});let pn=Yu(),pl=Xu(W),gl=pn||pl||Rt.length>0;return{matches:_,loaderData:vo,errors:qs,...gl?{fetchers:new Map(k.fetchers)}:{}}}function Ku(S){if(S&&!jt(S[1]))return{[S[0]]:S[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Wb(S){return S.forEach(L=>{let _=k.fetchers.get(L.key),A=sa(void 0,_?_.data:void 0);k.fetchers.set(L.key,A)}),new Map(k.fetchers)}async function Vb(S,L,_,A){fr(S);let $=(A&&A.flushSync)===!0,X=d||o,te=nc(k.location,k.matches,c,_,L,A==null?void 0:A.relative),K=Ar(X,te,c),J=ml(K,X,te);if(J.active&&J.matches&&(K=J.matches),!K){hr(S,L,Lt(404,{pathname:te}),{flushSync:$});return}let{path:ee,submission:ae,error:Z}=Nf(!0,te,A);if(Z){hr(S,L,Z,{flushSync:$});return}let ie=e.getContext?await e.getContext():new bf,fe=(A&&A.preventScrollReset)===!0;if(ae&&et(ae.formMethod)){await Kb(S,L,ee,K,ie,J.active,$,fe,ae,A&&A.unstable_defaultShouldRevalidate);return}Le.set(S,{routeId:L,path:ee}),await qb(S,L,ee,K,ie,J.active,$,fe,ae)}async function Kb(S,L,_,A,$,X,te,K,J,ee){go(),Le.delete(S);let ae=k.fetchers.get(S);ur(S,Fj(J,ae),{flushSync:te});let Z=new AbortController,ie=Yn(e.history,_,Z.signal,J);if(X){let Te=await xl(A,new URL(ie.url).pathname,ie.signal,S);if(Te.type==="aborted")return;if(Te.type==="error"){hr(S,L,Te.error,{flushSync:te});return}else if(Te.matches)A=Te.matches;else{hr(S,L,Lt(404,{pathname:_}),{flushSync:te});return}}let fe=ii(A,_);if(!fe.route.action&&!fe.route.lazy){let Te=Lt(405,{method:J.formMethod,pathname:_,routeId:L});hr(S,L,Te,{flushSync:te});return}I.set(S,Z);let We=B,Ue=gs(l,i,ie,A,fe,n,$),st=await Vs(ie,Ue,$,S),ye=st[fe.route.id];if(!ye){for(let Te of Ue)if(st[Te.route.id]){ye=st[Te.route.id];break}}if(ie.signal.aborted){I.get(S)===Z&&I.delete(S);return}if(Ne.has(S)){if(kn(ye)||jt(ye)){ur(S,mr(void 0));return}}else{if(kn(ye))if(I.delete(S),W>We){ur(S,mr(void 0));return}else return se.add(S),ur(S,sa(J)),mn(ie,ye,!1,{fetcherSubmission:J,preventScrollReset:K});if(jt(ye)){hr(S,L,ye.error);return}}let Rt=k.navigation.location||k.location,xn=Yn(e.history,Rt,Z.signal),Ks=d||o,Lr=k.navigation.state!=="idle"?Ar(Ks,k.navigation.location,c):k.matches;oe(Lr,"Didn't find any matches after fetcher action");let Yt=++B;re.set(S,Yt);let vo=sa(J,ye.data);k.fetchers.set(S,vo);let{dsMatches:qs,revalidatingFetchers:pn}=Sf(xn,$,l,i,e.history,k,Lr,J,Rt,n,!1,q,U,Ne,Le,se,Ks,c,e.patchRoutesOnNavigation!=null,[fe.route.id,ye],ee);pn.filter(Te=>Te.key!==S).forEach(Te=>{let bl=Te.key,sh=k.fetchers.get(bl),ry=sa(void 0,sh?sh.data:void 0);k.fetchers.set(bl,ry),fr(bl),Te.controller&&I.set(bl,Te.controller)}),Je({fetchers:new Map(k.fetchers)});let pl=()=>pn.forEach(Te=>fr(Te.key));Z.signal.addEventListener("abort",pl);let{loaderResults:gl,fetcherResults:xe}=await qu(qs,pn,xn,$);if(Z.signal.aborted)return;if(Z.signal.removeEventListener("abort",pl),re.delete(S),I.delete(S),pn.forEach(Te=>I.delete(Te.key)),k.fetchers.has(S)){let Te=mr(ye.data);k.fetchers.set(S,Te)}let Ye=Fl(gl);if(Ye)return mn(xn,Ye.result,!1,{preventScrollReset:K});if(Ye=Fl(xe),Ye)return se.add(Ye.key),mn(xn,Ye.result,!1,{preventScrollReset:K});let{loaderData:Gn,errors:gn}=_f(k,Lr,gl,void 0,pn,xe);Xu(Yt),k.navigation.state==="loading"&&Yt>W?(oe(P,"Expected pending action"),z&&z.abort(),qn(k.navigation.location,{matches:Lr,loaderData:Gn,errors:gn,fetchers:new Map(k.fetchers)})):(Je({errors:gn,loaderData:Of(k.loaderData,Gn,Lr,gn),fetchers:new Map(k.fetchers)}),q=!1)}async function qb(S,L,_,A,$,X,te,K,J){let ee=k.fetchers.get(S);ur(S,sa(J,ee?ee.data:void 0),{flushSync:te});let ae=new AbortController,Z=Yn(e.history,_,ae.signal);if(X){let ye=await xl(A,new URL(Z.url).pathname,Z.signal,S);if(ye.type==="aborted")return;if(ye.type==="error"){hr(S,L,ye.error,{flushSync:te});return}else if(ye.matches)A=ye.matches;else{hr(S,L,Lt(404,{pathname:_}),{flushSync:te});return}}let ie=ii(A,_);I.set(S,ae);let fe=B,We=gs(l,i,Z,A,ie,n,$),st=(await Vs(Z,We,$,S))[ie.route.id];if(I.get(S)===ae&&I.delete(S),!Z.signal.aborted){if(Ne.has(S)){ur(S,mr(void 0));return}if(kn(st))if(W>fe){ur(S,mr(void 0));return}else{se.add(S),await mn(Z,st,!1,{preventScrollReset:K});return}if(jt(st)){hr(S,L,st.error);return}ur(S,mr(st.data))}}async function mn(S,L,_,{submission:A,fetcherSubmission:$,preventScrollReset:X,replace:te}={}){_||(T==null||T.resolve(),T=null),L.response.headers.has("X-Remix-Revalidate")&&(q=!0);let K=L.response.headers.get("Location");oe(K,"Expected a Location header on the redirect Response"),K=Lf(K,new URL(S.url),c,e.history);let J=Ua(k.location,K,{_isRedirect:!0});if(r){let We=!1;if(L.response.headers.has("X-Remix-Reload-Document"))We=!0;else if(ro(K)){const Ue=fg(K,!0);We=Ue.origin!==t.location.origin||$t(Ue.pathname,c)==null}if(We){te?t.location.replace(K):t.location.assign(K);return}}z=null;let ee=te===!0||L.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ae,formAction:Z,formEncType:ie}=k.navigation;!A&&!$&&ae&&Z&&ie&&(A=Mf(k.navigation));let fe=A||$;if(fj.has(L.response.status)&&fe&&et(fe.formMethod))await fn(ee,J,{submission:{...fe,formAction:K},preventScrollReset:X||D,enableViewTransition:_?M:void 0});else{let We=Yo(J,A);await fn(ee,J,{overrideNavigation:We,fetcherSubmission:$,preventScrollReset:X||D,enableViewTransition:_?M:void 0})}}async function Vs(S,L,_,A){var te;let $,X={};try{$=await kj(u,S,L,A,_,!1)}catch(K){return L.filter(J=>J.shouldLoad).forEach(J=>{X[J.route.id]={type:"error",error:K}}),X}if(S.signal.aborted)return X;if(!et(S.method))for(let K of L){if(((te=$[K.route.id])==null?void 0:te.type)==="error")break;!$.hasOwnProperty(K.route.id)&&!k.loaderData.hasOwnProperty(K.route.id)&&(!k.errors||!k.errors.hasOwnProperty(K.route.id))&&K.shouldCallHandler()&&($[K.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${K.route.id}`)})}for(let[K,J]of Object.entries($))if(Oj(J)){let ee=J.result;X[K]={type:"redirect",response:Ej(ee,S,K,L,c)}}else X[K]=await Cj(J);return X}async function qu(S,L,_,A){let $=Vs(_,S,A,null),X=Promise.all(L.map(async J=>{if(J.matches&&J.match&&J.request&&J.controller){let ae=(await Vs(J.request,J.matches,A,J.key))[J.match.route.id];return{[J.key]:ae}}else return Promise.resolve({[J.key]:{type:"error",error:Lt(404,{pathname:J.path})}})})),te=await $,K=(await X).reduce((J,ee)=>Object.assign(J,ee),{});return{loaderResults:te,fetcherResults:K}}function go(){q=!0,Le.forEach((S,L)=>{I.has(L)&&U.add(L),fr(L)})}function ur(S,L,_={}){k.fetchers.set(S,L),Je({fetchers:new Map(k.fetchers)},{flushSync:(_&&_.flushSync)===!0})}function hr(S,L,_,A={}){let $=Fr(k.matches,L);bo(S),Je({errors:{[$.route.id]:_},fetchers:new Map(k.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function Gu(S){return ke.set(S,(ke.get(S)||0)+1),Ne.has(S)&&Ne.delete(S),k.fetchers.get(S)||mj}function Gb(S,L){fr(S,L==null?void 0:L.reason),ur(S,mr(null))}function bo(S){let L=k.fetchers.get(S);I.has(S)&&!(L&&L.state==="loading"&&re.has(S))&&fr(S),Le.delete(S),re.delete(S),se.delete(S),Ne.delete(S),U.delete(S),k.fetchers.delete(S)}function Jb(S){let L=(ke.get(S)||0)-1;L<=0?(ke.delete(S),Ne.add(S)):ke.set(S,L),Je({fetchers:new Map(k.fetchers)})}function fr(S,L){let _=I.get(S);_&&(_.abort(L),I.delete(S))}function Ju(S){for(let L of S){let _=Gu(L),A=mr(_.data);k.fetchers.set(L,A)}}function Yu(){let S=[],L=!1;for(let _ of se){let A=k.fetchers.get(_);oe(A,`Expected fetcher: ${_}`),A.state==="loading"&&(se.delete(_),S.push(_),L=!0)}return Ju(S),L}function Xu(S){let L=[];for(let[_,A]of re)if(A<S){let $=k.fetchers.get(_);oe($,`Expected fetcher: ${_}`),$.state==="loading"&&(fr(_),re.delete(_),L.push(_))}return Ju(L),L.length>0}function Yb(S,L){let _=k.blockers.get(S)||na;return ze.get(S)!==L&&ze.set(S,L),_}function Zu(S){k.blockers.delete(S),ze.delete(S)}function fl(S,L){let _=k.blockers.get(S)||na;oe(_.state==="unblocked"&&L.state==="blocked"||_.state==="blocked"&&L.state==="blocked"||_.state==="blocked"&&L.state==="proceeding"||_.state==="blocked"&&L.state==="unblocked"||_.state==="proceeding"&&L.state==="unblocked",`Invalid blocker state transition: ${_.state} -> ${L.state}`);let A=new Map(k.blockers);A.set(S,L),Je({blockers:A})}function eh({currentLocation:S,nextLocation:L,historyAction:_}){if(ze.size===0)return;ze.size>1&&Re(!1,"A router only supports one blocker at a time");let A=Array.from(ze.entries()),[$,X]=A[A.length-1],te=k.blockers.get($);if(!(te&&te.state==="proceeding")&&X({currentLocation:S,nextLocation:L,historyAction:_}))return $}function yo(S){let L=Lt(404,{pathname:S}),_=d||o,{matches:A,route:$}=Al(_);return{notFoundMatches:A,route:$,error:L}}function Xb(S,L,_){if(x=S,v=L,g=_||null,!p&&k.navigation===Jo){p=!0;let A=rh(k.location,k.matches);A!=null&&Je({restoreScrollPosition:A})}return()=>{x=null,v=null,g=null}}function th(S,L){return g&&g(S,L.map(A=>mg(A,k.loaderData)))||S.key}function Zb(S,L){if(x&&v){let _=th(S,L);x[_]=v()}}function rh(S,L){if(x){let _=th(S,L),A=x[_];if(typeof A=="number")return A}return null}function ml(S,L,_){if(e.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:ha(L,_,c,!0)}}else return{active:!0,matches:ha(L,_,c,!0)||[]};return{active:!1,matches:null}}async function xl(S,L,_,A){if(!e.patchRoutesOnNavigation)return{type:"success",matches:S};let $=S;for(;;){let X=d==null,te=d||o,K=i;try{await e.patchRoutesOnNavigation({signal:_,path:L,matches:$,fetcherKey:A,patch:(ae,Z)=>{_.aborted||Cf(ae,Z,te,K,l,!1)}})}catch(ae){return{type:"error",error:ae,partialMatches:$}}finally{X&&!_.aborted&&(o=[...o])}if(_.aborted)return{type:"aborted"};let J=Ar(te,L,c),ee=null;if(J){if(Object.keys(J[0].params).length===0)return{type:"success",matches:J};if(ee=ha(te,L,c,!0),!(ee&&$.length<ee.length&&nh($,ee.slice(0,$.length))))return{type:"success",matches:J}}if(ee||(ee=ha(te,L,c,!0)),!ee||nh($,ee))return{type:"success",matches:null};$=ee}}function nh(S,L){return S.length===L.length&&S.every((_,A)=>_.route.id===L[A].route.id)}function ey(S){i={},d=Ba(S,l,void 0,i)}function ty(S,L,_=!1){let A=d==null;Cf(S,L,d||o,i,l,_),A&&(o=[...o],Je({}))}return R={get basename(){return c},get future(){return h},get state(){return k},get routes(){return o},get window(){return t},initialize:$b,subscribe:Ub,enableScrollRestoration:Xb,navigate:Vu,fetch:Vb,revalidate:Bb,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:Gu,resetFetcher:Gb,deleteFetcher:Jb,dispose:zb,getBlocker:Yb,deleteBlocker:Zu,patchRoutes:ty,_internalFetchControllers:I,_internalSetRoutes:ey,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){Je(S)}},e.unstable_instrumentations&&(R=aj(R,e.unstable_instrumentations.map(S=>S.router).filter(Boolean))),R}function gj(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function nc(e,t,r,n,a,l){let i,o;if(a){i=[];for(let c of t)if(i.push(c),c.route.id===a){o=c;break}}else i=t,o=t[t.length-1];let d=so(n||".",no(i),$t(e.pathname,r)||e.pathname,l==="path");if(n==null&&(d.search=e.search,d.hash=e.hash),(n==null||n===""||n===".")&&o){let c=Su(d.search);if(o.route.index&&!c)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let u=new URLSearchParams(d.search),h=u.getAll("index");u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let f=u.toString();d.search=f?`?${f}`:""}}return r!=="/"&&(d.pathname=Z0({basename:r,pathname:d.pathname})),dr(d)}function Nf(e,t,r){if(!r||!gj(r))return{path:t};if(r.formMethod&&!Mj(r.formMethod))return{path:t,error:Lt(405,{method:r.formMethod})};let n=()=>({path:t,error:Lt(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),i=Tg(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!et(l))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[m,x])=>`${f}${m}=${x}
`,""):String(r.body);return{path:t,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!et(l))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}oe(typeof FormData=="function","FormData is not available in this environment");let o,d;if(r.formData)o=lc(r.formData),d=r.formData;else if(r.body instanceof FormData)o=lc(r.body),d=r.body;else if(r.body instanceof URLSearchParams)o=r.body,d=Tf(o);else if(r.body==null)o=new URLSearchParams,d=new FormData;else try{o=new URLSearchParams(r.body),d=Tf(o)}catch{return n()}let c={formMethod:l,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(et(c.formMethod))return{path:t,submission:c};let u=un(t);return e&&u.search&&Su(u.search)&&o.append("index",""),u.search=`?${o}`,{path:dr(u),submission:c}}function Sf(e,t,r,n,a,l,i,o,d,c,u,h,f,m,x,g,v,p,b,y,j){var ce;let N=y?jt(y[1])?y[1].error:y[1].data:void 0,R=a.createURL(l.location),k=a.createURL(d),P;if(u&&l.errors){let q=Object.keys(l.errors)[0];P=i.findIndex(U=>U.route.id===q)}else if(y&&jt(y[1])){let q=y[0];P=i.findIndex(U=>U.route.id===q)-1}let T=y?y[1].statusCode:void 0,D=T&&T>=400,z={currentUrl:R,currentParams:((ce=l.matches[0])==null?void 0:ce.params)||{},nextUrl:k,nextParams:i[0].params,...o,actionResult:N,actionStatus:T},M=al(i),Q=i.map((q,U)=>{let{route:I}=q,B=null;if(P!=null&&U>P?B=!1:I.lazy?B=!0:ku(I)?u?B=sc(I,l.loaderData,l.errors):bj(l.loaderData,l.matches[U],q)&&(B=!0):B=!1,B!==null)return ac(r,n,e,M,q,c,t,B);let W=!1;typeof j=="boolean"?W=j:D?W=!1:(h||R.pathname+R.search===k.pathname+k.search||R.search!==k.search||yj(l.matches[U],q))&&(W=!0);let re={...z,defaultShouldRevalidate:W},se=ka(q,re);return ac(r,n,e,M,q,c,t,se,re,j)}),Y=[];return x.forEach((q,U)=>{if(u||!i.some(Ne=>Ne.route.id===q.routeId)||m.has(U))return;let I=l.fetchers.get(U),B=I&&I.state!=="idle"&&I.data===void 0,W=Ar(v,q.path,p);if(!W){if(b&&B)return;Y.push({key:U,routeId:q.routeId,path:q.path,matches:null,match:null,request:null,controller:null});return}if(g.has(U))return;let re=ii(W,q.path),se=new AbortController,Le=Yn(a,q.path,se.signal),ke=null;if(f.has(U))f.delete(U),ke=gs(r,n,Le,W,re,c,t);else if(B)h&&(ke=gs(r,n,Le,W,re,c,t));else{let Ne;typeof j=="boolean"?Ne=j:D?Ne=!1:Ne=h;let ze={...z,defaultShouldRevalidate:Ne};ka(re,ze)&&(ke=gs(r,n,Le,W,re,c,t,ze))}ke&&Y.push({key:U,routeId:q.routeId,path:q.path,matches:ke,match:re,request:Le,controller:se})}),{dsMatches:Q,revalidatingFetchers:Y}}function ku(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function sc(e,t,r){if(e.lazy)return!0;if(!ku(e))return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function bj(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function yj(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function ka(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Cf(e,t,r,n,a,l){let i;if(e){let c=n[e];oe(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),i=c.children}else i=r;let o=[],d=[];if(t.forEach(c=>{let u=i.find(h=>Cg(c,h));u?d.push({existingRoute:u,newRoute:c}):o.push(c)}),o.length>0){let c=Ba(o,a,[e||"_","patch",String((i==null?void 0:i.length)||"0")],n);i.push(...c)}if(l&&d.length>0)for(let c=0;c<d.length;c++){let{existingRoute:u,newRoute:h}=d[c],f=u,[m]=Ba([h],a,[],{},!0);Object.assign(f,{element:m.element?m.element:f.element,errorElement:m.errorElement?m.errorElement:f.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:f.hydrateFallbackElement})}}function Cg(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(l=>Cg(r,l))}):!1}var Ef=new WeakMap,Eg=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(oe(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[e];if(!l)return;let i=Ef.get(a);i||(i={},Ef.set(a,i));let o=i[e];if(o)return o;let d=(async()=>{let c=A0(e),h=a[e]!==void 0&&e!=="hasErrorBoundary";if(c)Re(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),i[e]=Promise.resolve();else if(h)Re(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await l();f!=null&&(Object.assign(a,{[e]:f}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(f=>f===void 0)&&(a.lazy=void 0))})();return i[e]=d,d},Rf=new WeakMap;function vj(e,t,r,n,a){let l=r[e.id];if(oe(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=Rf.get(l);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let h=(async()=>{oe(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),m={};for(let x in f){let g=f[x];if(g===void 0)continue;let v=$0(x),b=l[x]!==void 0&&x!=="hasErrorBoundary";v?Re(!v,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):b?Re(!b,`Route "${l.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):m[x]=g}Object.assign(l,m),Object.assign(l,{...n(l),lazy:void 0})})();return Rf.set(l,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let i=Object.keys(e.lazy),o=[],d;for(let u of i){if(a&&a.includes(u))continue;let h=Eg({key:u,route:e,manifest:r,mapRouteProperties:n});h&&(o.push(h),u===t&&(d=h))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:d}}async function Pf(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,l)=>{r[t[l].route.id]=a}),r}async function jj(e){return e.matches.some(t=>t.route.middleware)?Rg(e,()=>Pf(e)):Pf(e)}function Rg(e,t){return wj(e,t,n=>{if(Dj(n))throw n;return n},Tj,r);function r(n,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:n}}));{let{matches:i}=e,o=Math.min(Math.max(i.findIndex(c=>c.route.id===a),0),Math.max(i.findIndex(c=>c.shouldCallHandler()),0)),d=Fr(i,i[o].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:n}})}}}async function wj(e,t,r,n,a){let{matches:l,request:i,params:o,context:d,unstable_pattern:c}=e,u=l.flatMap(f=>f.route.middleware?f.route.middleware.map(m=>[f.route.id,m]):[]);return await Pg({request:i,params:o,context:d,unstable_pattern:c},u,t,r,n,a)}async function Pg(e,t,r,n,a,l,i=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let d=t[i];if(!d)return await r();let[c,u]=d,h,f=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await Pg(e,t,r,n,a,l,i+1)},h.value}catch(m){return h={value:await l(m,c,h)},h.value}};try{let m=await u(e,f),x=m!=null?n(m):void 0;return a(x)?x:h?x??h.value:(h={value:await f()},h.value)}catch(m){return await l(m,c,h)}}function Lg(e,t,r,n,a){let l=Eg({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),i=vj(n.route,et(r.method)?"action":"loader",t,e,a);return{middleware:l,route:i.lazyRoutePromise,handler:i.lazyHandlerPromise}}function ac(e,t,r,n,a,l,i,o,d=null,c){let u=!1,h=Lg(e,t,r,a,l);return{...a,_lazyPromises:h,shouldLoad:o,shouldRevalidateArgs:d,shouldCallHandler(f){return u=!0,d?typeof c=="boolean"?ka(a,{...d,defaultShouldRevalidate:c}):typeof f=="boolean"?ka(a,{...d,defaultShouldRevalidate:f}):ka(a,d):o},resolve(f){let{lazy:m,loader:x,middleware:g}=a.route,v=u||o||f&&!et(r.method)&&(m||x),p=g&&g.length>0&&!x&&!m;return v&&(et(r.method)||!p)?Nj({request:r,unstable_pattern:n,match:a,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:f,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function gs(e,t,r,n,a,l,i,o=null){return n.map(d=>d.route.id!==a.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:Lg(e,t,r,d,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ac(e,t,r,al(n),d,l,i,!0,o))}async function kj(e,t,r,n,a,l){r.some(c=>{var u;return(u=c._lazyPromises)==null?void 0:u.middleware})&&await Promise.all(r.map(c=>{var u;return(u=c._lazyPromises)==null?void 0:u.middleware}));let i={request:t,unstable_pattern:al(r),params:r[0].params,context:a,matches:r},d=await e({...i,fetcherKey:n,runClientMiddleware:c=>{let u=i;return Rg(u,()=>c({...u,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(c=>{var u,h;return[(u=c._lazyPromises)==null?void 0:u.handler,(h=c._lazyPromises)==null?void 0:h.route]}))}catch{}return d}async function Nj({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:l,scopedContext:i}){let o,d,c=et(e.method),u=c?"action":"loader",h=f=>{let m,x=new Promise((p,b)=>m=b);d=()=>m(),e.signal.addEventListener("abort",d);let g=p=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${r.route.id}]`)):f({request:e,unstable_pattern:t,params:r.params,context:i},...p!==void 0?[p]:[]),v=(async()=>{try{return{type:"data",result:await(l?l(b=>g(b)):g())}}catch(p){return{type:"error",result:p}}})();return Promise.race([v,x])};try{let f=c?r.route.action:r.route.loader;if(n||a)if(f){let m,[x]=await Promise.all([h(f).catch(g=>{m=g}),n,a]);if(m!==void 0)throw m;o=x}else{await n;let m=c?r.route.action:r.route.loader;if(m)[o]=await Promise.all([h(m),a]);else if(u==="action"){let x=new URL(e.url),g=x.pathname+x.search;throw Lt(405,{method:e.method,pathname:g,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(f)o=await h(f);else{let m=new URL(e.url),x=m.pathname+m.search;throw Lt(404,{pathname:x})}}catch(f){return{type:"error",result:f}}finally{d&&e.signal.removeEventListener("abort",d)}return o}async function Sj(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Cj(e){var n,a,l,i,o;let{result:t,type:r}=e;if(Nu(t)){let d;try{d=await Sj(t)}catch(c){return{type:"error",error:c}}return r==="error"?{type:"error",error:new sl(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return r==="error"?Df(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:Lj(t),statusCode:Ha(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Ha(t)?t.status:void 0}:Df(t)?{type:"data",data:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Ej(e,t,r,n,a){let l=e.headers.get("Location");if(oe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!ro(l)){let i=n.slice(0,n.findIndex(o=>o.route.id===r)+1);l=nc(new URL(t.url),i,a,l),e.headers.set("Location",l)}return e}function Lf(e,t,r,n){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(ro(e)){let l=e,i=l.startsWith("//")?new URL(t.protocol+l):new URL(l);if(a.includes(i.protocol))throw new Error("Invalid redirect location");let o=$t(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}try{let l=n.createURL(e);if(a.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Yn(e,t,r,n){let a=e.createURL(Tg(t)).toString(),l={signal:r};if(n&&et(n.formMethod)){let{formMethod:i,formEncType:o}=n;l.method=i.toUpperCase(),o==="application/json"?(l.headers=new Headers({"Content-Type":o}),l.body=JSON.stringify(n.json)):o==="text/plain"?l.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?l.body=lc(n.formData):l.body=n.formData}return new Request(a,l)}function lc(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Tf(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Rj(e,t,r,n=!1,a=!1){let l={},i=null,o,d=!1,c={},u=r&&jt(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,m=t[f];if(oe(!kn(m),"Cannot handle redirect results in processLoaderData"),jt(m)){let x=m.error;if(u!==void 0&&(x=u,u=void 0),i=i||{},a)i[f]=x;else{let g=Fr(e,f);i[g.route.id]==null&&(i[g.route.id]=x)}n||(l[f]=Sg),d||(d=!0,o=Ha(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else l[f]=m.data,m.statusCode&&m.statusCode!==200&&!d&&(o=m.statusCode),m.headers&&(c[f]=m.headers)}),u!==void 0&&r&&(i={[r[0]]:u},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:i,statusCode:o||200,loaderHeaders:c}}function _f(e,t,r,n,a,l){let{loaderData:i,errors:o}=Rj(t,r,n);return a.filter(d=>!d.matches||d.matches.some(c=>c.shouldLoad)).forEach(d=>{let{key:c,match:u,controller:h}=d;if(h&&h.signal.aborted)return;let f=l[c];if(oe(f,"Did not find corresponding fetcher result"),jt(f)){let m=Fr(e.matches,u==null?void 0:u.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:f.error}),e.fetchers.delete(c)}else if(kn(f))oe(!1,"Unhandled fetcher revalidation redirect");else{let m=mr(f.data);e.fetchers.set(c,m)}}),{loaderData:i,errors:o}}function Of(e,t,r,n){let a=Object.entries(t).filter(([,l])=>l!==Sg).reduce((l,[i,o])=>(l[i]=o,l),{});for(let l of r){let i=l.route.id;if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&l.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function If(e){return e?jt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Fr(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Al(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Lt(e,{pathname:t,routeId:r,method:n,type:a,message:l}={}){let i="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(i="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(i="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(i="Not Found",o=`No route matches URL "${t}"`):e===405&&(i="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new sl(e||500,i,new Error(o),!0)}function Fl(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(kn(a))return{key:n,result:a}}}function Tg(e){let t=typeof e=="string"?un(e):e;return dr({...t,hash:""})}function Pj(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Lj(e){var t,r;return new sl(((t=e.init)==null?void 0:t.status)??500,((r=e.init)==null?void 0:r.statusText)??"Internal Server Error",e.data)}function Tj(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&_j(r))}function _j(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Oj(e){return Nu(e.result)&&kg.has(e.result.status)}function jt(e){return e.type==="error"}function kn(e){return(e&&e.type)==="redirect"}function Df(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Nu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Ij(e){return kg.has(e)}function Dj(e){return Nu(e)&&Ij(e.status)&&e.headers.has("Location")}function Mj(e){return hj.has(e.toUpperCase())}function et(e){return cj.has(e.toUpperCase())}function Su(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ii(e,t){let r=typeof t=="string"?un(t).search:t.search;if(e[e.length-1].route.index&&Su(r||""))return e[e.length-1];let n=bg(e);return n[n.length-1]}function Mf(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:l,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:r,formEncType:n,formData:l,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function Yo(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Aj(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function sa(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Fj(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function mr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $j(e,t){try{let r=e.sessionStorage.getItem(Ng);if(r){let n=JSON.parse(r);for(let[a,l]of Object.entries(n||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function zj(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(Ng,JSON.stringify(r))}catch(n){Re(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Af(){let e,t,r=new Promise((n,a)=>{e=async l=>{n(l);try{await r}catch{}},t=async l=>{a(l);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Kn=E.createContext(null);Kn.displayName="DataRouter";var ll=E.createContext(null);ll.displayName="DataRouterState";var _g=E.createContext(!1);function Uj(){return E.useContext(_g)}var Cu=E.createContext({isTransitioning:!1});Cu.displayName="ViewTransition";var Og=E.createContext(new Map);Og.displayName="Fetchers";var Bj=E.createContext(null);Bj.displayName="Await";var Et=E.createContext(null);Et.displayName="Navigation";var ao=E.createContext(null);ao.displayName="Location";var zt=E.createContext({outlet:null,matches:[],isDataRoute:!1});zt.displayName="Route";var Eu=E.createContext(null);Eu.displayName="RouteError";var Ig="REACT_ROUTER_ERROR",Hj="REDIRECT",Qj="ROUTE_ERROR_RESPONSE";function Wj(e){if(e.startsWith(`${Ig}:${Hj}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Vj(e){if(e.startsWith(`${Ig}:${Qj}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new sl(t.status,t.statusText,t.data)}catch{}}function Kj(e,{relative:t}={}){oe(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(Et),{hash:a,pathname:l,search:i}=il(e,{relative:t}),o=l;return r!=="/"&&(o=l==="/"?r:or([r,l])),n.createHref({pathname:o,search:i,hash:a})}function Bs(){return E.useContext(ao)!=null}function Pr(){return oe(Bs(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ao).location}var Dg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mg(e){E.useContext(Et).static||E.useLayoutEffect(e)}function $e(){let{isDataRoute:e}=E.useContext(zt);return e?iw():qj()}function qj(){oe(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Kn),{basename:t,navigator:r}=E.useContext(Et),{matches:n}=E.useContext(zt),{pathname:a}=Pr(),l=JSON.stringify(no(n)),i=E.useRef(!1);return Mg(()=>{i.current=!0}),E.useCallback((d,c={})=>{if(Re(i.current,Dg),!i.current)return;if(typeof d=="number"){r.go(d);return}let u=so(d,JSON.parse(l),a,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:or([t,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[t,r,l,a,e])}var Gj=E.createContext(null);function Jj(e){let t=E.useContext(zt).outlet;return E.useMemo(()=>t&&E.createElement(Gj.Provider,{value:e},t),[t,e])}function lo(){let{matches:e}=E.useContext(zt),t=e[e.length-1];return t?t.params:{}}function il(e,{relative:t}={}){let{matches:r}=E.useContext(zt),{pathname:n}=Pr(),a=JSON.stringify(no(r));return E.useMemo(()=>so(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Yj(e,t,r,n,a){oe(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=E.useContext(Et),{matches:i}=E.useContext(zt),o=i[i.length-1],d=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let b=h&&h.path||"";$g(c,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=Pr(),m;m=f;let x=m.pathname||"/",g=x;if(u!=="/"){let b=u.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Ar(e,{pathname:g});return Re(h||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Re(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),rw(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},d,b.params),pathname:or([u,l.encodeLocation?l.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:or([u,l.encodeLocation?l.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),i,r,n,a)}function Xj(){let e=lw(),t=Ha(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:a},r):null,i)}var Zj=E.createElement(Xj,null),Ag=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Vj(e.digest);r&&(e=r)}let t=e!==void 0?E.createElement(zt.Provider,{value:this.props.routeContext},E.createElement(Eu.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?E.createElement(ew,{error:e},t):t}};Ag.contextType=_g;var Xo=new WeakMap;function ew({children:e,error:t}){let{basename:r}=E.useContext(Et);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=Wj(t.digest);if(n){let a=Xo.get(t);if(a)throw a;let l=vg(n.location,r);if(yg&&!Xo.get(t))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw Xo.set(t,i),i}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function tw({routeContext:e,match:t,children:r}){let n=E.useContext(Kn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(zt.Provider,{value:e},r)}function rw(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,i=r==null?void 0:r.errors;if(i!=null){let u=l.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);oe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),l=l.slice(0,Math.min(l.length,u+1))}let o=!1,d=-1;if(r)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,x=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){o=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let c=r&&n?(u,h)=>{var f,m;n(u,{location:r.location,params:((m=(f=r.matches)==null?void 0:f[0])==null?void 0:m.params)??{},unstable_pattern:al(r.matches),errorInfo:h})}:void 0;return l.reduceRight((u,h,f)=>{let m,x=!1,g=null,v=null;r&&(m=i&&h.route.id?i[h.route.id]:void 0,g=h.route.errorElement||Zj,o&&(d<0&&f===0?($g("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):d===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,f+1)),b=()=>{let y;return m?y=g:x?y=v:h.route.Component?y=E.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,E.createElement(tw,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(Ag,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:c}):b()},null)}function Ru(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(e){let t=E.useContext(Kn);return oe(t,Ru(e)),t}function Fg(e){let t=E.useContext(ll);return oe(t,Ru(e)),t}function sw(e){let t=E.useContext(zt);return oe(t,Ru(e)),t}function Pu(e){let t=sw(e),r=t.matches[t.matches.length-1];return oe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function aw(){return Pu("useRouteId")}function Zo(){let{matches:e,loaderData:t}=Fg("useMatches");return E.useMemo(()=>e.map(r=>mg(r,t)),[e,t])}function lw(){var n;let e=E.useContext(Eu),t=Fg("useRouteError"),r=Pu("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function iw(){let{router:e}=nw("useNavigate"),t=Pu("useNavigate"),r=E.useRef(!1);return Mg(()=>{r.current=!0}),E.useCallback(async(a,l={})=>{Re(r.current,Dg),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var Ff={};function $g(e,t,r){!t&&!Ff[e]&&(Ff[e]=!0,Re(!1,r))}var $f={};function zf(e,t){!e&&!$f[t]&&($f[t]=!0,console.warn(t))}var ow="useOptimistic",Uf=vy[ow],dw=()=>{};function cw(e){return Uf?Uf(e):[e,dw]}function uw(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Re(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:E.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Re(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Re(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var hw=["HydrateFallback","hydrateFallbackElement"],fw=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function mw({router:e,flushSync:t,onError:r,unstable_useTransitions:n}){n=Uj()||n;let[l,i]=E.useState(e.state),[o,d]=cw(l),[c,u]=E.useState(),[h,f]=E.useState({isTransitioning:!1}),[m,x]=E.useState(),[g,v]=E.useState(),[p,b]=E.useState(),y=E.useRef(new Map),j=E.useCallback((P,{deletedFetchers:T,newErrors:D,flushSync:z,viewTransitionOpts:M})=>{D&&r&&Object.values(D).forEach(Y=>{var ce;return r(Y,{location:P.location,params:((ce=P.matches[0])==null?void 0:ce.params)??{},unstable_pattern:al(P.matches)})}),P.fetchers.forEach((Y,ce)=>{Y.data!==void 0&&y.current.set(ce,Y.data)}),T.forEach(Y=>y.current.delete(Y)),zf(z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Q=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(zf(M==null||Q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!Q){t&&z?t(()=>i(P)):n===!1?i(P):E.startTransition(()=>{n===!0&&d(Y=>Bf(Y,P)),i(P)});return}if(t&&z){t(()=>{g&&(m==null||m.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let Y=e.window.document.startViewTransition(()=>{t(()=>i(P))});Y.finished.finally(()=>{t(()=>{x(void 0),v(void 0),u(void 0),f({isTransitioning:!1})})}),t(()=>v(Y));return}g?(m==null||m.resolve(),g.skipTransition(),b({state:P,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(u(P),f({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[e.window,t,g,m,n,d,r]);E.useLayoutEffect(()=>e.subscribe(j),[e,j]),E.useEffect(()=>{h.isTransitioning&&!h.flushSync&&x(new fw)},[h]),E.useEffect(()=>{if(m&&c&&e.window){let P=c,T=m.promise,D=e.window.document.startViewTransition(async()=>{n===!1?i(P):E.startTransition(()=>{n===!0&&d(z=>Bf(z,P)),i(P)}),await T});D.finished.finally(()=>{x(void 0),v(void 0),u(void 0),f({isTransitioning:!1})}),v(D)}},[c,m,e.window,n,d]),E.useEffect(()=>{m&&c&&o.location.key===c.location.key&&m.resolve()},[m,g,o.location,c]),E.useEffect(()=>{!h.isTransitioning&&p&&(u(p.state),f({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),b(void 0))},[h.isTransitioning,p]);let N=E.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:P=>e.navigate(P),push:(P,T,D)=>e.navigate(P,{state:T,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(P,T,D)=>e.navigate(P,{replace:!0,state:T,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),R=e.basename||"/",k=E.useMemo(()=>({router:e,navigator:N,static:!1,basename:R,onError:r}),[e,N,R,r]);return E.createElement(E.Fragment,null,E.createElement(Kn.Provider,{value:k},E.createElement(ll.Provider,{value:o},E.createElement(Og.Provider,{value:y.current},E.createElement(Cu.Provider,{value:h},E.createElement(bw,{basename:R,location:o.location,navigationType:o.historyAction,navigator:N,unstable_useTransitions:n},E.createElement(xw,{routes:e.routes,future:e.future,state:o,onError:r})))))),null)}function Bf(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var xw=E.memo(pw);function pw({routes:e,future:t,state:r,onError:n}){return Yj(e,void 0,r,n,t)}function gw({to:e,replace:t,state:r,relative:n}){oe(Bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(Et);Re(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=E.useContext(zt),{pathname:i}=Pr(),o=$e(),d=so(e,no(l),i,n==="path"),c=JSON.stringify(d);return E.useEffect(()=>{o(JSON.parse(c),{replace:t,state:r,relative:n})},[o,c,n,t,r]),null}function io(e){return Jj(e.context)}function bw({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:l=!1,unstable_useTransitions:i}){oe(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:o,navigator:a,static:l,unstable_useTransitions:i,future:{}}),[o,a,l,i]);typeof r=="string"&&(r=un(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:m="default"}=r,x=E.useMemo(()=>{let g=$t(c,o);return g==null?null:{location:{pathname:g,search:u,hash:h,state:f,key:m},navigationType:n}},[o,c,u,h,f,m,n]);return Re(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:E.createElement(Et.Provider,{value:d},E.createElement(ao.Provider,{children:t,value:x}))}var oi="get",di="application/x-www-form-urlencoded";function oo(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function yw(e){return oo(e)&&e.tagName.toLowerCase()==="button"}function vw(e){return oo(e)&&e.tagName.toLowerCase()==="form"}function jw(e){return oo(e)&&e.tagName.toLowerCase()==="input"}function ww(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kw(e,t){return e.button===0&&(!t||t==="_self")&&!ww(e)}function ic(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Nw(e,t){let r=ic(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}var $l=null;function Sw(){if($l===null)try{new FormData(document.createElement("form"),0),$l=!1}catch{$l=!0}return $l}var Cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ed(e){return e!=null&&!Cw.has(e)?(Re(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${di}"`),null):e}function Ew(e,t){let r,n,a,l,i;if(vw(e)){let o=e.getAttribute("action");n=o?$t(o,t):null,r=e.getAttribute("method")||oi,a=ed(e.getAttribute("enctype"))||di,l=new FormData(e)}else if(yw(e)||jw(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||o.getAttribute("action");if(n=d?$t(d,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||oi,a=ed(e.getAttribute("formenctype"))||ed(o.getAttribute("enctype"))||di,l=new FormData(o,e),!Sw()){let{name:c,type:u,value:h}=e;if(u==="image"){let f=c?`${c}.`:"";l.append(`${f}x`,"0"),l.append(`${f}y`,"0")}else c&&l.append(c,h)}}else{if(oo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=oi,n=null,a=di,i=e}return l&&a==="text/plain"&&(i=l,l=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rw(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&$t(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Pw(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Tw(e,t,r){let n=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let i=await Pw(l,r);return i.links?i.links():[]}return[]}));return Dw(n.flat(1).filter(Lw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hf(e,t,r,n,a,l){let i=(d,c)=>r[c]?d.route.id!==r[c].route.id:!0,o=(d,c)=>{var u;return r[c].pathname!==d.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,c)=>i(d,c)||o(d,c)):l==="data"?t.filter((d,c)=>{var h;let u=n.routes[d.route.id];if(!u||!u.hasLoader)return!1;if(i(d,c)||o(d,c))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function _w(e,t,{includeHydrateFallback:r}={}){return Ow(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ow(e){return[...new Set(e)]}function Iw(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Dw(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let l=JSON.stringify(Iw(a));return r.has(l)||(r.add(l),n.push({key:l,link:a})),n},[])}function zg(){let e=E.useContext(Kn);return Lu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Mw(){let e=E.useContext(ll);return Lu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Tu=E.createContext(void 0);Tu.displayName="FrameworkContext";function Ug(){let e=E.useContext(Tu);return Lu(e,"You must render this element inside a <HydratedRouter> element"),e}function Aw(e,t){let r=E.useContext(Tu),[n,a]=E.useState(!1),[l,i]=E.useState(!1),{onFocus:o,onBlur:d,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=t,f=E.useRef(null);E.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let g=p=>{p.forEach(b=>{i(b.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return f.current&&v.observe(f.current),()=>{v.disconnect()}}},[e]),E.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let m=()=>{a(!0)},x=()=>{a(!1),i(!1)};return r?e!=="intent"?[l,f,{}]:[l,f,{onFocus:aa(o,m),onBlur:aa(d,x),onMouseEnter:aa(c,m),onMouseLeave:aa(u,x),onTouchStart:aa(h,m)}]:[!1,f,{}]}function aa(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Fw({page:e,...t}){let{router:r}=zg(),n=E.useMemo(()=>Ar(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?E.createElement(zw,{page:e,matches:n,...t}):null}function $w(e){let{manifest:t,routeModules:r}=Ug(),[n,a]=E.useState([]);return E.useEffect(()=>{let l=!1;return Tw(e,t,r).then(i=>{l||a(i)}),()=>{l=!0}},[e,t,r]),n}function zw({page:e,matches:t,...r}){let n=Pr(),{future:a,manifest:l,routeModules:i}=Ug(),{basename:o}=zg(),{loaderData:d,matches:c}=Mw(),u=E.useMemo(()=>Hf(e,t,c,l,n,"data"),[e,t,c,l,n]),h=E.useMemo(()=>Hf(e,t,c,l,n,"assets"),[e,t,c,l,n]),f=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,v=!1;if(t.forEach(b=>{var j;let y=l.routes[b.route.id];!y||!y.hasLoader||(!u.some(N=>N.route.id===b.route.id)&&b.route.id in d&&((j=i[b.route.id])!=null&&j.shouldRevalidate)||y.hasClientLoader?v=!0:g.add(b.route.id))}),g.size===0)return[];let p=Rw(e,o,a.unstable_trailingSlashAwareDataRequests,"data");return v&&g.size>0&&p.searchParams.set("_routes",t.filter(b=>g.has(b.route.id)).map(b=>b.route.id).join(",")),[p.pathname+p.search]},[o,a.unstable_trailingSlashAwareDataRequests,d,n,l,u,t,e,i]),m=E.useMemo(()=>_w(h,l),[h,l]),x=$w(h);return E.createElement(E.Fragment,null,f.map(g=>E.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),m.map(g=>E.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),x.map(({key:g,link:v})=>E.createElement("link",{key:g,nonce:r.nonce,...v})))}function Uw(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bw&&(window.__reactRouterVersion="7.12.0")}catch{}function Hw(e,t){return pj({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:O0({window:t==null?void 0:t.window}),hydrationData:Qw(),routes:e,mapRouteProperties:uw,hydrationRouteProperties:hw,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function Qw(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Ww(e.errors)}),e}function Ww(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new sl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let i=new l(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let l=new Error(a.message);l.stack="",r[n]=l}}else r[n]=a;return r}var Bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hg=E.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:l,replace:i,state:o,target:d,to:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f,...m},x){let{basename:g,unstable_useTransitions:v}=E.useContext(Et),p=typeof c=="string"&&Bg.test(c),b=vg(c,g);c=b.to;let y=Kj(c,{relative:a}),[j,N,R]=Aw(n,m),k=Gw(c,{replace:i,state:o,target:d,preventScrollReset:u,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:v});function P(D){t&&t(D),D.defaultPrevented||k(D)}let T=E.createElement("a",{...m,...R,href:b.absoluteURL||y,onClick:b.isExternal||l?t:P,ref:Uw(x,N),target:d,"data-discover":!p&&r==="render"?"true":void 0});return j&&!p?E.createElement(E.Fragment,null,T,E.createElement(Fw,{page:y})):T});Hg.displayName="Link";var Vw=E.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:i,viewTransition:o,children:d,...c},u){let h=il(i,{relative:c.relative}),f=Pr(),m=E.useContext(ll),{navigator:x,basename:g}=E.useContext(Et),v=m!=null&&ek(h)&&o===!0,p=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,b=f.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&g&&(y=$t(y,g)||y);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let N=b===p||!a&&b.startsWith(p)&&b.charAt(j)==="/",R=y!=null&&(y===p||!a&&y.startsWith(p)&&y.charAt(p.length)==="/"),k={isActive:N,isPending:R,isTransitioning:v},P=N?t:void 0,T;typeof n=="function"?T=n(k):T=[n,N?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return E.createElement(Hg,{...c,"aria-current":P,className:T,ref:u,style:D,to:i,viewTransition:o},typeof d=="function"?d(k):d)});Vw.displayName="NavLink";var Kw=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:l,method:i=oi,action:o,onSubmit:d,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f,...m},x)=>{let{unstable_useTransitions:g}=E.useContext(Et),v=Xw(),p=Zw(o,{relative:c}),b=i.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&Bg.test(o),j=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,k=(R==null?void 0:R.getAttribute("formmethod"))||i,P=()=>v(R||N.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:a,state:l,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f});g&&r!==!1?E.startTransition(()=>P()):P()};return E.createElement("form",{ref:x,method:b,action:p,onSubmit:n?d:j,...m,"data-discover":!y&&e==="render"?"true":void 0})});Kw.displayName="Form";function qw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qg(e){let t=E.useContext(Kn);return oe(t,qw(e)),t}function Gw(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:o,unstable_useTransitions:d}={}){let c=$e(),u=Pr(),h=il(e,{relative:l});return E.useCallback(f=>{if(kw(f,t)){f.preventDefault();let m=r!==void 0?r:dr(u)===dr(h),x=()=>c(e,{replace:m,state:n,preventScrollReset:a,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:o});d?E.startTransition(()=>x()):x()}},[u,c,h,r,n,t,e,a,l,i,o,d])}function _u(e){Re(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=E.useRef(ic(e)),r=E.useRef(!1),n=Pr(),a=E.useMemo(()=>Nw(n.search,r.current?null:t.current),[n.search]),l=$e(),i=E.useCallback((o,d)=>{const c=ic(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,l("?"+c,d)},[l,a]);return[a,i]}var Jw=0,Yw=()=>`__${String(++Jw)}__`;function Xw(){let{router:e}=Qg("useSubmit"),{basename:t}=E.useContext(Et),r=aw(),n=e.fetch,a=e.navigate;return E.useCallback(async(l,i={})=>{let{action:o,method:d,encType:c,formData:u,body:h}=Ew(l,t);if(i.navigate===!1){let f=i.fetcherKey||Yw();await n(f,r,i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||d,formEncType:i.encType||c,flushSync:i.flushSync})}else await a(i.action||o,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||d,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function Zw(e,{relative:t}={}){let{basename:r}=E.useContext(Et),n=E.useContext(zt);oe(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...il(e||".",{relative:t})},i=Pr();if(e==null){l.search=i.search;let o=new URLSearchParams(l.search),d=o.getAll("index");if(d.some(u=>u==="")){o.delete("index"),d.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();l.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:or([r,l.pathname])),dr(l)}function ek(e,{relative:t}={}){let r=E.useContext(Cu);oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Qg("useViewTransitionState"),a=il(e,{relative:t});if(!r.isTransitioning)return!1;let l=$t(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=$t(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ai(a.pathname,i)!=null||Ai(a.pathname,l)!=null}function tk(e){return E.createElement(mw,{flushSync:ug.flushSync,...e})}var ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rk={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$r,Rc,Hm,nk=(Hm=class{constructor(){ne(this,$r,rk);ne(this,Rc,!1)}setTimeoutProvider(e){H(this,$r,e)}setTimeout(e,t){return C(this,$r).setTimeout(e,t)}clearTimeout(e){C(this,$r).clearTimeout(e)}setInterval(e,t){return C(this,$r).setInterval(e,t)}clearInterval(e){C(this,$r).clearInterval(e)}},$r=new WeakMap,Rc=new WeakMap,Hm),Nn=new nk;function sk(e){setTimeout(e,0)}var Hn=typeof window>"u"||"Deno"in globalThis;function ht(){}function ak(e,t){return typeof e=="function"?e(t):e}function oc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Wg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sn(e,t){return typeof e=="function"?e(t):e}function _t(e,t){return typeof e=="function"?e(t):e}function Qf(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:l,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==Ou(i,t.options))return!1}else if(!Wa(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||l&&!l(t))}function Wf(e,t){const{exact:r,status:n,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Qa(t.options.mutationKey)!==Qa(l))return!1}else if(!Wa(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Ou(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qa)(e)}function Qa(e){return JSON.stringify(e,(t,r)=>cc(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Wa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wa(e[r],t[r])):!1}var lk=Object.prototype.hasOwnProperty;function Vg(e,t){if(e===t)return e;const r=Vf(e)&&Vf(t);if(!r&&!(cc(e)&&cc(t)))return t;const a=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),i=l.length,o=r?new Array(i):{};let d=0;for(let c=0;c<i;c++){const u=r?c:l[c],h=e[u],f=t[u];if(h===f){o[u]=h,(r?c<a:lk.call(e,u))&&d++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[u]=f;continue}const m=Vg(h,f);o[u]=m,m===h&&d++}return a===i&&d===a?e:o}function dc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Vf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cc(e){if(!Kf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Kf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kf(e){return Object.prototype.toString.call(e)==="[object Object]"}function ik(e){return new Promise(t=>{Nn.setTimeout(t,e)})}function uc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Vg(e,t):t}function ok(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function dk(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Iu=Symbol();function Kg(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Iu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function qg(e,t){return typeof e=="function"?e(...t):!!e}function ck(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Cn,zr,bs,Qm,uk=(Qm=class extends ol{constructor(){super();ne(this,Cn);ne(this,zr);ne(this,bs);H(this,bs,t=>{if(!Hn&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,zr)||this.setEventListener(C(this,bs))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,zr))==null||t.call(this),H(this,zr,void 0))}setEventListener(t){var r;H(this,bs,t),(r=C(this,zr))==null||r.call(this),H(this,zr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,Cn)!==t&&(H(this,Cn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,Cn)=="boolean"?C(this,Cn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cn=new WeakMap,zr=new WeakMap,bs=new WeakMap,Qm),Du=new uk;function hc(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var hk=sk;function fk(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=hk;const l=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(d=>{r(d)})})})};return{batch:o=>{let d;t++;try{d=o()}finally{t--,t||i()}return d},batchCalls:o=>(...d)=>{l(()=>{o(...d)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Ke=fk(),ys,Ur,vs,Wm,mk=(Wm=class extends ol{constructor(){super();ne(this,ys,!0);ne(this,Ur);ne(this,vs);H(this,vs,t=>{if(!Hn&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Ur)||this.setEventListener(C(this,vs))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ur))==null||t.call(this),H(this,Ur,void 0))}setEventListener(t){var r;H(this,vs,t),(r=C(this,Ur))==null||r.call(this),H(this,Ur,t(this.setOnline.bind(this)))}setOnline(t){C(this,ys)!==t&&(H(this,ys,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,ys)}},ys=new WeakMap,Ur=new WeakMap,vs=new WeakMap,Wm),Fi=new mk;function xk(e){return Math.min(1e3*2**e,3e4)}function Gg(e){return(e??"online")==="online"?Fi.isOnline():!0}var fc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jg(e){let t=!1,r=0,n;const a=hc(),l=()=>a.status!=="pending",i=g=>{var v;if(!l()){const p=new fc(g);f(p),(v=e.onCancel)==null||v.call(e,p)}},o=()=>{t=!0},d=()=>{t=!1},c=()=>Du.isFocused()&&(e.networkMode==="always"||Fi.isOnline())&&e.canRun(),u=()=>Gg(e.networkMode)&&e.canRun(),h=g=>{l()||(n==null||n(),a.resolve(g))},f=g=>{l()||(n==null||n(),a.reject(g))},m=()=>new Promise(g=>{var v;n=p=>{(l()||c())&&g(p)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;n=void 0,l()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(l())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(h).catch(p=>{var R;if(l())return;const b=e.retry??(Hn?0:3),y=e.retryDelay??xk,j=typeof y=="function"?y(r,p):y,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,p);if(t||!N){f(p);return}r++,(R=e.onFail)==null||R.call(e,r,p),ik(j).then(()=>c()?void 0:m()).then(()=>{t?f(p):x()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:d,canStart:u,start:()=>(u()?x():m().then(x),a)}}var En,Vm,Yg=(Vm=class{constructor(){ne(this,En)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oc(this.gcTime)&&H(this,En,Nn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hn?1/0:5*60*1e3))}clearGcTimeout(){C(this,En)&&(Nn.clearTimeout(C(this,En)),H(this,En,void 0))}},En=new WeakMap,Vm),Rn,js,Pt,Pn,Be,qa,Ln,Ht,xr,Km,pk=(Km=class extends Yg{constructor(t){super();ne(this,Ht);ne(this,Rn);ne(this,js);ne(this,Pt);ne(this,Pn);ne(this,Be);ne(this,qa);ne(this,Ln);H(this,Ln,!1),H(this,qa,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,Pn,t.client),H(this,Pt,C(this,Pn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,Rn,Gf(this.options)),this.state=t.state??C(this,Rn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Be))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,qa),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Gf(this.options);r.data!==void 0&&(this.setState(qf(r.data,r.dataUpdatedAt)),H(this,Rn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Pt).remove(this)}setData(t,r){const n=uc(this.state.data,t,this.options);return ue(this,Ht,xr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ue(this,Ht,xr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=C(this,Be))==null?void 0:n.promise;return(a=C(this,Be))==null||a.cancel(t),r?r.then(ht).catch(ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Rn))}isActive(){return this.observers.some(t=>_t(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Wg(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Be))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Be))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Pt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Be)&&(C(this,Ln)?C(this,Be).cancel({revert:!0}):C(this,Be).cancelRetry()),this.scheduleGc()),C(this,Pt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,Ht,xr).call(this,{type:"invalidate"})}async fetch(t,r){var d,c,u,h,f,m,x,g,v,p,b,y;if(this.state.fetchStatus!=="idle"&&((d=C(this,Be))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Be))return C(this,Be).continueRetry(),C(this,Be).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(H(this,Ln,!0),n.signal)})},l=()=>{const j=Kg(this.options,r),R=(()=>{const k={client:C(this,Pn),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return H(this,Ln,!1),this.options.persister?this.options.persister(j,R,this):j(R)},o=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,Pn),state:this.state,fetchFn:l};return a(j),j})();(c=this.options.behavior)==null||c.onFetch(o,this),H(this,js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&ue(this,Ht,xr).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),H(this,Be,Jg({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof fc&&j.revert&&this.setState({...C(this,js),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{ue(this,Ht,xr).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{ue(this,Ht,xr).call(this,{type:"pause"})},onContinue:()=>{ue(this,Ht,xr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await C(this,Be).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(f=C(this,Pt).config).onSuccess)==null||m.call(f,j,this),(g=(x=C(this,Pt).config).onSettled)==null||g.call(x,j,this.state.error,this),j}catch(j){if(j instanceof fc){if(j.silent)return C(this,Be).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ue(this,Ht,xr).call(this,{type:"error",error:j}),(p=(v=C(this,Pt).config).onError)==null||p.call(v,j,this),(y=(b=C(this,Pt).config).onSettled)==null||y.call(b,this.state.data,j,this),j}finally{this.scheduleGc()}}},Rn=new WeakMap,js=new WeakMap,Pt=new WeakMap,Pn=new WeakMap,Be=new WeakMap,qa=new WeakMap,Ln=new WeakMap,Ht=new WeakSet,xr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xg(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...qf(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,js,t.manual?a:void 0),a;case"error":const l=t.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ke.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Pt).notify({query:this,type:"updated",action:t})})},Km);function Xg(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gg(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Gf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ut,he,Ga,at,Tn,ws,br,Br,Ja,ks,Ns,_n,On,Hr,Ss,ge,fa,mc,xc,pc,gc,bc,yc,vc,Zg,qm,gk=(qm=class extends ol{constructor(t,r){super();ne(this,ge);ne(this,ut);ne(this,he);ne(this,Ga);ne(this,at);ne(this,Tn);ne(this,ws);ne(this,br);ne(this,Br);ne(this,Ja);ne(this,ks);ne(this,Ns);ne(this,_n);ne(this,On);ne(this,Hr);ne(this,Ss,new Set);this.options=r,H(this,ut,t),H(this,Br,null),H(this,br,hc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,he).addObserver(this),Jf(C(this,he),this.options)?ue(this,ge,fa).call(this):this.updateResult(),ue(this,ge,gc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jc(C(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jc(C(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,ge,bc).call(this),ue(this,ge,yc).call(this),C(this,he).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,he);if(this.options=C(this,ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _t(this.options.enabled,C(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,ge,vc).call(this),C(this,he).setOptions(this.options),r._defaulted&&!dc(this.options,r)&&C(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,he),observer:this});const a=this.hasListeners();a&&Yf(C(this,he),n,this.options,r)&&ue(this,ge,fa).call(this),this.updateResult(),a&&(C(this,he)!==n||_t(this.options.enabled,C(this,he))!==_t(r.enabled,C(this,he))||sn(this.options.staleTime,C(this,he))!==sn(r.staleTime,C(this,he)))&&ue(this,ge,mc).call(this);const l=ue(this,ge,xc).call(this);a&&(C(this,he)!==n||_t(this.options.enabled,C(this,he))!==_t(r.enabled,C(this,he))||l!==C(this,Hr))&&ue(this,ge,pc).call(this,l)}getOptimisticResult(t){const r=C(this,ut).getQueryCache().build(C(this,ut),t),n=this.createResult(r,t);return yk(this,n)&&(H(this,at,n),H(this,ws,this.options),H(this,Tn,C(this,he).state)),n}getCurrentResult(){return C(this,at)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,br).status==="pending"&&C(this,br).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){C(this,Ss).add(t)}getCurrentQuery(){return C(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,ut).defaultQueryOptions(t),n=C(this,ut).getQueryCache().build(C(this,ut),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ue(this,ge,fa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,at)))}createResult(t,r){var T;const n=C(this,he),a=this.options,l=C(this,at),i=C(this,Tn),o=C(this,ws),c=t!==n?t.state:C(this,Ga),{state:u}=t;let h={...u},f=!1,m;if(r._optimisticResults){const D=this.hasListeners(),z=!D&&Jf(t,r),M=D&&Yf(t,n,r,a);(z||M)&&(h={...h,...Xg(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:v}=h;m=h.data;let p=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let D;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(D=l.data,p=!0):D=typeof r.placeholderData=="function"?r.placeholderData((T=C(this,Ns))==null?void 0:T.state.data,C(this,Ns)):r.placeholderData,D!==void 0&&(v="success",m=uc(l==null?void 0:l.data,D,r),f=!0)}if(r.select&&m!==void 0&&!p)if(l&&m===(i==null?void 0:i.data)&&r.select===C(this,Ja))m=C(this,ks);else try{H(this,Ja,r.select),m=r.select(m),m=uc(l==null?void 0:l.data,m,r),H(this,ks,m),H(this,Br,null)}catch(D){H(this,Br,D)}C(this,Br)&&(x=C(this,Br),m=C(this,ks),g=Date.now(),v="error");const b=h.fetchStatus==="fetching",y=v==="pending",j=v==="error",N=y&&b,R=m!==void 0,P={status:v,fetchStatus:h.fetchStatus,isPending:y,isSuccess:v==="success",isError:j,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:j&&!R,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&R,isStale:Mu(t,r),refetch:this.refetch,promise:C(this,br),isEnabled:_t(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=Q=>{P.status==="error"?Q.reject(P.error):P.data!==void 0&&Q.resolve(P.data)},z=()=>{const Q=H(this,br,P.promise=hc());D(Q)},M=C(this,br);switch(M.status){case"pending":t.queryHash===n.queryHash&&D(M);break;case"fulfilled":(P.status==="error"||P.data!==M.value)&&z();break;case"rejected":(P.status!=="error"||P.error!==M.reason)&&z();break}}return P}updateResult(){const t=C(this,at),r=this.createResult(C(this,he),this.options);if(H(this,Tn,C(this,he).state),H(this,ws,this.options),C(this,Tn).data!==void 0&&H(this,Ns,C(this,he)),dc(r,t))return;H(this,at,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!C(this,Ss).size)return!0;const i=new Set(l??C(this,Ss));return this.options.throwOnError&&i.add("error"),Object.keys(C(this,at)).some(o=>{const d=o;return C(this,at)[d]!==t[d]&&i.has(d)})};ue(this,ge,Zg).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,ge,gc).call(this)}},ut=new WeakMap,he=new WeakMap,Ga=new WeakMap,at=new WeakMap,Tn=new WeakMap,ws=new WeakMap,br=new WeakMap,Br=new WeakMap,Ja=new WeakMap,ks=new WeakMap,Ns=new WeakMap,_n=new WeakMap,On=new WeakMap,Hr=new WeakMap,Ss=new WeakMap,ge=new WeakSet,fa=function(t){ue(this,ge,vc).call(this);let r=C(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ht)),r},mc=function(){ue(this,ge,bc).call(this);const t=sn(this.options.staleTime,C(this,he));if(Hn||C(this,at).isStale||!oc(t))return;const n=Wg(C(this,at).dataUpdatedAt,t)+1;H(this,_n,Nn.setTimeout(()=>{C(this,at).isStale||this.updateResult()},n))},xc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,he)):this.options.refetchInterval)??!1},pc=function(t){ue(this,ge,yc).call(this),H(this,Hr,t),!(Hn||_t(this.options.enabled,C(this,he))===!1||!oc(C(this,Hr))||C(this,Hr)===0)&&H(this,On,Nn.setInterval(()=>{(this.options.refetchIntervalInBackground||Du.isFocused())&&ue(this,ge,fa).call(this)},C(this,Hr)))},gc=function(){ue(this,ge,mc).call(this),ue(this,ge,pc).call(this,ue(this,ge,xc).call(this))},bc=function(){C(this,_n)&&(Nn.clearTimeout(C(this,_n)),H(this,_n,void 0))},yc=function(){C(this,On)&&(Nn.clearInterval(C(this,On)),H(this,On,void 0))},vc=function(){const t=C(this,ut).getQueryCache().build(C(this,ut),this.options);if(t===C(this,he))return;const r=C(this,he);H(this,he,t),H(this,Ga,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Zg=function(t){Ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,at))}),C(this,ut).getQueryCache().notify({query:C(this,he),type:"observerResultsUpdated"})})},qm);function bk(e,t){return _t(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Jf(e,t){return bk(e,t)||e.state.data!==void 0&&jc(e,t,t.refetchOnMount)}function jc(e,t,r){if(_t(t.enabled,e)!==!1&&sn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Mu(e,t)}return!1}function Yf(e,t,r,n){return(e!==t||_t(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Mu(e,r)}function Mu(e,t){return _t(t.enabled,e)!==!1&&e.isStaleByTime(sn(t.staleTime,e))}function yk(e,t){return!dc(e.getCurrentResult(),t)}function Xf(e){return{onFetch:(t,r)=>{var u,h,f,m,x;const n=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,l=((m=t.state.data)==null?void 0:m.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},d=0;const c=async()=>{let g=!1;const v=y=>{ck(y,()=>t.signal,()=>g=!0)},p=Kg(t.options,t.fetchOptions),b=async(y,j,N)=>{if(g)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const k=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return v(z),z})(),P=await p(k),{maxPages:T}=t.options,D=N?dk:ok;return{pages:D(y.pages,P,T),pageParams:D(y.pageParams,j,T)}};if(a&&l.length){const y=a==="backward",j=y?vk:Zf,N={pages:l,pageParams:i},R=j(n,N);o=await b(N,R,y)}else{const y=e??l.length;do{const j=d===0?i[0]??n.initialPageParam:Zf(n,o);if(d>0&&j==null)break;o=await b(o,j),d++}while(d<y)}return o};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Zf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function vk(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ya,tr,lt,In,rr,_r,Gm,jk=(Gm=class extends Yg{constructor(t){super();ne(this,rr);ne(this,Ya);ne(this,tr);ne(this,lt);ne(this,In);H(this,Ya,t.client),this.mutationId=t.mutationId,H(this,lt,t.mutationCache),H(this,tr,[]),this.state=t.state||wk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,tr).includes(t)||(C(this,tr).push(t),this.clearGcTimeout(),C(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,tr,C(this,tr).filter(r=>r!==t)),this.scheduleGc(),C(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,tr).length||(this.state.status==="pending"?this.scheduleGc():C(this,lt).remove(this))}continue(){var t;return((t=C(this,In))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,d,c,u,h,f,m,x,g,v,p,b,y,j,N,R,k,P,T;const r=()=>{ue(this,rr,_r).call(this,{type:"continue"})},n={client:C(this,Ya),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,In,Jg({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(D,z)=>{ue(this,rr,_r).call(this,{type:"failed",failureCount:D,error:z})},onPause:()=>{ue(this,rr,_r).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,lt).canRun(this)}));const a=this.state.status==="pending",l=!C(this,In).canStart();try{if(a)r();else{ue(this,rr,_r).call(this,{type:"pending",variables:t,isPaused:l}),await((o=(i=C(this,lt).config).onMutate)==null?void 0:o.call(i,t,this,n));const z=await((c=(d=this.options).onMutate)==null?void 0:c.call(d,t,n));z!==this.state.context&&ue(this,rr,_r).call(this,{type:"pending",context:z,variables:t,isPaused:l})}const D=await C(this,In).start();return await((h=(u=C(this,lt).config).onSuccess)==null?void 0:h.call(u,D,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,D,t,this.state.context,n)),await((g=(x=C(this,lt).config).onSettled)==null?void 0:g.call(x,D,null,this.state.variables,this.state.context,this,n)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,D,null,t,this.state.context,n)),ue(this,rr,_r).call(this,{type:"success",data:D}),D}catch(D){try{await((y=(b=C(this,lt).config).onError)==null?void 0:y.call(b,D,t,this.state.context,this,n))}catch(z){Promise.reject(z)}try{await((N=(j=this.options).onError)==null?void 0:N.call(j,D,t,this.state.context,n))}catch(z){Promise.reject(z)}try{await((k=(R=C(this,lt).config).onSettled)==null?void 0:k.call(R,void 0,D,this.state.variables,this.state.context,this,n))}catch(z){Promise.reject(z)}try{await((T=(P=this.options).onSettled)==null?void 0:T.call(P,void 0,D,t,this.state.context,n))}catch(z){Promise.reject(z)}throw ue(this,rr,_r).call(this,{type:"error",error:D}),D}finally{C(this,lt).runNext(this)}}},Ya=new WeakMap,tr=new WeakMap,lt=new WeakMap,In=new WeakMap,rr=new WeakSet,_r=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ke.batch(()=>{C(this,tr).forEach(n=>{n.onMutationUpdate(t)}),C(this,lt).notify({mutation:this,type:"updated",action:t})})},Gm);function wk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yr,Qt,Xa,Jm,kk=(Jm=class extends ol{constructor(t={}){super();ne(this,yr);ne(this,Qt);ne(this,Xa);this.config=t,H(this,yr,new Set),H(this,Qt,new Map),H(this,Xa,0)}build(t,r,n){const a=new jk({client:t,mutationCache:this,mutationId:++yl(this,Xa)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){C(this,yr).add(t);const r=zl(t);if(typeof r=="string"){const n=C(this,Qt).get(r);n?n.push(t):C(this,Qt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,yr).delete(t)){const r=zl(t);if(typeof r=="string"){const n=C(this,Qt).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&C(this,Qt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zl(t);if(typeof r=="string"){const n=C(this,Qt).get(r),a=n==null?void 0:n.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=zl(t);if(typeof r=="string"){const a=(n=C(this,Qt).get(r))==null?void 0:n.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ke.batch(()=>{C(this,yr).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,yr).clear(),C(this,Qt).clear()})}getAll(){return Array.from(C(this,yr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Wf(r,n))}findAll(t={}){return this.getAll().filter(r=>Wf(t,r))}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(ht))))}},yr=new WeakMap,Qt=new WeakMap,Xa=new WeakMap,Jm);function zl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var nr,Ym,Nk=(Ym=class extends ol{constructor(t={}){super();ne(this,nr);this.config=t,H(this,nr,new Map)}build(t,r,n){const a=r.queryKey,l=r.queryHash??Ou(a,r);let i=this.get(l);return i||(i=new pk({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){C(this,nr).has(t.queryHash)||(C(this,nr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,nr).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,nr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,nr).get(t)}getAll(){return[...C(this,nr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Qf(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Qf(t,n)):r}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nr=new WeakMap,Ym),_e,Qr,Wr,Cs,Es,Vr,Rs,Ps,Xm,Sk=(Xm=class{constructor(e={}){ne(this,_e);ne(this,Qr);ne(this,Wr);ne(this,Cs);ne(this,Es);ne(this,Vr);ne(this,Rs);ne(this,Ps);H(this,_e,e.queryCache||new Nk),H(this,Qr,e.mutationCache||new kk),H(this,Wr,e.defaultOptions||{}),H(this,Cs,new Map),H(this,Es,new Map),H(this,Vr,0)}mount(){yl(this,Vr)._++,C(this,Vr)===1&&(H(this,Rs,Du.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,_e).onFocus())})),H(this,Ps,Fi.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,_e).onOnline())})))}unmount(){var e,t;yl(this,Vr)._--,C(this,Vr)===0&&((e=C(this,Rs))==null||e.call(this),H(this,Rs,void 0),(t=C(this,Ps))==null||t.call(this),H(this,Ps,void 0))}isFetching(e){return C(this,_e).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Qr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,_e).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,_e).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(sn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,_e).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=C(this,_e).get(n.queryHash),l=a==null?void 0:a.state.data,i=ak(t,l);if(i!==void 0)return C(this,_e).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ke.batch(()=>C(this,_e).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,_e).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,_e);Ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,_e);return Ke.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ke.batch(()=>C(this,_e).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ht).catch(ht)}invalidateQueries(e,t={}){return Ke.batch(()=>(C(this,_e).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ke.batch(()=>C(this,_e).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(ht)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(ht)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,_e).build(this,t);return r.isStaleByTime(sn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ht).catch(ht)}fetchInfiniteQuery(e){return e.behavior=Xf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ht).catch(ht)}ensureInfiniteQueryData(e){return e.behavior=Xf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fi.isOnline()?C(this,Qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,_e)}getMutationCache(){return C(this,Qr)}getDefaultOptions(){return C(this,Wr)}setDefaultOptions(e){H(this,Wr,e)}setQueryDefaults(e,t){C(this,Cs).set(Qa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Cs).values()],r={};return t.forEach(n=>{Wa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Es).set(Qa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Es).values()],r={};return t.forEach(n=>{Wa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Wr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ou(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Iu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Wr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,_e).clear(),C(this,Qr).clear()}},_e=new WeakMap,Qr=new WeakMap,Wr=new WeakMap,Cs=new WeakMap,Es=new WeakMap,Vr=new WeakMap,Rs=new WeakMap,Ps=new WeakMap,Xm),eb=E.createContext(void 0),tb=e=>{const t=E.useContext(eb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ck=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(eb.Provider,{value:e,children:t})),rb=E.createContext(!1),Ek=()=>E.useContext(rb);rb.Provider;function Rk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Pk=E.createContext(Rk()),Lk=()=>E.useContext(Pk),Tk=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?qg(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},_k=e=>{E.useEffect(()=>{e.clearReset()},[e])},Ok=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||qg(r,[e.error,n])),Ik=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Dk=(e,t)=>e.isLoading&&e.isFetching&&!t,Mk=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,em=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ak(e,t,r){var f,m,x,g;const n=Ek(),a=Lk(),l=tb(),i=l.defaultQueryOptions(e);(m=(f=l.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i);const o=l.getQueryCache().get(i.queryHash);i._optimisticResults=n?"isRestoring":"optimistic",Ik(i),Tk(i,a,o),_k(a);const d=!l.getQueryCache().get(i.queryHash),[c]=E.useState(()=>new t(l,i)),u=c.getOptimisticResult(i),h=!n&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(v=>{const p=h?c.subscribe(Ke.batchCalls(v)):ht;return c.updateResult(),p},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(i)},[i,c]),Mk(i,u))throw em(i,c,a);if(Ok({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw u.error;if((g=(x=l.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||g.call(x,i,u),i.experimental_prefetchInRender&&!Hn&&Dk(u,n)){const v=d?em(i,c,a):o==null?void 0:o.promise;v==null||v.catch(ht).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Fk(e,t){return Ak(e,gk)}const $k=E.createContext({theme:"light",setTheme:()=>{}});function zk({children:e}){const[t,r]=E.useState("light"),n=E.useMemo(()=>new Sk({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),[]);return s.jsx($k.Provider,{value:{theme:t,setTheme:r},children:s.jsx(Ck,{client:n,children:e})})}const Uk=({items:e,onNavigate:t})=>s.jsx("nav",{"aria-label":"",className:"text-sm text-text-secondary mb-4",children:e.map((r,n)=>{const a=n===e.length-1;return s.jsxs("span",{className:"inline-flex items-center",children:[!a&&r.to?s.jsx("button",{type:"button",className:"hover:text-primary",onClick:()=>t==null?void 0:t(r.to),children:r.label}):s.jsx("span",{className:"text-text-main",children:r.label}),a?null:s.jsx("span",{className:"mx-2","aria-hidden":!0,children:"/"})]},`${r.label}-${n}`)})}),nb=()=>s.jsxs("header",{className:"h-14 px-4 flex items-center justify-between border-b border-border-light bg-white",role:"banner",children:[s.jsx("h1",{className:"text-base font-bold",children:""}),s.jsxs("div",{className:"text-sm text-text-secondary","aria-label":"user-menu",children:[s.jsx("span",{className:"material-symbols-outlined align-middle text-base mr-1",children:"person"}),""]})]}),G={login:"/login",dashboard:"/",courseSchedule:"/courses/schedule",courseScheduleNew:"/courses/schedule/new",recordings:"/recordings",recordingDetail:"/recordings/:recordingId",resourceLibrary:"/resources",resourceUpload:"/resources/upload",assignmentManagement:"/assignments",assignmentDetail:"/assignments/:assignmentId",assignmentNew:"/assignments/new",assignmentGrading:"/assignments/:assignmentId/grading",gradingWorkspace:"/assignments/grading",gradebook:"/assignments/gradebook",examManagement:"/exams",examDetail:"/exams/:examId",studentList:"/students",studentProfile:"/students/:studentId",questionBank:"/question-bank",teachingAnalytics:"/analytics",inbox:"/inbox",settings:"/settings",collaborationReview:"/collaboration/review",courseDetail:"/courses/:courseId",courseEdit:"/courses/:courseId/edit",liveTeaching:"/live",liveTeachingWithCourse:"/live/:courseId"};function sb(e){return`/live/${encodeURIComponent(e)}`}function Va(e){return G.courseDetail.replace(":courseId",encodeURIComponent(e))}function Bk(e){return G.courseEdit.replace(":courseId",encodeURIComponent(e))}function ab(e,t){const r=G.recordingDetail.replace(":recordingId",encodeURIComponent(e));return t?`${r}?courseId=${encodeURIComponent(t)}`:r}function Au(e){return e?`${G.recordings}?courseId=${encodeURIComponent(e)}`:G.recordings}function lb(e){return G.assignmentGrading.replace(":assignmentId",encodeURIComponent(e))}function Hk(e){return`${G.assignmentManagement}?notice=${encodeURIComponent(e)}`}function Qk(e){return G.studentProfile.replace(":studentId",encodeURIComponent(e))}const Wk=[],ib=({onNavigate:e})=>s.jsx("aside",{className:"w-60 bg-surface-light border-r border-border-light h-screen sticky top-0 p-4","aria-label":"",children:s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.dashboard),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.courseSchedule),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.assignmentManagement),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.gradingWorkspace),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.gradebook),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.examManagement),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.questionBank),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.recordings),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.resourceLibrary),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.teachingAnalytics),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.studentList),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.inbox),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.collaborationReview),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.settings),"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"block w-full text-left px-3 py-2 rounded hover:bg-input-bg",onClick:()=>e==null?void 0:e(G.liveTeaching),"aria-label":"",children:""})]})}),Vk=({children:e,onNavigate:t,breadcrumbItems:r})=>s.jsxs("div",{className:"flex min-h-screen bg-background-light text-text-main",role:"application",children:[s.jsx(ib,{onNavigate:t}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(nb,{}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-6",role:"main",children:[s.jsx(Uk,{items:r,onNavigate:t}),e]})]})]}),Kk=()=>{const e=$e(),t=(Zo==null?void 0:Zo())??[],r=w.useMemo(()=>{const n=t.filter(a=>{var l;return(l=a==null?void 0:a.handle)==null?void 0:l.title});return n.map((a,l)=>{const i=l===n.length-1;return{label:String(a.handle.title),to:!i&&a.pathname?String(a.pathname):void 0}})},[t]);return s.jsx(Vk,{onNavigate:n=>e(n),breadcrumbItems:r,children:s.jsx(io,{})})},qk=({children:e,onBack:t})=>s.jsxs("div",{className:"min-h-screen bg-black text-white",role:"presentation",children:[s.jsxs("header",{className:"h-12 px-4 flex items-center border-b border-white/10","aria-label":"",children:[s.jsxs("button",{type:"button",className:"text-sm font-medium flex items-center gap-1",onClick:t,"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"}),""]}),s.jsx("span",{className:"ml-3 text-sm text-white/80",children:""})]}),s.jsx("main",{className:"min-h-[calc(100vh-3rem)]",role:"main",children:e})]}),Gk=()=>{const e=$e();return s.jsx(qk,{onBack:()=>e(-1),children:s.jsx(io,{})})},Jk=({children:e,onNavigate:t})=>s.jsxs("div",{className:"flex min-h-screen bg-background-light text-text-main",role:"application",children:[s.jsx(ib,{onNavigate:t}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(nb,{}),s.jsx("main",{className:"flex-1 overflow-y-auto",role:"main",children:e})]})]}),Yk=()=>{const e=$e();return s.jsx(Jk,{onNavigate:t=>e(t),children:s.jsx(io,{})})},co=({children:e})=>s.jsx("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-text-main dark:text-white",children:e}),Xk=()=>s.jsx(co,{children:s.jsx(io,{})}),tm={urgent:"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300",normal:"bg-input-bg dark:bg-slate-700 text-text-secondary",completed:"bg-green-50 text-green-600",review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",pending:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300",draft:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300",published:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",closed:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"},Zk={urgent:"",normal:"",completed:"",review:"",pending:"",draft:"",published:"",closed:""},Fu=({id:e,title:t,classLabel:r,submittedAt:n,ungradedCount:a,status:l,note:i,size:o,onClick:d,onAction:c})=>{const u=l==="completed";return s.jsxs("li",{className:`bg-white dark:bg-slate-800/50 hover:bg-input-bg dark:hover:bg-slate-700/80 p-3 rounded-lg cursor-pointer transition-colors group border border-transparent hover:border-border-color dark:hover:border-slate-600 ${u?"opacity-70 hover:opacity-100":""}`,onClick:()=>d==null?void 0:d(e),role:"listitem","aria-label":t,children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[r?s.jsx("span",{className:`text-[10px] font-bold tracking-wide px-1.5 py-0.5 rounded uppercase ${tm[l]}`,children:r}):s.jsx("span",{className:`text-[10px] font-bold tracking-wide px-1.5 py-0.5 rounded uppercase ${tm[l]}`,children:Zk[l]}),n?s.jsx("span",{className:"text-[10px] text-text-secondary",children:n}):null]}),s.jsx("h4",{className:"font-bold text-text-main dark:text-slate-200 text-sm mb-3 group-hover:text-primary transition-colors line-clamp-1",children:t}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-text-secondary font-medium flex items-center gap-2",children:[typeof a=="number"?s.jsxs("span",{children:["",a," "]}):null,o?s.jsx("span",{children:o}):null,i?s.jsx("span",{className:"flex items-center gap-1 text-orange-600 bg-orange-50 dark:bg-orange-900/20 px-1.5 py-0.5 rounded text-[11px]",children:i}):null]}),u?s.jsxs("span",{className:"text-[10px] font-bold text-green-600 flex items-center gap-1 bg-green-50 px-2 py-0.5 rounded","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"check"})," "]}):s.jsx("button",{type:"button",className:"text-[10px] font-bold bg-white dark:bg-slate-600 border border-border-color dark:border-slate-500 px-2 py-1 rounded text-text-main dark:text-slate-300 group-hover:bg-primary group-hover:text-white group-hover:border-primary transition-colors shadow-sm",onClick:h=>{h.stopPropagation(),c==null||c(e)},"aria-label":"",children:""})]})]})},eN=({assignments:e,onSelect:t,onAction:r,onFilterChange:n,pagination:a,onPageChange:l})=>{const[i,o]=w.useState(""),[d,c]=w.useState(""),[u,h]=w.useState("");return w.useEffect(()=>{n==null||n({courseId:i||void 0,status:d||void 0,dueBefore:u||void 0})},[i,d,u,n]),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ID",s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",placeholder:" courseId",value:i,onChange:f=>o(f.target.value)})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:d,onChange:f=>c(f.target.value||""),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"published",children:""}),s.jsx("option",{value:"closed",children:""}),s.jsx("option",{value:"pending",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"urgent",children:""}),s.jsx("option",{value:"normal",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",type:"date",value:u,onChange:f=>h(f.target.value)})]})]}),s.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",role:"list",children:e.map(f=>s.jsx(Fu,{...f,status:f.status,onClick:t,onAction:r},f.id))}),e.length===0?s.jsx("div",{className:"text-sm text-text-secondary",children:""}):null,a?s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[s.jsxs("div",{children:[" ",a.page,"  ",Math.ceil(Math.max(1,a.total)/a.pageSize)," ",a.total," "]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-2 py-1 rounded border border-border-light disabled:opacity-50",onClick:()=>l==null?void 0:l(Math.max(1,a.page-1)),disabled:a.page<=1,children:""}),s.jsx("button",{className:"px-2 py-1 rounded border border-border-light disabled:opacity-50",onClick:()=>l==null?void 0:l(a.page+1),disabled:a.page*a.pageSize>=a.total,children:""})]})]}):null]})},$u=({open:e,onClose:t,title:r,children:n})=>e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-10",children:[s.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-60","aria-hidden":!0,onClick:t}),s.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-border-light dark:border-border-dark w-full max-w-lg overflow-hidden",children:[s.jsxs("div",{className:"px-4 pt-4 pb-2 sm:px-6 flex items-start justify-between",children:[r?s.jsx("h3",{className:"text-lg font-medium text-text-main dark:text-white",children:r}):s.jsx("span",{}),s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main hover:bg-black/5 rounded-full p-1 transition-colors","aria-label":"",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsx("div",{className:"px-4 pb-4 sm:px-6",children:n})]})]}):null,tN=({open:e,onClose:t,onSave:r,initialAssignment:n})=>{const[a,l]=w.useState(""),[i,o]=w.useState(""),[d,c]=w.useState(""),[u,h]=w.useState(""),[f,m]=w.useState(""),[x,g]=w.useState(""),[v,p]=w.useState("draft"),[b,y]=w.useState(!1);w.useEffect(()=>{n?(l(n.title),o(n.note??""),c(n.dueAt??""),h(n.courseId??""),m(n.size??""),g(""),p(n.status)):(l(""),o(""),c(""),h(""),m(""),g(""),p("draft"))},[n]);const j=async R=>{R.preventDefault(),y(!0),await r({title:a,note:i,dueAt:d||void 0,courseId:u||"unknown-course",size:f||void 0,status:v}),y(!1),t()},N=()=>{g("Q-101, Q-205")};return s.jsx($u,{open:e,onClose:t,title:n?"":"",children:s.jsxs("form",{className:"space-y-4",onSubmit:j,children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:a,onChange:R=>l(R.target.value),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("textarea",{className:"min-h-[80px] px-3 py-2 rounded-lg border border-border-light",value:i,onChange:R=>o(R.target.value),placeholder:""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ID",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:u,onChange:R=>h(R.target.value),placeholder:"course-001"})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"datetime-local",value:d,onChange:R=>c(R.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light",value:v,onChange:R=>p(R.target.value),children:[s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"published",children:""}),s.jsx("option",{value:"closed",children:""}),s.jsx("option",{value:"pending",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"urgent",children:""}),s.jsx("option",{value:"normal",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:f,onChange:R=>m(R.target.value),placeholder:"PPTPDF"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light flex-1",value:x,onChange:R=>g(R.target.value),placeholder:" ID "}),s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light bg-white text-xs",onClick:N,children:""})]}),s.jsx("p",{className:"text-[11px] text-text-tertiary",children:"TODO: "})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",onClick:t,children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:b,children:b?"...":""})]})]})})};function ob(e,t){return function(){return e.apply(t,arguments)}}const{toString:rN}=Object.prototype,{getPrototypeOf:zu}=Object,{iterator:uo,toStringTag:db}=Symbol,ho=(e=>t=>{const r=rN.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jt=e=>(e=e.toLowerCase(),t=>ho(t)===e),fo=e=>t=>typeof t===e,{isArray:Hs}=Array,As=fo("undefined");function dl(e){return e!==null&&!As(e)&&e.constructor!==null&&!As(e.constructor)&&bt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cb=Jt("ArrayBuffer");function nN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cb(e.buffer),t}const sN=fo("string"),bt=fo("function"),ub=fo("number"),cl=e=>e!==null&&typeof e=="object",aN=e=>e===!0||e===!1,ci=e=>{if(ho(e)!=="object")return!1;const t=zu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(db in e)&&!(uo in e)},lN=e=>{if(!cl(e)||dl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},iN=Jt("Date"),oN=Jt("File"),dN=Jt("Blob"),cN=Jt("FileList"),uN=e=>cl(e)&&bt(e.pipe),hN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||bt(e.append)&&((t=ho(e))==="formdata"||t==="object"&&bt(e.toString)&&e.toString()==="[object FormData]"))},fN=Jt("URLSearchParams"),[mN,xN,pN,gN]=["ReadableStream","Request","Response","Headers"].map(Jt),bN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ul(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Hs(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(dl(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function hb(e,t){if(dl(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fb=e=>!As(e)&&e!==Sn;function wc(){const{caseless:e,skipUndefined:t}=fb(this)&&this||{},r={},n=(a,l)=>{const i=e&&hb(r,l)||l;ci(r[i])&&ci(a)?r[i]=wc(r[i],a):ci(a)?r[i]=wc({},a):Hs(a)?r[i]=a.slice():(!t||!As(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&ul(arguments[a],n);return r}const yN=(e,t,r,{allOwnKeys:n}={})=>(ul(t,(a,l)=>{r&&bt(a)?e[l]=ob(a,r):e[l]=a},{allOwnKeys:n}),e),vN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jN=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},wN=(e,t,r,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&zu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kN=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},NN=e=>{if(!e)return null;if(Hs(e))return e;let t=e.length;if(!ub(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},SN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zu(Uint8Array)),CN=(e,t)=>{const n=(e&&e[uo]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},EN=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},RN=Jt("HTMLFormElement"),PN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),rm=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),LN=Jt("RegExp"),mb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ul(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},TN=e=>{mb(e,(t,r)=>{if(bt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(bt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_N=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return Hs(e)?n(e):n(String(e).split(t)),r},ON=()=>{},IN=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function DN(e){return!!(e&&bt(e.append)&&e[db]==="FormData"&&e[uo])}const MN=e=>{const t=new Array(10),r=(n,a)=>{if(cl(n)){if(t.indexOf(n)>=0)return;if(dl(n))return n;if(!("toJSON"in n)){t[a]=n;const l=Hs(n)?[]:{};return ul(n,(i,o)=>{const d=r(i,a+1);!As(d)&&(l[o]=d)}),t[a]=void 0,l}}return n};return r(e,0)},AN=Jt("AsyncFunction"),FN=e=>e&&(cl(e)||bt(e))&&bt(e.then)&&bt(e.catch),xb=((e,t)=>e?setImmediate:t?((r,n)=>(Sn.addEventListener("message",({source:a,data:l})=>{a===Sn&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Sn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",bt(Sn.postMessage)),$N=typeof queueMicrotask<"u"?queueMicrotask.bind(Sn):typeof process<"u"&&process.nextTick||xb,zN=e=>e!=null&&bt(e[uo]),O={isArray:Hs,isArrayBuffer:cb,isBuffer:dl,isFormData:hN,isArrayBufferView:nN,isString:sN,isNumber:ub,isBoolean:aN,isObject:cl,isPlainObject:ci,isEmptyObject:lN,isReadableStream:mN,isRequest:xN,isResponse:pN,isHeaders:gN,isUndefined:As,isDate:iN,isFile:oN,isBlob:dN,isRegExp:LN,isFunction:bt,isStream:uN,isURLSearchParams:fN,isTypedArray:SN,isFileList:cN,forEach:ul,merge:wc,extend:yN,trim:bN,stripBOM:vN,inherits:jN,toFlatObject:wN,kindOf:ho,kindOfTest:Jt,endsWith:kN,toArray:NN,forEachEntry:CN,matchAll:EN,isHTMLForm:RN,hasOwnProperty:rm,hasOwnProp:rm,reduceDescriptors:mb,freezeMethods:TN,toObjectSet:_N,toCamelCase:PN,noop:ON,toFiniteNumber:IN,findKey:hb,global:Sn,isContextDefined:fb,isSpecCompliantForm:DN,toJSONObject:MN,isAsyncFn:AN,isThenable:FN,setImmediate:xb,asap:$N,isIterable:zN};function le(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}O.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const pb=le.prototype,gb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gb[e]={value:e}});Object.defineProperties(le,gb);Object.defineProperty(pb,"isAxiosError",{value:!0});le.from=(e,t,r,n,a,l)=>{const i=Object.create(pb);O.toFlatObject(e,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return le.call(i,o,d,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const UN=null;function kc(e){return O.isPlainObject(e)||O.isArray(e)}function bb(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function nm(e,t,r){return e?e.concat(t).map(function(a,l){return a=bb(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function BN(e){return O.isArray(e)&&!e.some(kc)}const HN=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function mo(e,t,r){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=O.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!O.isUndefined(v[g])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(a))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(O.isDate(x))return x.toISOString();if(O.isBoolean(x))return x.toString();if(!d&&O.isBlob(x))throw new le("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(x)||O.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,g,v){let p=x;if(x&&!v&&typeof x=="object"){if(O.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(O.isArray(x)&&BN(x)||(O.isFileList(x)||O.endsWith(g,"[]"))&&(p=O.toArray(x)))return g=bb(g),p.forEach(function(y,j){!(O.isUndefined(y)||y===null)&&t.append(i===!0?nm([g],j,l):i===null?g:g+"[]",c(y))}),!1}return kc(x)?!0:(t.append(nm(v,g,l),c(x)),!1)}const h=[],f=Object.assign(HN,{defaultVisitor:u,convertValue:c,isVisitable:kc});function m(x,g){if(!O.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),O.forEach(x,function(p,b){(!(O.isUndefined(p)||p===null)&&a.call(t,p,O.isString(b)?b.trim():b,g,f))===!0&&m(p,g?g.concat(b):[b])}),h.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return m(e),t}function sm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Uu(e,t){this._pairs=[],e&&mo(e,this,t)}const yb=Uu.prototype;yb.append=function(t,r){this._pairs.push([t,r])};yb.toString=function(t){const r=t?function(n){return t.call(this,n,sm)}:sm;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function QN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vb(e,t,r){if(!t)return e;const n=r&&r.encode||QN;O.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=O.isURLSearchParams(t)?t.toString():new Uu(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class am{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(n){n!==null&&t(n)})}}const jb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WN=typeof URLSearchParams<"u"?URLSearchParams:Uu,VN=typeof FormData<"u"?FormData:null,KN=typeof Blob<"u"?Blob:null,qN={isBrowser:!0,classes:{URLSearchParams:WN,FormData:VN,Blob:KN},protocols:["http","https","file","blob","url","data"]},Bu=typeof window<"u"&&typeof document<"u",Nc=typeof navigator=="object"&&navigator||void 0,GN=Bu&&(!Nc||["ReactNative","NativeScript","NS"].indexOf(Nc.product)<0),JN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YN=Bu&&window.location.href||"http://localhost",XN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bu,hasStandardBrowserEnv:GN,hasStandardBrowserWebWorkerEnv:JN,navigator:Nc,origin:YN},Symbol.toStringTag,{value:"Module"})),rt={...XN,...qN};function ZN(e,t){return mo(e,new rt.classes.URLSearchParams,{visitor:function(r,n,a,l){return rt.isNode&&O.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function e1(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t1(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function wb(e){function t(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),d=l>=r.length;return i=!i&&O.isArray(a)?a.length:i,d?(O.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!O.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],l)&&O.isArray(a[i])&&(a[i]=t1(a[i])),!o)}if(O.isFormData(e)&&O.isFunction(e.entries)){const r={};return O.forEachEntry(e,(n,a)=>{t(e1(n),a,r,0)}),r}return null}function r1(e,t,r){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const hl={transitional:jb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=O.isObject(t);if(l&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return a?JSON.stringify(wb(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ZN(t,this.formSerializer).toString();if((o=O.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return mo(o?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),r1(t)):t}],transformResponse:[function(t){const r=this.transitional||hl.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?le.from(o,le.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{hl.headers[e]={}});const n1=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s1=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&n1[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lm=Symbol("internals");function la(e){return e&&String(e).trim().toLowerCase()}function ui(e){return e===!1||e==null?e:O.isArray(e)?e.map(ui):String(e)}function a1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const l1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function td(e,t,r,n,a){if(O.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!O.isString(t)){if(O.isString(n))return t.indexOf(n)!==-1;if(O.isRegExp(n))return n.test(t)}}function i1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function o1(e,t){const r=O.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}let yt=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(o,d,c){const u=la(d);if(!u)throw new Error("header name must be a non-empty string");const h=O.findKey(a,u);(!h||a[h]===void 0||c===!0||c===void 0&&a[h]!==!1)&&(a[h||d]=ui(o))}const i=(o,d)=>O.forEach(o,(c,u)=>l(c,u,d));if(O.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(O.isString(t)&&(t=t.trim())&&!l1(t))i(s1(t),r);else if(O.isObject(t)&&O.isIterable(t)){let o={},d,c;for(const u of t){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(d=o[c])?O.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=la(t),t){const n=O.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return a1(a);if(O.isFunction(r))return r.call(this,a,n);if(O.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=la(t),t){const n=O.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||td(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(i){if(i=la(i),i){const o=O.findKey(n,i);o&&(!r||td(n,n[o],o,r))&&(delete n[o],a=!0)}}return O.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||td(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return O.forEach(this,(a,l)=>{const i=O.findKey(n,l);if(i){r[i]=ui(a),delete r[l];return}const o=t?i1(l):String(l).trim();o!==l&&delete r[l],r[o]=ui(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return O.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&O.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[lm]=this[lm]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=la(i);n[o]||(o1(a,i),n[o]=!0)}return O.isArray(t)?t.forEach(l):l(t),this}};yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(yt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});O.freezeMethods(yt);function rd(e,t){const r=this||hl,n=t||r,a=yt.from(n.headers);let l=n.data;return O.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function kb(e){return!!(e&&e.__CANCEL__)}function Qs(e,t,r){le.call(this,e??"canceled",le.ERR_CANCELED,t,r),this.name="CanceledError"}O.inherits(Qs,le,{__CANCEL__:!0});function Nb(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new le("Request failed with status code "+r.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function d1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function c1(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=n[l];i||(i=c),r[a]=d,n[a]=c;let h=l,f=0;for(;h!==a;)f+=r[h++],h=h%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),c-i<t)return;const m=u&&c-u;return m?Math.round(f*1e3/m):void 0}}function u1(e,t){let r=0,n=1e3/t,a,l;const i=(c,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),e(...c)};return[(...c)=>{const u=Date.now(),h=u-r;h>=n?i(c,u):(a=c,l||(l=setTimeout(()=>{l=null,i(a)},n-h)))},()=>a&&i(a)]}const $i=(e,t,r=3)=>{let n=0;const a=c1(50,250);return u1(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,d=i-n,c=a(d),u=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},im=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},om=e=>(...t)=>O.asap(()=>e(...t)),h1=rt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,f1=rt.hasStandardBrowserEnv?{write(e,t,r,n,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];O.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),O.isString(n)&&o.push(`path=${n}`),O.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),O.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function m1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function x1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Sb(e,t,r){let n=!m1(t);return e&&(n||r==!1)?x1(e,t):t}const dm=e=>e instanceof yt?{...e}:e;function Qn(e,t){t=t||{};const r={};function n(c,u,h,f){return O.isPlainObject(c)&&O.isPlainObject(u)?O.merge.call({caseless:f},c,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function a(c,u,h,f){if(O.isUndefined(u)){if(!O.isUndefined(c))return n(void 0,c,h,f)}else return n(c,u,h,f)}function l(c,u){if(!O.isUndefined(u))return n(void 0,u)}function i(c,u){if(O.isUndefined(u)){if(!O.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const d={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,u,h)=>a(dm(c),dm(u),h,!0)};return O.forEach(Object.keys({...e,...t}),function(u){const h=d[u]||a,f=h(e[u],t[u],u);O.isUndefined(f)&&h!==o||(r[u]=f)}),r}const Cb=e=>{const t=Qn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=yt.from(i),t.url=vb(Sb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),O.isFormData(r)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(O.isFunction(r.getHeaders)){const d=r.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,h])=>{c.includes(u.toLowerCase())&&i.set(u,h)})}}if(rt.hasStandardBrowserEnv&&(n&&O.isFunction(n)&&(n=n(t)),n||n!==!1&&h1(t.url))){const d=a&&l&&f1.read(l);d&&i.set(a,d)}return t},p1=typeof XMLHttpRequest<"u",g1=p1&&function(e){return new Promise(function(r,n){const a=Cb(e);let l=a.data;const i=yt.from(a.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=a,u,h,f,m,x;function g(){m&&m(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function p(){if(!v)return;const y=yt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:y,config:e,request:v};Nb(function(k){r(k),g()},function(k){n(k),g()},N),v=null}"onloadend"in v?v.onloadend=p:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(p)},v.onabort=function(){v&&(n(new le("Request aborted",le.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const N=j&&j.message?j.message:"Network Error",R=new le(N,le.ERR_NETWORK,e,v);R.event=j||null,n(R),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||jb;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new le(j,N.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,v)),v=null},l===void 0&&i.setContentType(null),"setRequestHeader"in v&&O.forEach(i.toJSON(),function(j,N){v.setRequestHeader(N,j)}),O.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),c&&([f,x]=$i(c,!0),v.addEventListener("progress",f)),d&&v.upload&&([h,m]=$i(d),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=y=>{v&&(n(!y||y.type?new Qs(null,e,v):y),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const b=d1(a.url);if(b&&rt.protocols.indexOf(b)===-1){n(new le("Unsupported protocol "+b+":",le.ERR_BAD_REQUEST,e));return}v.send(l||null)})},b1=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(c){if(!a){a=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof le?u:new Qs(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),e=null)};e.forEach(c=>c.addEventListener("abort",l));const{signal:d}=n;return d.unsubscribe=()=>O.asap(o),d}},y1=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},v1=async function*(e,t){for await(const r of j1(e))yield*y1(r,t)},j1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},cm=(e,t,r,n)=>{const a=v1(e,t);let l=0,i,o=d=>{i||(i=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await a.next();if(c){o(),d.close();return}let h=u.byteLength;if(r){let f=l+=h;r(f)}d.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(d){return o(d),a.return()}},{highWaterMark:2})},um=64*1024,{isFunction:Ul}=O,w1=(({Request:e,Response:t})=>({Request:e,Response:t}))(O.global),{ReadableStream:hm,TextEncoder:fm}=O.global,mm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},k1=e=>{e=O.merge.call({skipUndefined:!0},w1,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ul(t):typeof fetch=="function",l=Ul(r),i=Ul(n);if(!a)return!1;const o=a&&Ul(hm),d=a&&(typeof fm=="function"?(x=>g=>x.encode(g))(new fm):async x=>new Uint8Array(await new r(x).arrayBuffer())),c=l&&o&&mm(()=>{let x=!1;const g=new r(rt.origin,{body:new hm,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),u=i&&o&&mm(()=>O.isReadableStream(new n("").body)),h={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(g,v)=>{let p=g&&g[x];if(p)return p.call(g);throw new le(`Response type '${x}' is not supported`,le.ERR_NOT_SUPPORT,v)})});const f=async x=>{if(x==null)return 0;if(O.isBlob(x))return x.size;if(O.isSpecCompliantForm(x))return(await new r(rt.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(O.isArrayBufferView(x)||O.isArrayBuffer(x))return x.byteLength;if(O.isURLSearchParams(x)&&(x=x+""),O.isString(x))return(await d(x)).byteLength},m=async(x,g)=>{const v=O.toFiniteNumber(x.getContentLength());return v??f(g)};return async x=>{let{url:g,method:v,data:p,signal:b,cancelToken:y,timeout:j,onDownloadProgress:N,onUploadProgress:R,responseType:k,headers:P,withCredentials:T="same-origin",fetchOptions:D}=Cb(x),z=t||fetch;k=k?(k+"").toLowerCase():"text";let M=b1([b,y&&y.toAbortSignal()],j),Q=null;const Y=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let ce;try{if(R&&c&&v!=="get"&&v!=="head"&&(ce=await m(P,p))!==0){let re=new r(g,{method:"POST",body:p,duplex:"half"}),se;if(O.isFormData(p)&&(se=re.headers.get("content-type"))&&P.setContentType(se),re.body){const[Le,ke]=im(ce,$i(om(R)));p=cm(re.body,um,Le,ke)}}O.isString(T)||(T=T?"include":"omit");const q=l&&"credentials"in r.prototype,U={...D,signal:M,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:p,duplex:"half",credentials:q?T:void 0};Q=l&&new r(g,U);let I=await(l?z(Q,D):z(g,U));const B=u&&(k==="stream"||k==="response");if(u&&(N||B&&Y)){const re={};["status","statusText","headers"].forEach(Ne=>{re[Ne]=I[Ne]});const se=O.toFiniteNumber(I.headers.get("content-length")),[Le,ke]=N&&im(se,$i(om(N),!0))||[];I=new n(cm(I.body,um,Le,()=>{ke&&ke(),Y&&Y()}),re)}k=k||"text";let W=await h[O.findKey(h,k)||"text"](I,x);return!B&&Y&&Y(),await new Promise((re,se)=>{Nb(re,se,{data:W,headers:yt.from(I.headers),status:I.status,statusText:I.statusText,config:x,request:Q})})}catch(q){throw Y&&Y(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,x,Q),{cause:q.cause||q}):le.from(q,q&&q.code,x,Q)}}},N1=new Map,Eb=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,l=[n,a,r];let i=l.length,o=i,d,c,u=N1;for(;o--;)d=l[o],c=u.get(d),c===void 0&&u.set(d,c=o?new Map:k1(t)),u=c;return c};Eb();const Hu={http:UN,xhr:g1,fetch:{get:Eb}};O.forEach(Hu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xm=e=>`- ${e}`,S1=e=>O.isFunction(e)||e===null||e===!1;function C1(e,t){e=O.isArray(e)?e:[e];const{length:r}=e;let n,a;const l={};for(let i=0;i<r;i++){n=e[i];let o;if(a=n,!S1(n)&&(a=Hu[(o=String(n)).toLowerCase()],a===void 0))throw new le(`Unknown adapter '${o}'`);if(a&&(O.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(xm).join(`
`):" "+xm(i[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const Rb={getAdapter:C1,adapters:Hu};function nd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qs(null,e)}function pm(e){return nd(e),e.headers=yt.from(e.headers),e.data=rd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rb.getAdapter(e.adapter||hl.adapter,e)(e).then(function(n){return nd(e),n.data=rd.call(e,e.transformResponse,n),n.headers=yt.from(n.headers),n},function(n){return kb(n)||(nd(e),n&&n.response&&(n.response.data=rd.call(e,e.transformResponse,n.response),n.response.headers=yt.from(n.response.headers))),Promise.reject(n)})}const Pb="1.13.2",xo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gm={};xo.transitional=function(t,r,n){function a(l,i){return"[Axios v"+Pb+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new le(a(i," has been removed"+(r?" in "+r:"")),le.ERR_DEPRECATED);return r&&!gm[i]&&(gm[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};xo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function E1(e,t,r){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],d=o===void 0||i(o,l,e);if(d!==!0)throw new le("option "+l+" must be "+d,le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new le("Unknown option "+l,le.ERR_BAD_OPTION)}}const hi={assertOptions:E1,validators:xo},Zt=hi.validators;let An=class{constructor(t){this.defaults=t||{},this.interceptors={request:new am,response:new am}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Qn(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&hi.assertOptions(n,{silentJSONParsing:Zt.transitional(Zt.boolean),forcedJSONParsing:Zt.transitional(Zt.boolean),clarifyTimeoutError:Zt.transitional(Zt.boolean)},!1),a!=null&&(O.isFunction(a)?r.paramsSerializer={serialize:a}:hi.assertOptions(a,{encode:Zt.function,serialize:Zt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hi.assertOptions(r,{baseUrl:Zt.spelling("baseURL"),withXsrfToken:Zt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&O.merge(l.common,l[r.method]);l&&O.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),r.headers=yt.concat(i,l);const o=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!d){const x=[pm.bind(this),void 0];for(x.unshift(...o),x.push(...c),f=x.length,u=Promise.resolve(r);h<f;)u=u.then(x[h++],x[h++]);return u}f=o.length;let m=r;for(;h<f;){const x=o[h++],g=o[h++];try{m=x(m)}catch(v){g.call(this,v);break}}try{u=pm.call(this,m)}catch(x){return Promise.reject(x)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Qn(this.defaults,t);const r=Sb(t.baseURL,t.url,t.allowAbsoluteUrls);return vb(r,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){An.prototype[t]=function(r,n){return this.request(Qn(n||{},{method:t,url:r,data:(n||{}).data}))}});O.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request(Qn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}An.prototype[t]=r(),An.prototype[t+"Form"]=r(!0)});let R1=class Lb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new Qs(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Lb(function(a){t=a}),cancel:t}}};function P1(e){return function(r){return e.apply(null,r)}}function L1(e){return O.isObject(e)&&e.isAxiosError===!0}const Sc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sc).forEach(([e,t])=>{Sc[t]=e});function Tb(e){const t=new An(e),r=ob(An.prototype.request,t);return O.extend(r,An.prototype,t,{allOwnKeys:!0}),O.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Tb(Qn(e,a))},r}const De=Tb(hl);De.Axios=An;De.CanceledError=Qs;De.CancelToken=R1;De.isCancel=kb;De.VERSION=Pb;De.toFormData=mo;De.AxiosError=le;De.Cancel=De.CanceledError;De.all=function(t){return Promise.all(t)};De.spread=P1;De.isAxiosError=L1;De.mergeConfig=Qn;De.AxiosHeaders=yt;De.formToJSON=e=>wb(O.isHTMLForm(e)?new FormData(e):e);De.getAdapter=Rb.getAdapter;De.HttpStatusCode=Sc;De.default=De;const{Axios:jC,AxiosError:wC,CanceledError:kC,isCancel:NC,CancelToken:SC,VERSION:CC,all:EC,Cancel:RC,isAxiosError:PC,spread:LC,toFormData:TC,AxiosHeaders:_C,HttpStatusCode:OC,formToJSON:IC,getAdapter:DC,mergeConfig:MC}=De,me=De.create({baseURL:"/api",timeout:2e4,headers:{"Content-Type":"application/json"}});me.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");if(t){const r=e.headers??{};r.Authorization=`Bearer ${t}`,e.headers=r}return e});const T1=[{id:"s001",studentNumber:"2026001",name:"",avatar:null,classId:"class-A",courseId:"course-001",grade:"",className:"A",group:"A",overallScore:87,onlineStatus:"online",attendance:"present",lastActive:""},{id:"s002",studentNumber:"2026002",name:"",avatar:null,classId:"class-A",courseId:"course-001",grade:"",className:"A",group:"A",overallScore:74,onlineStatus:"offline",attendance:"absent",lastActive:"2"},{id:"s003",studentNumber:"2026003",name:"",avatar:null,classId:"class-B",courseId:"course-002",grade:"",className:"",group:"B",overallScore:92,onlineStatus:"online",attendance:"present",lastActive:"5"},{id:"s004",studentNumber:"2026004",name:"",avatar:null,classId:"class-A",courseId:"course-001",grade:"",className:"A",group:"B",overallScore:81,onlineStatus:"online",attendance:"present",lastActive:""},{id:"s005",studentNumber:"2026005",name:"",avatar:null,classId:"class-B",courseId:"course-002",grade:"",className:"",group:"A",overallScore:88,onlineStatus:"idle",attendance:"present",lastActive:"30"}],_1=[{id:"course-001",title:"  ",description:"",subtitle:"",teacher:"",teacher_id:"u1",classLabel:"A",schedule:" 19:00-20:30",term:"2025-2026",timeRange:"19:00 - 20:30",studentsCount:32,status:"upcoming",stats:{studentsTotal:32,participationRate:92,homeworkSubmissionRate:85}},{id:"course-002",title:"",description:"",subtitle:"",teacher:"",teacher_id:"u1",classLabel:"",schedule:" 14:00-16:00",term:"2025-2026",timeRange:"14:00 - 16:00",studentsCount:40,status:"live",stats:{studentsTotal:40,participationRate:88,homeworkSubmissionRate:78}},{id:"course-003",title:"",description:"",subtitle:"",teacher:"",teacher_id:"u1",classLabel:"",schedule:" 09:00-12:00",term:"2025-2026",timeRange:"09:00 - 12:00",studentsCount:25,status:"completed",stats:{studentsTotal:25,participationRate:95,homeworkSubmissionRate:90}}],O1=[{id:"live-9001",course_id:"course-002",start_time:"2026-01-12T14:00:00+08:00",end_time:null,status:"live",recording_id:null}],I1=[{id:"rec-001",courseId:"course-001",title:" 2026-01-05",duration:"01:30:00",date:"2026-01-05",status:"ready",preview:"",created_at:"2026-01-05T20:30:00+08:00",play_url:""},{id:"rec-002",courseId:"course-002",title:" 2026-01-08",duration:"02:00:00",date:"2026-01-08",status:"ready",preview:"",created_at:"2026-01-08T16:05:00+08:00",play_url:""}],D1=[{id:"assign-101",courseId:"course-001",title:"",description:"",dueAt:"2026-01-15T23:59:00+08:00",totalPoints:100,status:"published",submissionsCount:28,ungradedCount:8,classLabel:"A",priority:"high",created_at:"2026-01-10T10:00:00+08:00"},{id:"assign-102",courseId:"course-002",title:"",description:"",dueAt:"2026-01-20T23:59:00+08:00",totalPoints:100,status:"draft",submissionsCount:0,ungradedCount:0,classLabel:"",priority:"normal",created_at:"2026-01-11T09:00:00+08:00"},{id:"assign-103",courseId:"course-001",title:"",description:"",dueAt:"2026-01-18T23:59:00+08:00",totalPoints:80,status:"published",submissionsCount:15,ungradedCount:5,classLabel:"A",priority:"normal",created_at:"2026-01-12T14:00:00+08:00"},{id:"assign-104",courseId:"course-002",title:"",description:"",dueAt:"2026-01-22T23:59:00+08:00",totalPoints:100,status:"published",submissionsCount:35,ungradedCount:12,classLabel:"",priority:"high",created_at:"2026-01-08T10:00:00+08:00"}],M1={metrics:[{key:"participation",label:"",value:92,unit:"%",color:"blue"},{key:"accuracy",label:"",value:78,unit:"%",color:"orange"},{key:"hands",label:"",value:5,unit:"",color:"purple"}]},Fs={students:T1,courses:_1,live_sessions:O1,recordings:I1,assignments:D1,dashboard:M1},A1="mock.assignments",Cc=Fs;function F1(){if(typeof window>"u")return[...Cc.assignments??[]];try{const e=window.localStorage.getItem(A1);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("assignments load failed, fallback to seed",e)}return[...Cc.assignments??[]]}F1();[...Cc.grades??[]];const ar={async list(e){const t=await me.get("/assignments",{params:e});return Array.isArray(t.data)?t.data:[]},async get(e){return(await me.get(`/assignments/${e}`)).data},async create(e){return(await me.post("/assignments",e)).data},async update(e,t){return(await me.put(`/assignments/${e}`,t)).data},async remove(e){return await me.delete(`/assignments/${e}`),!0},async exportCsv(e){return(await me.get("/assignments/export",{params:e})).data},async importCsv(e){return(await me.post("/assignments/import",e)).data},async grade(e,t,r){return(await me.post(`/assignments/${e}/grade`,r)).data},async saveDraft(e,t,r){return(await me.post(`/assignments/${e}/grade/draft`,r)).data}},$1={page:1,pageSize:8,total:0};function z1(e={}){const[t,r]=w.useState([]),[n,a]=w.useState(e),[l,i]=w.useState($1),[o,d]=w.useState(!1),[c,u]=w.useState(void 0),h=w.useCallback(async()=>{d(!0),u(void 0);try{const p=await ar.list();r(p),i(b=>({...b,total:p.length}))}catch(p){u(p)}finally{d(!1)}},[]);w.useEffect(()=>{h()},[h]);const f=w.useMemo(()=>t.filter(p=>!(n.courseId&&p.courseId!==n.courseId||n.status&&p.status!==n.status||n.dueBefore&&p.dueAt&&p.dueAt>n.dueBefore)),[n,t]);w.useEffect(()=>{i(p=>({...p,total:f.length,page:Math.min(p.page,Math.max(1,Math.ceil(f.length/p.pageSize)||1))}))},[f]);const m=w.useMemo(()=>{const p=(l.page-1)*l.pageSize;return f.slice(p,p+l.pageSize)},[f,l.page,l.pageSize]),x=w.useCallback(async p=>{const b=await ar.create(p);return r(y=>[b,...y.filter(j=>j.id!==b.id)]),i(y=>({...y,total:y.total+1})),b},[]),g=w.useCallback(async(p,b)=>{const y=await ar.update(p,b);return r(j=>j.map(N=>N.id===p?y:N)),y},[]),v=w.useCallback(async p=>{await ar.remove(p),r(b=>b.filter(y=>y.id!==p)),i(b=>({...b,total:Math.max(0,b.total-1)}))},[]);return{assignments:m,isLoading:o,error:c,filters:n,setFilters:p=>a(b=>({...b,...p})),pagination:l,setPage:p=>i(b=>({...b,page:p})),setPageSize:p=>i(b=>({...b,pageSize:p,page:1})),createAssignment:x,updateAssignment:g,deleteAssignment:v,refetch:h}}const U1=()=>{const{assignments:e,isLoading:t,error:r,filters:n,setFilters:a,pagination:l,setPage:i,setPageSize:o,createAssignment:d,updateAssignment:c,refetch:u}=z1(),[h,f]=w.useState(!1),[m,x]=w.useState(null),[g,v]=w.useState(null),p=w.useRef(null);w.useEffect(()=>{try{const T=new URLSearchParams(typeof window<"u"?window.location.search:"").get("notice");if(!T)return;v(T==="published"?"":T==="draft"?"":decodeURIComponent(T))}catch{}},[]);const b=()=>{x(null),f(!0)},y=async P=>{m?(await c(m.id,P),v("")):(await d(P),v(""))},j=P=>{const T=e.find(D=>D.id===P);x(T??null),f(!0)},N=()=>{var P;(P=p.current)==null||P.click()},R=async P=>{if(P)try{const T=await P.text(),D=await ar.importCsv({csvText:T,defaultCourseId:n.courseId});v(`CSV  ${D.imported} `),await u()}catch(T){v(`CSV ${(T==null?void 0:T.message)||""}`)}},k=async()=>{try{const{filename:P,csv:T}=await ar.exportCsv({courseId:n.courseId,status:n.status}),D=new Blob([T],{type:"text/csv;charset=utf-8"}),z=URL.createObjectURL(D),M=document.createElement("a");M.href=z,M.download=P,M.click(),URL.revokeObjectURL(z),v(" CSV")}catch(P){v(`CSV ${(P==null?void 0:P.message)||""}`)}};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("input",{ref:p,type:"file",accept:".csv,text/csv",className:"hidden","aria-label":" CSV ",onChange:P=>{var T;return void R(((T=P.target.files)==null?void 0:T.item(0))??null)}}),s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:"/"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:N,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"upload"}),s.jsx("span",{className:"ml-1",children:"CSV "})]}),s.jsxs("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:k,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"download"}),s.jsx("span",{className:"ml-1",children:" CSV"})]}),s.jsxs("button",{className:"px-3 h-10 rounded-lg bg-primary text-white text-sm shadow",onClick:b,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"add"}),s.jsx("span",{className:"ml-1",children:""})]})]})]}),g?s.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[s.jsx("p",{children:g}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>v(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(eN,{assignments:e,onSelect:j,onAction:j,onFilterChange:a,pagination:l,onPageChange:i}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[s.jsxs("div",{children:["",n.courseId?` ${n.courseId}`:""," / ",n.status??""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{className:"flex items-center gap-1",children:[s.jsx("span",{children:""}),s.jsxs("select",{className:"h-8 px-2 rounded border border-border-light",value:l.pageSize,onChange:P=>o(Number(P.target.value)),children:[s.jsx("option",{value:6,children:"6"}),s.jsx("option",{value:8,children:"8"}),s.jsx("option",{value:12,children:"12"})]}),s.jsx("span",{children:""})]}),s.jsx("button",{className:"px-3 h-8 rounded-lg border border-border-light bg-white text-xs",onClick:()=>void u(),children:""})]})]}),s.jsx(tN,{open:h,onClose:()=>f(!1),onSave:y,initialAssignment:m})]})};function Qu(e,t,r){const n=lo(),[a]=_u();return w.useMemo(()=>{var o,d;const l=(o=n[e])==null?void 0:o.trim();if(l)return{id:l,isFromParams:!0,isFromQuery:!1,isFromFallback:!1,source:"params"};const i=(d=a.get(e))==null?void 0:d.trim();return i?{id:i,isFromParams:!1,isFromQuery:!0,isFromFallback:!1,source:"query"}:t?{id:t,isFromParams:!1,isFromQuery:!1,isFromFallback:!0,source:"fallback"}:{id:void 0,isFromParams:!1,isFromQuery:!1,isFromFallback:!1,source:"none"}},[n,a,e,t])}function po(e){return Qu("courseId",e)}function _b(e){return Qu("recordingId",e)}function Ob(e){return Qu("assignmentId",e)}const B1=()=>{const e=$e(),{id:t,source:r}=Ob(),[n,a]=w.useState(null),[l,i]=w.useState(!0),[o,d]=w.useState(null);w.useEffect(()=>{if(!t){d(new Error(" ID")),i(!1);return}let x=!1;return(async()=>{i(!0),d(null);try{const v=await ar.get(t);if(x)return;v?a(v):d(new Error(`${t}`))}catch(v){if(x)return;d(v)}finally{x||i(!1)}})(),()=>{x=!0}},[t]);const c=w.useCallback(()=>{e(G.assignmentManagement)},[e]),u=w.useCallback(()=>{n!=null&&n.courseId&&e(Va(n.courseId))},[e,n==null?void 0:n.courseId]),h=w.useCallback(()=>{t&&e(lb(t))},[e,t]),f=x=>{switch(x){case"published":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"draft":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";case"closed":return"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-600"}},m=x=>{switch(x){case"published":return"";case"draft":return"";case"closed":return"";default:return x||""}};return o?s.jsx("div",{className:"min-h-screen bg-background-light dark:bg-background-dark flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-lg p-8 max-w-md text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-5xl text-red-500 mb-4",children:"error"}),s.jsx("h1",{className:"text-xl font-bold text-text-main dark:text-white mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:o.message}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:c,className:"px-4 py-2 rounded-lg border border-border-light dark:border-border-dark text-sm",children:""}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-primary text-white text-sm",children:""})]})]})}):l?s.jsx("div",{className:"min-h-screen bg-background-light dark:bg-background-dark flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-text-secondary",children:"..."})]})}):s.jsxs("div",{className:"p-6 space-y-6","data-testid":"assignment-detail-page",children:[s.jsxs("nav",{className:"flex items-center text-sm text-text-secondary",children:[s.jsx("button",{onClick:c,className:"hover:text-primary",children:""}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-text-main dark:text-white font-medium","data-testid":"assignment-title",children:(n==null?void 0:n.title)||""})]}),n&&s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-6 py-5 border-b border-border-light dark:border-border-dark",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main dark:text-white",children:n.title}),s.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["ID: ",s.jsx("span",{"data-testid":"assignment-id-display",children:t})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(n.status)}`,children:m(n.status)})]})}),s.jsxs("div",{className:"px-6 py-5 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-text-secondary mb-1",children:""}),s.jsx("button",{onClick:u,className:"text-sm font-medium text-primary hover:underline",children:n.courseId})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-text-secondary mb-1",children:""}),s.jsx("div",{className:"text-sm font-medium text-text-main dark:text-white",children:n.dueAt?new Date(n.dueAt).toLocaleString("zh-CN"):""})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-text-secondary mb-1",children:""}),s.jsxs("div",{className:"text-sm font-medium text-text-main dark:text-white",children:[n.totalPoints||0," "]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-text-secondary mb-1",children:""}),s.jsxs("div",{className:"text-sm font-medium text-text-main dark:text-white",children:[n.submissionsCount||0," ",n.ungradedCount?s.jsxs("span",{className:"text-amber-600 ml-1",children:["(",n.ungradedCount," )"]}):null]})]})]}),n.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary whitespace-pre-wrap",children:n.description})]})]}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("button",{onClick:c,className:"px-4 py-2 rounded-lg border border-border-light dark:border-border-dark text-sm hover:bg-gray-100 dark:hover:bg-gray-700",children:""}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-primary text-white text-sm shadow hover:shadow-md",children:[s.jsx("span",{className:"material-symbols-outlined text-sm align-middle mr-1",children:"grading"}),""]})})]})]})]})},H1=({students:e,assignments:t,grades:r,onChange:n,onSave:a})=>s.jsx("div",{className:"overflow-auto border border-border-light rounded-xl bg-white shadow-sm",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"bg-background-light",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs text-text-secondary font-semibold sticky left-0 bg-background-light",children:""}),t.map(l=>s.jsx("th",{className:"px-4 py-2 text-left text-xs text-text-secondary font-semibold border-l border-border-light",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-text-main text-sm",children:l.title}),s.jsxs("span",{className:"text-[11px] text-text-secondary",children:[" ",l.totalPoints??100]})]})},l.id))]})}),s.jsx("tbody",{children:e.map(l=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 sticky left-0 bg-white border-t border-border-light font-medium text-text-main",children:l.name}),t.map(i=>{var d;const o=(d=r[l.id])==null?void 0:d[i.id];return s.jsx("td",{className:"px-4 py-3 border-t border-border-light align-middle",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"w-20 h-9 px-2 rounded border border-border-light focus:border-primary focus:ring-0",type:"number",value:o??"",onChange:c=>{const u=c.target.value===""?void 0:Number(c.target.value);n(l.id,i.id,u)},placeholder:"--",min:0,max:i.totalPoints??100,step:1,"aria-label":`${l.name} ${i.title} `}),s.jsx("button",{className:"px-2 h-9 rounded border border-border-light text-xs text-text-secondary hover:text-primary hover:border-primary",onClick:()=>a(l.id,i.id,o),type:"button",children:""})]})},i.id)})]},l.id))})]})}),bm=e=>{const t=e.filter(r=>typeof r=="number");if(t.length)return Math.round(t.reduce((r,n)=>r+n,0)/t.length*10)/10},Q1=({students:e,assignments:t,grades:r})=>{const n=w.useMemo(()=>{const l=e.flatMap(i=>t.map(o=>{var d;return(d=r[i.id])==null?void 0:d[o.id]}));return bm(l)},[t,r,e]),a=w.useMemo(()=>t.map(l=>({id:l.id,title:l.title,avg:bm(e.map(i=>{var o;return(o=r[i.id])==null?void 0:o[l.id]}))})),[t,r,e]);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl border border-border-light bg-white shadow-sm",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:""}),s.jsx("p",{className:"text-2xl font-bold text-text-main mt-1",children:n??"--"}),s.jsx("p",{className:"text-[11px] text-text-tertiary mt-1",children:"/"})]}),s.jsxs("div",{className:"md:col-span-2 p-4 rounded-xl border border-border-light bg-white shadow-sm",children:[s.jsx("p",{className:"text-xs text-text-secondary mb-3",children:""}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:a.map(l=>s.jsxs("div",{className:"rounded-lg border border-border-light px-3 py-2 bg-background-light/60",children:[s.jsx("p",{className:"text-xs text-text-secondary line-clamp-1",children:l.title}),s.jsx("p",{className:"font-semibold text-text-main mt-1",children:l.avg??"--"})]},l.id))}),s.jsx("p",{className:"text-[11px] text-text-tertiary mt-2",children:""})]})]})},sd=[{id:"s1",name:"",onlineStatus:"online",attendance:"present"},{id:"s2",name:"",onlineStatus:"offline",attendance:"present"},{id:"s3",name:"",onlineStatus:"online",attendance:"absent"}],Bl=[{id:"a1",courseId:"c1",title:"",totalPoints:100,status:"published"},{id:"a2",courseId:"c1",title:"",totalPoints:100,status:"published"},{id:"a3",courseId:"c1",title:"",totalPoints:50,status:"published"}],W1=()=>{const[e,t]=w.useState({s1:{a1:95,a2:88,a3:42},s2:{a1:82,a2:90},s3:{a1:76}}),[r,n]=w.useState(null),[a,l]=w.useState("info"),i=(c,u,h)=>{t(f=>({...f,[c]:{...f[c]??{},[u]:h}}))},o=(c,u,h)=>{l("info"),n(` ${c}  ${u} : ${h??"--"}`)},d=()=>{try{const c=v=>{if(v==null||v===void 0)return"";const p=String(v);return/[,\n\r"]/.test(p)?`"${p.replace(/"/g,'""')}"`:p},h=[["","",...Bl.map(v=>`${v.title} (${v.totalPoints??100})`)].map(c).join(",")];for(const v of sd){const p=[c(v.name),c(v.studentNumber||""),...Bl.map(b=>{var j;const y=(j=e[v.id])==null?void 0:j[b.id];return c(y??"")})];h.push(p.join(","))}const f=h.join(`
`),m=new Blob(["\uFEFF"+f],{type:"text/csv;charset=utf-8;"}),x=URL.createObjectURL(m),g=document.createElement("a");g.href=x,g.download=`_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(x),l("success"),n("CSV "),setTimeout(()=>n(null),3e3)}catch(c){console.error(" CSV :",c),l("error"),n(""),setTimeout(()=>n(null),3e3)}};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:d,children:" CSV"})})]}),r?s.jsxs("div",{className:`flex items-start justify-between gap-2 rounded-lg border px-3 py-2 text-xs ${a==="success"?"border-green-200 bg-green-50 text-green-800":a==="error"?"border-red-200 bg-red-50 text-red-800":"border-amber-200 bg-amber-50 text-amber-800"}`,children:[s.jsx("p",{children:r}),s.jsx("button",{className:`hover:opacity-70 ${a==="success"?"text-green-700":a==="error"?"text-red-700":"text-amber-700"}`,onClick:()=>n(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,s.jsx(Q1,{students:sd,assignments:Bl,grades:e}),s.jsx(H1,{students:sd,assignments:Bl,grades:e,onChange:i,onSave:o})]})},V1=({attachments:e,title:t=""})=>{var l;const[r,n]=w.useState((l=e[0])==null?void 0:l.id);w.useEffect(()=>{n(i=>{var o;return e.some(d=>d.id===i)?i:(o=e[0])==null?void 0:o.id})},[e]);const a=e.find(i=>i.id===r)??e[0];return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-light dark:border-border-dark",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white",children:t}),s.jsxs("span",{className:"text-xs text-text-secondary",children:[e.length," "]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx("button",{className:"h-9 px-3 rounded-lg border border-border-light bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",type:"button",children:""}),s.jsx("button",{className:"h-9 px-3 rounded-lg border border-border-light bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",type:"button",children:""}),s.jsx("button",{className:"h-9 px-3 rounded-lg border border-border-light bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700",type:"button",children:""})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 dark:bg-gray-900/40 p-4 flex items-center justify-center",children:a?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-inner border border-border-light dark:border-border-dark max-w-3xl w-full min-h-[520px] flex items-center justify-center overflow-hidden",children:a.type==="pdf"?s.jsxs("div",{className:"text-center text-text-secondary text-sm p-8",children:["PDF ",a.label,""]}):s.jsx("img",{src:a.src,alt:a.label,className:"w-full h-full object-contain"})}):s.jsx("div",{className:"text-text-secondary text-sm",children:""})}),s.jsx("aside",{className:"w-28 border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark overflow-y-auto p-3 space-y-2",children:e.map(i=>s.jsxs("button",{type:"button",onClick:()=>n(i.id),className:`w-full rounded-lg border text-left overflow-hidden ${i.id===(a==null?void 0:a.id)?"border-primary bg-primary/5":"border-border-light dark:border-border-dark hover:border-primary/40"}`,children:[s.jsx("div",{className:"aspect-[3/4] w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:i.src,alt:i.label,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"px-2 py-2 flex items-center justify-between text-[11px] text-text-secondary",children:[s.jsx("span",{className:"truncate",children:i.label}),i.page?s.jsxs("span",{className:"text-text-tertiary",children:["P",i.page]}):null]})]},i.id))})]})]})},K1=e=>({id:e||"assignment-temp",courseId:"course-001",title:"",status:"pending",totalPoints:100,submissionsCount:50,ungradedCount:12}),Hl=(e,t,r,n,a)=>({id:e,courseId:"course-001",name:t,group:r,onlineStatus:n,attendance:a,avatar:void 0,lastActive:""}),Ql=[{id:"p1",label:" 1 ",src:"https://picsum.photos/seed/grading-1/800/1000",type:"image",page:1},{id:"p2",label:" 2 ",src:"https://picsum.photos/seed/grading-2/800/1000",type:"image",page:2},{id:"p3",label:"",src:"https://picsum.photos/seed/grading-3/800/1000",type:"image",page:3}];function q1(e){const[t,r]=w.useState([]),[n,a]=w.useState(void 0),[l,i]=w.useState(!1),o=w.useCallback(async()=>{var x;i(!0);const f=K1(e),m=[{id:"sub-1",student:Hl("stu-1","","A ","online","present"),assignment:f,submittedAt:"10:42",status:"grading",score:void 0,aiConfidence:"high",attachments:Ql,flags:[""]},{id:"sub-2",student:Hl("stu-2","","A ","offline","present"),assignment:f,submittedAt:"09:15",status:"pending",score:void 0,aiConfidence:"low",attachments:Ql.slice(0,2),flags:["AI"]},{id:"sub-3",student:Hl("stu-3","","B ","online","present"),assignment:f,submittedAt:"09:10",status:"pending",score:void 0,aiConfidence:"medium",attachments:Ql.slice(0,1)},{id:"sub-4",student:Hl("stu-4","","B ","offline","absent"),assignment:f,submittedAt:"08:50",status:"completed",score:92,aiConfidence:"high",attachments:Ql.slice(0,2)}];r(m),a((x=m[0])==null?void 0:x.id),i(!1)},[e]),d=w.useCallback(f=>{a(f)},[]),c=w.useCallback(async(f,m)=>{r(x=>x.map(g=>g.id!==f?g:{...g,score:m.score??g.score,flags:m.rubric?Object.keys(m.rubric).filter(v=>{var p;return(p=m.rubric)==null?void 0:p[v]}):g.flags}))},[]),u=w.useCallback(async(f,m,x)=>{r(g=>g.map(v=>v.id!==f?v:{...v,score:m,status:"completed",flags:x?[...v.flags??[],""]:v.flags}))},[]),h=w.useMemo(()=>t.find(f=>f.id===n),[n,t]);return w.useEffect(()=>{o()},[o]),{queue:t,activeSubmission:h,isLoading:l,fetchQueue:o,selectSubmission:d,saveDraft:c,submitGrade:u}}const ym=["","","",""],G1=["","","",""],J1=({assignmentId:e})=>{const{queue:t,activeSubmission:r,isLoading:n,selectSubmission:a,saveDraft:l,submitGrade:i}=q1(e),[o,d]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState({});w.useEffect(()=>{d((r==null?void 0:r.score)??""),u(""),f(ym.reduce((p,b)=>({...p,[b]:!1}),{}))},[r]);const m=p=>{f(b=>({...b,[p]:!b[p]}))},x=p=>{if(!r)return;const b=t.findIndex(N=>N.id===r.id);if(b===-1)return;const y=p==="next"?b+1:b-1,j=t[y];j&&a(j.id)},g=async()=>{r&&await l(r.id,{score:typeof o=="number"?o:Number(o)||void 0,comment:c,rubric:h})},v=async()=>{if(!r)return;const p=typeof o=="number"?o:Number(o);Number.isNaN(p)||await i(r.id,p,c)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-text-secondary",children:[" ID: ",e]}),s.jsxs("h2",{className:"text-xl font-semibold text-text-main dark:text-white flex items-center gap-2",children:["",r?s.jsx("span",{className:"px-2 py-0.5 rounded text-[11px] bg-primary/10 text-primary",children:r.status}):null]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[s.jsx("button",{type:"button",className:"h-10 px-3 rounded-lg border border-border-light",onClick:()=>x("prev"),children:""}),s.jsx("button",{type:"button",className:"h-10 px-3 rounded-lg border border-border-light",onClick:()=>x("next"),children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsxs("section",{className:"col-span-12 lg:col-span-3 xl:col-span-2 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm flex flex-col",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white",children:""}),n?s.jsx("span",{className:"text-xs text-text-secondary",children:"..."}):null]}),s.jsxs("div",{className:"flex-1 overflow-y-auto divide-y divide-border-light dark:divide-border-dark",children:[t.map(p=>{var b;return s.jsxs("button",{type:"button",onClick:()=>a(p.id),className:`w-full text-left px-4 py-3 flex flex-col gap-1 hover:bg-gray-50 dark:hover:bg-gray-800/60 ${p.id===(r==null?void 0:r.id)?"bg-primary/5 border-l-2 border-primary":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-sm font-semibold text-text-main dark:text-white",children:p.student.name.slice(0,1)}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-text-main dark:text-white truncate",children:p.student.name}),s.jsx("p",{className:"text-[11px] text-text-secondary",children:p.submittedAt})]})]}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-100 text-text-secondary",children:p.status})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-text-secondary",children:[p.aiConfidence?s.jsxs("span",{className:"px-2 py-0.5 rounded bg-emerald-50 text-emerald-600",children:["AI ",p.aiConfidence]}):null,(b=p.flags)==null?void 0:b.map(y=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-amber-50 text-amber-600",children:y},y))]})]},p.id)}),t.length===0?s.jsx("div",{className:"p-4 text-sm text-text-secondary",children:""}):null]})]}),s.jsx("section",{className:"col-span-12 lg:col-span-6 xl:col-span-7 min-h-[640px]",children:s.jsx(V1,{attachments:(r==null?void 0:r.attachments)??[]})}),s.jsxs("section",{className:"col-span-12 lg:col-span-3 xl:col-span-3 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm flex flex-col",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main dark:text-white",children:""}),r!=null&&r.assignment.totalPoints?s.jsxs("span",{className:"text-xs text-text-secondary",children:[" ",r.assignment.totalPoints]}):null]}),s.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"w-24",children:[s.jsx("label",{className:"block text-[11px] text-text-secondary mb-1",children:""}),s.jsx("input",{value:o,onChange:p=>d(p.target.value===""?"":Number(p.target.value)),className:"w-full h-12 text-center text-2xl font-bold rounded-lg border border-border-light dark:border-border-dark bg-gray-50 dark:bg-gray-800",type:"number",placeholder:"-"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-[11px] text-text-secondary mb-1",children:""}),s.jsx("div",{className:"relative",children:s.jsx("input",{className:"w-full h-12 rounded-lg border border-border-light dark:border-border-dark px-3 bg-white dark:bg-gray-800",value:c,onChange:p=>u(p.target.value),placeholder:""})}),s.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:G1.map(p=>s.jsx("button",{type:"button",onClick:()=>u(p),className:"px-2 py-1 rounded bg-gray-100 dark:bg-gray-800 text-xs text-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700",children:p},p))})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wide",children:""}),s.jsx("div",{className:"space-y-2",children:ym.map(p=>s.jsxs("label",{className:"flex items-start gap-2 p-2 rounded-lg border border-border-light dark:border-border-dark hover:border-primary/40 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"mt-1",checked:!!h[p],onChange:()=>m(p)}),s.jsx("span",{className:"text-sm text-text-main dark:text-white",children:p})]},p))})]})]}),s.jsxs("div",{className:"px-4 py-3 border-t border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsx("div",{className:"text-xs text-text-secondary",children:"S  / N  / P "}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"h-10 px-3 rounded-lg border border-border-light",onClick:g,children:" (S)"}),s.jsx("button",{type:"button",className:"h-10 px-4 rounded-lg bg-primary text-white",onClick:v,children:""})]})]})]})]})]})},vm=()=>{const{id:e,source:t}=Ob();return e?s.jsx("div",{"data-testid":"grading-workspace-page","data-assignment-id":e,children:s.jsx(J1,{assignmentId:e})}):s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-8 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-5xl text-text-secondary mb-4",children:"grading"}),s.jsx("h1",{className:"text-xl font-bold text-text-main dark:text-white mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:""}),s.jsxs("a",{href:"/assignments",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"assignment"}),""]})]})})},Y1=({selected:e,onAssign:t,onSendBack:r,onReject:n,onApprove:a})=>{var f;const[l,i]=w.useState("discussion"),[o,d]=w.useState([{id:"c1",author:"",content:" @  a=0 ",timestamp:" 15:00"},{id:"c2",author:"",authorRole:"",content:` a=0  ${e.version}`,timestamp:" 09:10"},{id:"c3",author:"",isSystem:!0,content:'""',timestamp:""}]),[c,u]=w.useState(""),h=()=>{if(!c.trim())return;const m={id:`c-${Date.now()}`,author:"",content:c,timestamp:""};d([...o,m]),u("")};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark px-6 py-3 flex items-center justify-between shrink-0",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h2",{className:"text-lg font-bold text-text-main-light dark:text-text-main-dark",children:e.title}),s.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-slate-100 dark:bg-slate-800 text-text-main-light dark:text-text-main-dark",children:e.code}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${e.status==="pending"?"bg-amber-100 text-amber-700 border-amber-200":e.status==="draft"?"bg-slate-100 text-slate-700 border-slate-200":e.status==="rejected"?"bg-red-100 text-red-700 border-red-200":"bg-emerald-100 text-emerald-700 border-emerald-200"}`,children:e.status==="pending"?"":e.status==="draft"?"":e.status==="rejected"?"":""}),(f=e.tags)==null?void 0:f.map(m=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-xs font-medium",children:m},m))]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-text-secondary-light dark:text-text-secondary-dark flex-wrap",children:[s.jsxs("span",{children:[": ",e.submitBy,e.submitterRole?`  ${e.submitterRole}`:""]}),s.jsxs("span",{children:[": ",e.assignee??""]}),s.jsxs("span",{children:[": ",e.updatedAt]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800",type:"button",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"person_add"}),""]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800",type:"button",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"history"}),""]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-red-200 text-red-600 text-sm font-semibold hover:bg-red-50",type:"button",onClick:n,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"}),""]}),s.jsxs("button",{className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover shadow-sm",type:"button",onClick:a,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"done_all"}),""]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[s.jsxs("p",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark mb-3 uppercase tracking-wide",children:[" ",e.previousVersion]}),s.jsxs("div",{className:"text-sm text-text-main-light dark:text-text-main-dark leading-relaxed space-y-2",children:[s.jsx("p",{children:e.summary}),s.jsxs("div",{className:"mt-4 p-3 bg-background-light dark:bg-background-dark rounded-lg border border-border-light dark:border-border-dark",children:[s.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mb-2",children:""}),s.jsx("p",{className:"text-xs text-text-main-light dark:text-text-main-dark",children:" LaTeX "})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-primary/30 shadow-sm relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 size-16 bg-gradient-to-bl from-green-500/10 to-transparent pointer-events-none","aria-hidden":!0}),s.jsxs("p",{className:"text-sm font-bold text-primary mb-3 uppercase tracking-wide",children:[" ",e.version]}),s.jsxs("div",{className:"text-sm text-text-main-light dark:text-text-main-dark leading-relaxed space-y-2",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("div",{className:"mt-4 p-3 bg-primary/5 rounded-lg border border-primary/20",children:s.jsx("p",{className:"text-xs text-text-main-light dark:text-text-main-dark",children:""})}),s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-primary",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"compare"}),s.jsx("span",{children:""})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wide",children:""}),s.jsxs("div",{className:"flex-1 min-h-[200px] rounded-lg bg-background-light dark:bg-background-dark border border-dashed border-border-light dark:border-border-dark flex flex-col items-center justify-center gap-2 p-4",children:[s.jsx("span",{className:"material-symbols-outlined text-4xl text-text-secondary-light dark:text-text-secondary-dark",children:"image"}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark text-center",children:""}),s.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark text-center",children:""})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase tracking-wide",children:""}),s.jsxs("div",{className:"text-sm text-text-main-light dark:text-text-main-dark leading-relaxed space-y-3",children:[s.jsx("p",{children:""}),s.jsxs("div",{className:"p-3 bg-background-light dark:bg-background-dark rounded-lg border border-border-light dark:border-border-dark",children:[s.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark mb-1",children:""}),s.jsxs("ul",{className:"text-xs text-text-main-light dark:text-text-main-dark space-y-1 list-disc list-inside",children:[s.jsx("li",{children:" LaTeX "}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[s.jsxs("div",{className:"flex border-b border-border-light dark:border-border-dark",children:[s.jsx("button",{className:`flex-1 py-3 text-sm font-semibold transition-colors ${l==="discussion"?"text-primary border-b-2 border-primary bg-primary/5":"text-text-secondary-light dark:text-text-secondary-dark hover:text-text-main-light dark:hover:text-text-main-dark"}`,onClick:()=>i("discussion"),children:""}),s.jsx("button",{className:`flex-1 py-3 text-sm font-semibold transition-colors ${l==="audit"?"text-primary border-b-2 border-primary bg-primary/5":"text-text-secondary-light dark:text-text-secondary-dark hover:text-text-main-light dark:hover:text-text-main-dark"}`,onClick:()=>i("audit"),children:""}),s.jsx("button",{className:`flex-1 py-3 text-sm font-semibold transition-colors ${l==="properties"?"text-primary border-b-2 border-primary bg-primary/5":"text-text-secondary-light dark:text-text-secondary-dark hover:text-text-main-light dark:hover:text-text-main-dark"}`,onClick:()=>i("properties"),children:""})]}),l==="discussion"&&s.jsxs("div",{className:"p-4 flex flex-col gap-4 bg-background-light/60 dark:bg-background-dark",children:[o.map((m,x)=>{const g=x===1;return s.jsxs(w.Fragment,{children:[g&&s.jsxs("div",{className:"flex items-center gap-2 my-1 text-[10px] text-text-secondary-light",children:[s.jsx("div",{className:"h-px bg-border-light flex-1"}),s.jsxs("span",{children:[" ",e.version," "]}),s.jsx("div",{className:"h-px bg-border-light flex-1"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-9 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-text-main-light dark:text-text-main-dark","aria-hidden":!0,children:m.author.charAt(0)}),s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsxs("span",{className:"text-xs font-bold text-text-main-light dark:text-text-main-dark",children:[m.author,m.authorRole&&` (${m.authorRole})`]}),s.jsx("span",{className:"text-[10px] text-text-secondary-light dark:text-text-secondary-dark",children:m.timestamp})]}),s.jsx("div",{className:`p-3 rounded-lg border text-sm text-text-main-light dark:text-text-main-dark ${m.isSystem?"bg-white dark:bg-surface-dark border-border-light dark:border-border-dark":m.authorRole===""?"bg-primary/5 border-primary/20":"bg-white dark:bg-surface-dark border-border-light dark:border-border-dark"}`,children:s.jsx("p",{className:"whitespace-pre-wrap",children:m.content})})]})]})]},m.id)}),s.jsxs("div",{className:"pt-2 border-t border-border-light dark:border-border-dark flex gap-3 items-center",children:[s.jsx("input",{className:"flex-1 px-3 py-2 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark text-sm focus:ring-1 focus:ring-primary text-text-main-light dark:text-text-main-dark",placeholder:" @...",value:c,onChange:m=>u(m.target.value),onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h())}}),s.jsx("button",{className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:h,disabled:!c.trim(),children:""})]})]}),l==="audit"&&s.jsx("div",{className:"p-4 bg-background-light/60 dark:bg-background-dark",children:s.jsx("div",{className:"space-y-3",children:[{action:"",user:e.submitBy,time:e.updatedAt,details:` ${e.code}`},{action:"",user:e.submitBy,time:e.updatedAt,details:` ${e.version}`},{action:"",user:"",time:e.updatedAt,details:e.assignee?` ${e.assignee}`:""}].map((m,x)=>s.jsxs("div",{className:"flex gap-3 p-3 bg-white dark:bg-surface-dark rounded-lg border border-border-light dark:border-border-dark",children:[s.jsx("div",{className:"size-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold text-text-main-light dark:text-text-main-dark flex-shrink-0",children:m.user.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-xs font-bold text-text-main-light dark:text-text-main-dark",children:m.user}),s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold bg-primary/10 text-primary",children:m.action}),s.jsx("span",{className:"text-[10px] text-text-secondary-light dark:text-text-secondary-dark ml-auto",children:m.time})]}),s.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:m.details})]})]},x))})}),l==="properties"&&s.jsx("div",{className:"p-4 bg-background-light/60 dark:bg-background-dark",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark mb-1",children:""}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"ID"}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.code})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.status==="pending"?"":e.status==="draft"?"":e.status==="rejected"?"":""})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.version})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.previousVersion})]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark mb-1",children:""}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.submitBy})]}),e.submitterRole&&s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.submitterRole})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.updatedAt})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark mb-1",children:""}),s.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark space-y-2",children:s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-medium",children:e.assignee||""})]})})]}),e.tags&&e.tags.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark mb-1",children:""}),s.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(m=>s.jsx("span",{className:"px-2 py-1 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-xs font-medium text-text-main-light dark:text-text-main-dark",children:m},m))})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary-light dark:text-text-secondary-dark mb-1",children:""}),s.jsx("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-lg border border-border-light dark:border-border-dark",children:s.jsx("p",{className:"text-xs text-text-main-light dark:text-text-main-dark leading-relaxed",children:e.summary})})]})]})]})})]})]})})]})},X1={pending:"",draft:"",rejected:"",approved:""},Z1={pending:"bg-amber-100 text-amber-700",draft:"bg-slate-100 text-slate-600",rejected:"bg-red-100 text-red-700",approved:"bg-emerald-100 text-emerald-700"},eS=({items:e,filter:t,search:r,stats:n,selectedId:a,isLoading:l,onSelect:i,onFilterChange:o,onSearchChange:d})=>{const c=[{label:"",value:"pending",count:n.pending},{label:"",value:"draft",count:n.draft},{label:"",value:"rejected",count:n.rejected},{label:"",value:"approved",count:n.approved},{label:"",value:"all",count:n.all}];return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark flex flex-col gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-2.5 text-text-secondary-light dark:text-text-secondary-dark text-[20px]",children:"search"}),s.jsx("input",{type:"text",value:r,onChange:u=>d(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg text-sm focus:ring-2 focus:ring-primary/20 text-text-main-light dark:text-text-main-dark placeholder:text-text-secondary-light",placeholder:" ID..."})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:c.map(u=>s.jsxs("button",{type:"button",onClick:()=>o(u.value),className:`px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap border transition-all ${t===u.value?"bg-primary/10 text-primary border-primary/30":"bg-white dark:bg-background-dark text-text-secondary-light dark:text-text-secondary-dark border-border-light dark:border-border-dark hover:border-slate-300"}`,children:[u.label,s.jsxs("span",{className:"ml-1 text-[11px] font-bold",children:["(",u.count,")"]})]},u.value))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"..."}):e.length===0?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""}):s.jsx("ul",{children:e.map(u=>{var h;return s.jsx("li",{className:"border-b border-border-light dark:border-border-dark last:border-none",children:s.jsxs("button",{type:"button",onClick:()=>i(u.id),className:`w-full text-left p-4 flex flex-col gap-2 transition-colors ${a===u.id?"bg-primary/5 dark:bg-primary/10 border-l-4 border-l-primary":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:`px-2 py-0.5 rounded font-bold ${Z1[u.status]}`,children:X1[u.status]}),s.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-[10px] font-semibold text-text-main-light dark:text-text-main-dark",children:u.code}),(h=u.tags)==null?void 0:h.map(f=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-[10px] font-medium",children:f},f))]}),s.jsx("div",{className:"text-[11px] text-text-secondary-light dark:text-text-secondary-dark",children:u.updatedAt})]}),s.jsx("div",{className:"text-sm font-semibold text-text-main-light dark:text-text-main-dark line-clamp-2",children:u.title}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsxs("span",{children:[": ",u.submitBy,u.submitterRole?`  ${u.submitterRole}`:""]}),s.jsxs("span",{children:[" ",u.version]})]})]})},u.id)})})})]})},ad=[{id:"rev-1",code:"P2409-A03",title:"2024 () - ",status:"pending",submitBy:"",submitterRole:"",tags:["",""],version:"V1.3",previousVersion:"V1.2",summary:" a ",updatedAt:"10 ",assignee:""},{id:"rev-2",code:"Q1023-B11",title:"",status:"pending",submitBy:"",submitterRole:"",tags:["",""],version:"V2.0",previousVersion:"V1.9",summary:"",updatedAt:"2 "},{id:"rev-3",code:"Q1025-C09",title:" (V2)",status:"draft",submitBy:"",submitterRole:"",tags:["",""],version:"V2.0",previousVersion:"V1.0",summary:"",updatedAt:"2 "},{id:"rev-4",code:"G3011-D05",title:"",status:"rejected",submitBy:"",submitterRole:"",tags:["",""],version:"V1.1",previousVersion:"V1.0",summary:"",updatedAt:""},{id:"rev-5",code:"P2101-Z99",title:"",status:"approved",submitBy:"",submitterRole:"",tags:["",""],version:"V1.0",previousVersion:"",summary:" 30 ",updatedAt:""}],tS=()=>{var b;const[e,t]=E.useState(ad),[r,n]=E.useState(((b=ad[0])==null?void 0:b.id)??null),[a,l]=E.useState("all"),[i,o]=E.useState(""),[d,c]=E.useState(!1),u=E.useMemo(()=>({all:e.length,pending:e.filter(y=>y.status==="pending").length,draft:e.filter(y=>y.status==="draft").length,rejected:e.filter(y=>y.status==="rejected").length,approved:e.filter(y=>y.status==="approved").length}),[e]),h=E.useMemo(()=>e.filter(y=>{var R;if(!(a==="all"?!0:y.status===a))return!1;if(!i)return!0;const N=i.toLowerCase();return y.title.toLowerCase().includes(N)||y.code.toLowerCase().includes(N)||y.submitBy.toLowerCase().includes(N)||((R=y.tags)==null?void 0:R.some(k=>k.toLowerCase().includes(N)))}),[e,a,i]);return E.useEffect(()=>{if(!r&&h.length){n(h[0].id);return}r&&h.every(y=>y.id!==r)&&h.length&&n(h[0].id)},[h,r]),{items:e,filteredItems:h,selectedId:r,filter:a,search:i,stats:u,isLoading:d,actions:{select:y=>n(y),setFilter:l,setSearch:o,assignReviewer:async(y,j)=>{t(N=>N.map(R=>R.id===y?{...R,assignee:j}:R))},markApproved:async y=>{t(j=>j.map(N=>N.id===y?{...N,status:"approved"}:N))},markRejected:async y=>{t(j=>j.map(N=>N.id===y?{...N,status:"rejected"}:N))},markPending:async y=>{t(j=>j.map(N=>N.id===y?{...N,status:"pending"}:N))},refetch:async()=>{c(!0),await new Promise(y=>setTimeout(y,300)),t(ad),c(!1)}}}},rS=()=>{const{filteredItems:e,items:t,selectedId:r,filter:n,search:a,stats:l,isLoading:i,actions:o}=tS(),d=w.useMemo(()=>t.find(p=>p.id===r)??e[0]??null,[t,e,r]),c=p=>{o.select(p)},u=()=>{if(!d)return;o.assignReviewer(d.id,""),f(""),setTimeout(()=>f(null),3e3)},[h,f]=w.useState(null),m=()=>{d&&(o.markApproved(d.id),f(""),setTimeout(()=>f(null),3e3))},x=()=>{!d||!window.confirm("")||(o.markRejected(d.id),f(""),setTimeout(()=>f(null),3e3))},g=()=>{d&&(o.markPending(d.id),f(""),setTimeout(()=>f(null),3e3))},v=()=>{f(""),setTimeout(()=>f(null),3e3)};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark flex flex-col",children:[s.jsxs("header",{className:"h-16 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-6 shrink-0",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("nav",{className:"flex items-center text-sm font-medium text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:"hover:text-primary cursor-pointer",children:""}),s.jsx("span",{className:"mx-2 text-border-light",children:"/"}),s.jsx("span",{className:"text-text-main-light dark:text-text-main-dark font-semibold",children:""})]})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-xs",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check_circle"}),h]}):null,s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:()=>void o.refetch(),children:""}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-primary-hover text-white rounded-lg text-sm font-bold shadow-sm",type:"button",onClick:v,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"}),""]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("aside",{className:"w-full md:w-[360px] flex-shrink-0 bg-white dark:bg-surface-dark border-r border-border-light dark:border-border-dark",children:s.jsx(eS,{items:e,filter:n,search:a,stats:l,selectedId:r,isLoading:i,onSelect:c,onFilterChange:o.setFilter,onSearchChange:o.setSearch})}),s.jsx("main",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark overflow-hidden",children:d?s.jsx(Y1,{selected:d,onAssign:u,onSendBack:g,onReject:x,onApprove:m}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-text-secondary-light dark:text-text-secondary-dark",children:""})})]})]})},nS={live:{text:"",classes:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},ongoing:{text:"",classes:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},upcoming:{text:"",classes:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"},completed:{text:"",classes:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"},pending:{text:"",classes:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}},sS=({course:e,onStartLive:t,onViewRecording:r,onEdit:n})=>{const a=nS[e.status];return s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20","aria-hidden":!0,children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"functions"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight text-text-main dark:text-white",children:e.title}),s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.classes}`,children:[s.jsx("span",{className:"w-1.5 h-1.5 mr-1.5 bg-green-500 rounded-full","aria-hidden":!0}),a.text]})]}),s.jsxs("p",{className:"text-sm text-text-secondary flex flex-wrap items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"person"})," : ",e.teacher]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule"})," : ",e.schedule]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 self-end md:self-center",children:[s.jsx("button",{type:"button",className:"px-4 h-10 rounded-lg text-sm font-medium text-text-secondary hover:text-text-main hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:n,"aria-label":"",children:""}),s.jsx("button",{type:"button",className:"px-4 h-10 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",onClick:n,"aria-label":"",children:""}),s.jsxs("button",{type:"button",className:"px-4 h-10 rounded-lg border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark text-text-main dark:text-white text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-800 shadow-sm transition-colors flex items-center gap-2",onClick:r,"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"publish"}),""]}),s.jsxs("button",{type:"button",className:"px-5 h-10 rounded-lg bg-primary hover:bg-primary-hover text-white text-sm font-bold shadow-md shadow-blue-500/20 transition-all flex items-center gap-2 group",onClick:t,"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px] group-hover:animate-pulse",children:"videocam"}),""]})]})]})},aS=[{key:"overview",label:""},{key:"students",label:""},{key:"assignments",label:""},{key:"recordings",label:""},{key:"settings",label:""}],lS=({activeTab:e,onTabChange:t})=>s.jsx("nav",{"aria-label":"",className:"flex space-x-1",children:aS.map(r=>{const n=e===r.key;return s.jsx("button",{type:"button",onClick:()=>t(r.key),className:`px-4 py-4 text-sm font-medium border-b-2 transition-colors ${n?"text-primary border-primary":"text-text-secondary hover:text-text-main border-transparent hover:border-gray-300"}`,"aria-current":n?"page":void 0,"aria-label":r.label,children:r.label},r.key)})}),jm={online:"bg-green-500",offline:"bg-gray-300"},wm={present:"text-green-600 font-medium text-xs bg-green-50 px-2 py-1 rounded",absent:"text-xs text-text-secondary bg-white border border-border-light hover:border-primary hover:text-primary px-3 py-1 rounded shadow-sm transition-colors"},Wu=({student:e,onAttendanceChange:t,onViewProfile:r})=>s.jsxs("tr",{className:"group hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"py-3 border-b border-border-light/50",children:s.jsxs("button",{type:"button",className:"flex items-center gap-3 w-full text-left",onClick:()=>r==null?void 0:r(e.id),"aria-label":` ${e.name} `,children:[e.avatar?s.jsx("div",{className:"size-8 rounded-full bg-cover bg-center",style:{backgroundImage:`url(${e.avatar})`},"aria-hidden":!0}):s.jsx("div",{className:"size-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs","aria-hidden":!0,children:e.name.slice(0,1)}),s.jsx("span",{className:"font-medium text-text-main",children:e.name})]})}),s.jsx("td",{className:"py-3 border-b border-border-light/50",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5","aria-hidden":!0,children:e.onlineStatus==="online"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${jm[e.onlineStatus]}`})]}):s.jsx("span",{className:`relative inline-flex rounded-full h-2.5 w-2.5 ${jm[e.onlineStatus]}`})}),s.jsx("span",{className:"text-xs text-text-secondary",children:e.onlineStatus==="online"?"":""})]})}),s.jsx("td",{className:"py-3 border-b border-border-light/50 text-right",children:e.attendance==="present"?s.jsx("span",{className:wm[e.attendance],children:""}):s.jsx("button",{type:"button",className:wm[e.attendance],onClick:()=>t==null?void 0:t(e.id,"present"),"aria-label":` ${e.name} `,children:""})})]}),iS=({students:e,onViewStudent:t})=>s.jsx("div",{className:"space-y-2",children:e.map(r=>s.jsx(Wu,{student:r,onAttendanceChange:()=>{},onViewProfile:()=>t==null?void 0:t(r.id)},r.id))}),km=({assignments:e,onOpenAssignment:t})=>s.jsx("div",{className:"space-y-3",children:e.map(r=>s.jsx(Fu,{id:r.id,title:r.title,classLabel:r.classLabel,size:r.size,note:r.note,status:r.status,submittedAt:r.dueAt?` ${r.dueAt}`:void 0,onAction:()=>t==null?void 0:t(r.id)},r.id))}),oS=({recordings:e})=>s.jsx("div",{className:"space-y-3",children:e.map(t=>s.jsxs("div",{className:"flex items-center p-4 bg-white dark:bg-gray-800 border border-border-light dark:border-border-dark rounded-lg hover:shadow-md transition-shadow group",children:[s.jsxs("div",{className:"relative h-16 w-28 rounded-lg overflow-hidden bg-gray-900 flex items-center justify-center flex-shrink-0 mr-4",children:[t.preview?s.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 group-hover:scale-105 transition-transform duration-300",style:{backgroundImage:`url(${t.preview})`},"aria-hidden":!0}):null,s.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors","aria-hidden":!0}),s.jsx("span",{className:"relative z-10 text-white material-symbols-outlined",children:"play_arrow"}),s.jsx("span",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded backdrop-blur-sm",children:t.duration})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-text-main dark:text-white truncate",children:t.title}),s.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[t.date,"  ",t.status==="ready"?"":""]})]}),s.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("button",{type:"button",className:"p-2 text-text-secondary hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":` ${t.title}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"play_circle"})})})]},t.id))}),ld=e=>new Promise(t=>setTimeout(t,e)),Ib="mock.recordings";function dS(){if(typeof window>"u")return[...Fs.recordings??[]];try{const e=window.localStorage.getItem(Ib);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(e){console.warn("recordings load failed, fallback to seed",e)}return[...Fs.recordings??[]]}const wr=dS();function Ec(){if(!(typeof window>"u"))try{window.localStorage.setItem(Ib,JSON.stringify(wr))}catch(e){console.warn("recordings persist failed",e)}}function cS(e="rec"){return`${e}-${Date.now().toString(36)}`}function Nm(e=new Date().toISOString()){return e.slice(0,10)}function uS(e,t=4){setTimeout(()=>{const r=wr.findIndex(n=>n.id===e);r!==-1&&(wr[r]={...wr[r],status:"ready",duration:wr[r].duration||"01:00:00"},Ec())},t*1e3)}const Ws={async list(e){const t=e?`/recordings?courseId=${encodeURIComponent(e)}`:"/recordings",r=await me.get(t);return Array.isArray(r.data)?r.data:[]},async get(e){try{return(await me.get(`/recordings/${e}`)).data}catch(t){return console.warn("get recording API  mock ",t),await ld(20),wr.find(r=>r.id===e)}},async createFromLive(e){try{return(await me.post(`/live/${e.id}/record`)).data}catch(t){console.warn("createFromLive API  mock ",t),await ld(100);const r={id:cS("rec"),courseId:e.courseId,title:` ${e.courseId} ${Nm()}`,duration:"00:00:00",date:Nm(),status:"processing",preview:"",created_at:new Date().toISOString()};return wr.unshift(r),Ec(),uS(r.id,4),r}},async remove(e){try{return await me.delete(`/recordings/${e}`),!0}catch(t){console.warn("remove recording API  mock ",t),await ld(50);const r=wr.findIndex(n=>n.id===e);return r!==-1&&wr.splice(r,1),Ec(),!0}}},id=e=>new Promise(t=>setTimeout(t,e)),hS=Fs,Wl=[...hS.live_sessions??[]];function fS(e="live"){return`${e}-${Date.now().toString(36)}`}const Ka={async list(e){const t=await me.get("/courses",{params:e});return Array.isArray(t.data)?t.data:[]},async get(e){return(await me.get(`/courses/${e}`)).data},async startLive(e){try{return(await me.post(`/courses/${e}/live/start`)).data}catch(t){console.warn("startLive API  mock ",t),await id(100);const r={id:fS("live"),courseId:e,startAt:new Date().toISOString(),status:"live"};return Wl.push(r),r}},async endLive(e){try{return(await me.post(`/live/${e}/stop`)).data}catch(t){console.warn("endLive API  mock ",t),await id(100);const r=Wl.findIndex(l=>l.id===e);if(r===-1)throw new Error("live session not found");const n=Wl[r];n.status="ended",n.endAt=new Date().toISOString();const a=await Ws.createFromLive(n);return{session:n,recording:a}}},async getLive(e){try{return(await me.get(`/live/${e}`)).data}catch(t){return console.warn("getLive API  mock ",t),await id(50),Wl.find(r=>r.id===e)}}},mS=e=>new Promise(t=>setTimeout(t,e)),xS="mock.students";function pS(){const e=[...Fs.students??[]];if(typeof window>"u")return e;try{const t=window.localStorage.getItem(xS);if(t){const r=JSON.parse(t);if(Array.isArray(r))return r}}catch(t){console.warn("students load failed, fallback to seed",t)}return e}const Sm=pS(),Tt={async list(e){const t=await me.get("/students",{params:e});return Array.isArray(t.data)?t.data:[]},async get(e){return(await me.get(`/students/${e}`)).data},async getProgress(e){return(await me.get(`/students/${e}/progress`)).data},async create(e){return(await me.post("/students",e)).data},async update(e,t){return(await me.put(`/students/${e}`,t)).data},async remove(e){return await me.delete(`/students/${e}`),!0},async bulkMessage(e,t){return await me.post("/students/bulk/message",{studentIds:e,...t}),!0},async bulkGroup(e,t){return await me.post("/students/bulk/group",{studentIds:e,...t}),!0},async bulkMarkPresent(e){return await me.post("/students/bulk/attendance",{studentIds:e,attendance:"present"}),!0},async exportCsv(e){try{return(await me.post("/students/export",{studentIds:e})).data}catch(t){console.error(" mock ",t),await mS(30);const r=e.length>0?e.map(l=>Sm.find(i=>i.id===l)).filter(Boolean):Sm,n=`id,name,courseId,attendance,onlineStatus,group
`,a=r.map(l=>`${l.id},${l.name},${l.courseId??""},${l.attendance},${l.onlineStatus},${l.group??""}`).join(`
`);return{filename:`students_${new Date().toISOString().slice(0,10)}.csv`,content:n+a+(a?`
`:"")}}}};function gS(e){const[t,r]=w.useState(()=>({course:{id:e,title:"",status:"upcoming"},students:[],assignments:[],recordings:[]})),[n,a]=w.useState(!0),[l,i]=w.useState(void 0),o=w.useCallback(async()=>{a(!0),i(void 0);try{const d=await Ka.get(e)??(await Ka.list()).find(f=>f.id===e);if(!d)throw new Error("Course not found");const[c,u,h]=await Promise.all([Tt.list({courseId:d.id}),ar.list({courseId:d.id}),Ws.list(d.id)]);r({course:d,students:c,assignments:u,recordings:h})}catch(d){i(d)}finally{a(!1)}},[e]);return w.useEffect(()=>{o()},[o]),{data:t,isLoading:n,error:l,actions:{refresh:o}}}const bS={blue:"from-blue-50 to-white dark:from-slate-800 dark:to-slate-750 border-blue-100 dark:border-slate-700 text-blue-500",orange:"from-orange-50 to-white dark:from-slate-800 dark:to-slate-750 border-orange-100 dark:border-slate-700 text-orange-500",purple:"from-purple-50 to-white dark:from-slate-800 dark:to-slate-750 border-purple-100 dark:border-slate-700 text-purple-500"},yS={blue:"bg-blue-500",orange:"bg-orange-500",purple:"bg-purple-500"},vS={blue:"person_check",orange:"check_circle",purple:"pan_tool"},Db=({keyName:e,label:t,value:r,unit:n,color:a,progress:l,icon:i})=>s.jsxs("article",{className:`p-5 bg-gradient-to-br rounded-xl border flex flex-col justify-between ${bS[a]}`,role:"listitem","aria-label":t,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("p",{className:"text-xs font-bold text-text-secondary uppercase",children:t}),s.jsx("span",{className:"material-symbols-outlined text-lg","aria-hidden":!0,children:i||vS[a]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-baseline gap-1 mt-2",children:[s.jsx("p",{className:"text-3xl font-bold text-text-main dark:text-white font-display tracking-tight",children:r}),n?s.jsx("span",{className:"text-sm font-bold text-text-secondary",children:n}):null]}),typeof l=="number"?s.jsx("div",{className:"w-full h-1.5 rounded-full mt-3 overflow-hidden","aria-label":`${t}`,children:s.jsx("div",{className:`h-full rounded-full ${yS[a]}`,style:{width:`${l}%`}})}):null]})]}),jS=()=>{var R,k,P;const e=$e(),{id:t,source:r}=po("course-001"),{data:{course:n,students:a,assignments:l,recordings:i},isLoading:o,error:d,actions:c}=gS(t),[u,h]=w.useState("overview"),f=T=>new Promise(D=>setTimeout(D,T)),m=w.useCallback(async T=>{for(let z=0;z<6;z++){const M=await Ws.get(T);if(!M||M.status&&M.status!=="processing")break;await f(700)}},[]);w.useEffect(()=>{if(u!=="recordings"||!i.some(M=>M.status==="processing"))return;let T=!1,D=0;const z=window.setInterval(()=>{D+=1,!T&&(c.refresh(),D>=8&&window.clearInterval(z))},1200);return()=>{T=!0,window.clearInterval(z)}},[u,i,c]);const x=["","",n.title],g=n.stats||{studentsTotal:0,participationRate:0,homeworkSubmissionRate:0},v=[{key:"students",label:"",value:g.studentsTotal,unit:"",color:"blue",progress:100},{key:"participation",label:"",value:g.participationRate,unit:"%",color:"purple",progress:g.participationRate},{key:"homework",label:"",value:g.homeworkSubmissionRate,unit:"%",color:"orange",progress:g.homeworkSubmissionRate}],p=()=>{switch(u){case"students":return s.jsx(iS,{students:a});case"assignments":return s.jsx(km,{assignments:l});case"recordings":return s.jsx(oS,{recordings:i});case"settings":return s.jsx("div",{className:"text-sm text-text-secondary",children:""});case"overview":default:return s.jsx(km,{assignments:l.slice(0,3)})}},b=()=>{e(sb(t))},y=async T=>{if(!T){e(Au(t));return}await m(T),e(ab(T,t))},j=()=>{e(G.assignmentManagement)},N=()=>{e(Bk(t))};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-text-secondary",children:"..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-lg p-8 max-w-md text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-5xl text-red-500 mb-4",children:"error"}),s.jsx("h1",{className:"text-xl font-bold text-text-main dark:text-white mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:d.message}),s.jsx("button",{onClick:()=>e(G.courseSchedule),className:"px-4 py-2 rounded-lg bg-primary text-white text-sm",children:""})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8","data-testid":"course-detail-page",children:[s.jsx("nav",{className:"flex items-center text-sm text-text-secondary","aria-label":"Breadcrumb",children:x.map((T,D)=>s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:D===x.length-1?"text-text-main font-medium dark:text-gray-200":"hover:text-primary transition-colors cursor-pointer",children:T}),D<x.length-1?s.jsx("span",{className:"mx-2 text-gray-400","aria-hidden":!0,children:"/"}):null]},T))}),s.jsx("div",{className:"sr-only","data-testid":"course-id-display",children:t}),s.jsx(sS,{course:n,onStartLive:b,onViewRecording:()=>{var T;return void y((T=i[0])==null?void 0:T.id)},onEdit:N}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map(T=>s.jsx(Db,{keyName:T.key,label:T.label,value:T.value,unit:T.unit,color:T.color,progress:T.progress},T.key))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsxs("div",{className:"lg:col-span-4 xl:col-span-3 space-y-6",children:[s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-5",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-secondary uppercase tracking-wider mb-4",children:""}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:""}),s.jsx("span",{className:"text-xs text-green-600 bg-green-50 dark:bg-green-900/20 px-2 py-0.5 rounded",children:"+5 "})]}),s.jsxs("div",{className:"text-3xl font-bold text-text-main dark:text-white",children:[g.studentsTotal," ",s.jsx("span",{className:"text-sm font-normal text-text-secondary",children:""})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:"30"}),s.jsxs("span",{className:"text-sm font-medium text-text-main dark:text-white",children:[g.participationRate,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${g.participationRate}%`},"aria-label":""})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-text-secondary",children:""}),s.jsxs("span",{className:"text-sm font-medium text-text-main dark:text-white",children:[g.homeworkSubmissionRate,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${g.homeworkSubmissionRate}%`},"aria-label":""})})]})]})]}),s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm overflow-hidden group cursor-pointer hover:border-primary/50 transition-colors",children:[s.jsxs("div",{className:"relative h-32 bg-gray-900 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 group-hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url(${((R=i[0])==null?void 0:R.preview)||""})`},"aria-hidden":!0}),s.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/40 transition-colors","aria-hidden":!0}),s.jsx("div",{className:"relative z-10 w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/50 text-white group-hover:bg-primary group-hover:border-primary transition-all",children:s.jsx("span",{className:"material-symbols-outlined",children:"play_arrow"})}),s.jsx("span",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded backdrop-blur-sm",children:(k=i[0])==null?void 0:k.duration})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-text-main dark:text-white line-clamp-1",children:(P=i[0])==null?void 0:P.title}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:""})]})}),s.jsx("button",{type:"button",onClick:()=>{var T;return void y((T=i[0])==null?void 0:T.id)},className:"mt-3 w-full py-1.5 text-xs font-medium text-primary bg-primary/5 hover:bg-primary/10 rounded border border-primary/20 transition-colors","aria-label":"",children:""})]})]}),s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-2 space-y-2",children:[s.jsxs("button",{type:"button",onClick:()=>j(),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-left group","aria-label":"",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 flex items-center justify-center","aria-hidden":!0,children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add_task"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main dark:text-white group-hover:text-primary transition-colors",children:""}),s.jsx("p",{className:"text-xs text-text-secondary",children:"3  ()"})]})]}),s.jsxs("button",{type:"button",className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-left group","aria-label":"",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 flex items-center justify-center","aria-hidden":!0,children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"forum"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main dark:text-white group-hover:text-primary transition-colors",children:""}),s.jsx("p",{className:"text-xs text-text-secondary",children:"5 "})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-8 xl:col-span-9 flex flex-col h-full",children:[s.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-t-xl border-b border-border-light dark:border-border-dark px-2 sticky top-0 z-20",children:s.jsx(lS,{activeTab:u,onTabChange:h})}),s.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-b-xl border border-t-0 border-border-light dark:border-border-dark shadow-sm min-h-[400px] p-6",children:p()})]})]})]})},wS={live:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",upcoming:"bg-input-bg text-text-secondary dark:bg-slate-700 dark:text-slate-400",ongoing:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",completed:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",pending:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"},kS={live:"",ongoing:"",upcoming:"",completed:"",pending:""},Mb=({id:e,title:t,description:r,classLabel:n,timeRange:a,studentsCount:l,status:i,onEnter:o,onMore:d})=>{const c=i==="live"||i==="ongoing";return s.jsxs("article",{className:"bg-surface-light dark:bg-surface-dark rounded-xl p-0 shadow-[0_2px_8px_rgba(0,0,0,0.04)] dark:shadow-none border border-border-color dark:border-slate-700 flex flex-col relative overflow-hidden group hover:border-primary/30 transition-all",role:"listitem",children:[i==="live"?s.jsx("div",{className:"h-1 w-full bg-primary absolute top-0 left-0","aria-hidden":!0}):null,s.jsxs("div",{className:"p-5 flex flex-col h-full gap-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("span",{className:`text-[11px] font-bold px-2 py-0.5 rounded uppercase tracking-wide flex items-center gap-1 ${wS[i]}`,children:[i==="live"||i==="ongoing"?s.jsx("span",{className:"size-1.5 rounded-full bg-green-500 animate-pulse","aria-hidden":!0}):null,kS[i]]}),s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main","aria-label":"",onClick:()=>d==null?void 0:d(e),children:s.jsx("span",{className:"material-symbols-outlined",children:"more_horiz"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg text-text-main dark:text-white",children:t}),n?s.jsx("span",{className:"text-[11px] font-semibold text-text-secondary bg-input-bg dark:bg-slate-800 px-2 py-0.5 rounded",children:n}):null]}),r?s.jsx("p",{className:"text-xs text-text-secondary line-clamp-1",children:r}):null]}),s.jsxs("div",{className:"mt-auto space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-text-main dark:text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-input-bg dark:bg-slate-800 px-2 py-1 rounded","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base text-text-secondary",children:"schedule"}),s.jsx("span",{className:"font-medium",children:a})]}),s.jsxs("div",{className:"flex items-center gap-1 text-text-secondary","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"group"}),s.jsxs("span",{className:"text-xs",children:[l," "]})]})]}),s.jsxs("button",{type:"button",className:`w-full py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors shadow-sm ${c?"bg-primary text-white hover:bg-blue-600":"bg-input-bg text-text-secondary dark:bg-slate-700 dark:text-slate-400 cursor-not-allowed"}`,onClick:()=>c?o==null?void 0:o(e):void 0,"aria-label":c?"":"",disabled:!c,children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:c?"videocam":"schedule_send"}),c?"":""]})]})]})]})},NS=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],Cm=[{label:"",date:"23"},{label:"",date:"24",isToday:!0},{label:"",date:"25"},{label:"",date:"26"},{label:"",date:"27"},{label:"",date:"28"},{label:"",date:"29"}],SS={live:"bg-primary text-white shadow-lg ring-2 ring-white",ongoing:"bg-primary text-white shadow-lg ring-2 ring-white",upcoming:"bg-orange-50 text-orange-900 border border-orange-200",completed:"bg-slate-100 text-text-main border border-slate-200",pending:"bg-slate-100 text-text-secondary border border-slate-200"},CS={live:"videocam",ongoing:"videocam",upcoming:"schedule",completed:"check_circle",pending:"event_busy"},ES=[{value:"day",label:""},{value:"week",label:""},{value:"month",label:""}],Em=64,RS=8*60,Rm=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},PS=e=>{const t=Rm(e.startTime),r=Rm(e.endTime),n=Math.max(0,t-RS),a=Math.max(30,r-t);return{top:`${n/60*Em}px`,height:`${a/60*Em}px`}},LS=({courses:e,view:t,onSelectCourse:r,onViewChange:n})=>s.jsxs("div",{className:"flex-1 flex flex-col bg-background-light relative",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-background-light shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-display font-bold text-text-main tracking-tight",children:"2023 10"}),s.jsxs("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-border-light p-0.5",children:[s.jsx("button",{type:"button",className:"p-1 hover:bg-background-light rounded transition-colors text-text-secondary","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_left"})}),s.jsx("button",{type:"button",className:"px-2 text-sm font-bold text-text-main","aria-label":"",children:""}),s.jsx("button",{type:"button",className:"p-1 hover:bg-background-light rounded transition-colors text-text-secondary","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]}),s.jsx("div",{className:"flex bg-white rounded-lg shadow-sm border border-border-light p-1",role:"group","aria-label":"//",children:ES.map(a=>s.jsx("button",{type:"button",className:`px-3 py-1 text-sm rounded-md transition-colors ${t===a.value?"text-primary font-bold bg-primary/10 shadow-sm":"text-text-secondary hover:bg-background-light"}`,"aria-pressed":t===a.value,onClick:()=>n==null?void 0:n(a.value),children:a.label},a.value))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6 relative custom-scroll",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-border-light min-h-[800px] flex flex-col relative",children:[s.jsxs("div",{className:"grid grid-cols-8 border-b border-border-light sticky top-0 bg-white z-10 rounded-t-xl",children:[s.jsx("div",{className:"p-3 text-center border-r border-border-light/50 text-xs font-bold text-text-secondary",children:""}),Cm.map((a,l)=>s.jsxs("div",{className:`p-3 text-center border-r border-border-light/50 ${l===Cm.length-1,""} ${a.isToday?"bg-primary/5":""}`,children:[s.jsx("div",{className:`text-xs font-medium ${a.isToday?"text-primary font-bold":"text-text-secondary"}`,children:a.label}),s.jsx("div",{className:`text-lg font-bold font-display mx-auto w-8 h-8 flex items-center justify-center rounded-full ${a.isToday?"bg-primary text-white":"text-text-main"}`,children:a.date})]},a.label))]}),s.jsxs("div",{className:"flex-1 grid grid-cols-8 relative",children:[s.jsx("div",{className:"absolute w-full border-t-2 border-primary z-10 flex items-center pointer-events-none",style:{top:"32%"},children:s.jsx("div",{className:"absolute -left-1 w-2 h-2 bg-primary rounded-full","aria-hidden":!0})}),s.jsx("div",{className:"col-span-1 border-r border-border-light/50 text-xs text-text-secondary font-medium",children:NS.map(a=>s.jsx("div",{className:"h-16 border-b border-border-light/30 flex items-start justify-center pt-2",children:a},a))}),s.jsx("div",{className:"col-span-7 grid grid-cols-7 absolute inset-0 left-[12.5%] h-full pointer-events-none",children:Array.from({length:7}).map((a,l)=>s.jsx("div",{className:`border-r border-border-light/30 h-full ${l===1?"bg-primary/5":""} grid grid-rows-[repeat(11,4rem)]`,children:Array.from({length:11}).map((i,o)=>s.jsx("div",{className:"border-b border-border-light/30"},o))},l))}),s.jsx("div",{className:"absolute inset-0 left-[12.5%] right-0",children:s.jsx("div",{className:"grid grid-cols-7 h-full",children:e.map(a=>{const l=PS(a),i=Math.min(Math.max(a.weekday,1),7);return s.jsx("div",{className:"relative px-1",style:{gridColumnStart:i},children:s.jsxs("button",{type:"button",className:`absolute inset-x-1 text-left rounded-lg p-3 text-xs cursor-pointer transition-transform hover:scale-[1.02] flex flex-col justify-between ${SS[a.status]}`,style:l,onClick:()=>r==null?void 0:r(a.id),"aria-label":`${a.title} ${a.startTime}-${a.endTime}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-1 gap-2",children:[s.jsx("span",{className:"font-bold line-clamp-2 leading-snug text-sm",children:a.title}),a.status==="live"?s.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-100 px-2 py-1 text-[11px] font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:""}):null]}),s.jsx("p",{className:"opacity-80 line-clamp-1",children:a.className})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-80",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:CS[a.status]}),s.jsxs("span",{children:[a.startTime," - ",a.endTime]})]})]})},a.id)})})})]})]})})]}),TS=({course:e,open:t,onClose:r,children:n})=>{const a={live:"",ongoing:"",upcoming:"",completed:"",pending:""};return s.jsxs("aside",{className:`absolute inset-y-0 right-0 w-[480px] bg-white shadow-drawer border-l border-border-light z-40 transform transition-transform duration-300 ease-in-out flex flex-col ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"",children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-border-light bg-slate-50",children:[s.jsx("div",{className:"flex-1",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700",children:a[e.status]}),s.jsxs("span",{className:"text-text-secondary text-sm",children:[e.dayLabel," ",e.startTime," - ",e.endTime]})]}),s.jsx("h2",{className:"text-xl font-bold text-text-main leading-tight mb-1",children:e.title}),s.jsx("p",{className:"text-text-secondary text-sm",children:e.className})]}):s.jsx("div",{className:"text-text-secondary text-sm",children:""})}),s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main hover:bg-black/5 rounded-full p-1 transition-colors",onClick:r,"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 p-6 border-b border-border-light",children:[s.jsxs("button",{className:"flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold py-2.5 px-4 rounded-lg shadow-sm transition-all active:scale-95","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined",children:"videocam"}),""]}),s.jsxs("button",{className:"flex items-center justify-center gap-2 bg-white border border-border-light hover:bg-slate-50 text-text-main font-medium py-2.5 px-4 rounded-lg transition-colors","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined",children:"edit"}),""]}),s.jsxs("button",{className:"col-span-2 flex items-center justify-center gap-2 bg-white border border-border-light hover:bg-slate-50 text-text-secondary font-medium py-2 px-4 rounded-lg text-sm transition-colors border-dashed","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"upload_file"})," /  / "]})]}),n?s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n}):null]})},_S=({students:e,onAttendanceChange:t,onViewProfile:r})=>s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-text-main",children:""}),s.jsxs("span",{className:"bg-gray-100 text-text-secondary text-xs px-2 py-0.5 rounded-full font-medium",children:[e.length,""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-primary text-sm font-medium hover:underline","aria-label":" CSV",children:"CSV"}),s.jsx("div",{className:"h-4 w-px bg-border-light","aria-hidden":!0}),s.jsx("button",{className:"text-primary text-sm font-medium hover:underline","aria-label":"",children:""})]})]}),s.jsx("div",{className:"px-6 pb-2",children:s.jsxs("div",{className:"flex border-b border-border-light",role:"tablist","aria-label":"",children:[s.jsx("button",{className:"px-4 py-2 text-sm font-bold text-primary border-b-2 border-primary",role:"tab","aria-selected":!0,children:""}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-main transition-colors",role:"tab",children:" (3)"}),s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-main transition-colors",role:"tab",children:" (28)"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-white z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-3 text-xs font-medium text-text-secondary border-b border-border-light w-[40%]",children:""}),s.jsx("th",{className:"py-3 text-xs font-medium text-text-secondary border-b border-border-light w-[30%]",children:""}),s.jsx("th",{className:"py-3 text-xs font-medium text-text-secondary border-b border-border-light w-[30%] text-right",children:""})]})}),s.jsx("tbody",{className:"text-sm",children:e.map(n=>s.jsx(Wu,{student:n,onAttendanceChange:t,onViewProfile:r},n.id))})]})})]});function OS(e){var y,j;const[t,r]=w.useState(!1),[n,a]=w.useState(void 0),[l,i]=w.useState([]),[o,d]=w.useState([]),[c,u]=w.useState([]),[h,f]=w.useState([]),m=w.useCallback(async()=>{r(!0),a(void 0);try{const[N,R,k,P]=await Promise.all([Ka.list(),Tt.list(),ar.list(),Ws.list()]);i(Array.isArray(N)?N:[]),d(Array.isArray(R)?R:[]),u(Array.isArray(k)?k:[]),f(Array.isArray(P)?P:[])}catch(N){a(N)}finally{r(!1)}},[]);w.useEffect(()=>{m()},[m]);const x=w.useMemo(()=>Array.isArray(l)?l.map((N,R)=>{var Q;const[k="00:00",P="01:00"]=(N.timeRange??"00:00 - 01:00").split("-").map(Y=>Y.trim()),T=((Q=N.schedule)==null?void 0:Q.split(" ")[0])??`${(R%7+1).toString()}`,D=`${24+R}`,z=N.status==="live"?"":N.status==="upcoming"?"":N.status==="completed"?"":"",M=N.status==="completed"?"recorded":"live";return{...N,className:N.classLabel??N.title,description:N.description,dayLabel:T,dateLabel:D,weekday:R%7+1,startTime:k,endTime:P,tag:z,mode:M,students:o.filter(Y=>!Y.courseId||Y.courseId===N.id),assignments:c.filter(Y=>Y.courseId===N.id),recordings:h.filter(Y=>Y.courseId===N.id)}}):[],[c,l,h,o]),g=((y=x.find(N=>N.status==="live"))==null?void 0:y.id)??((j=x[0])==null?void 0:j.id),[v,p]=w.useState(void 0);w.useEffect(()=>{const N=e??g;p(R=>R??N)},[e,g]);const b=w.useCallback((N,R)=>{d(k=>k.map(P=>P.id===N?{...P,attendance:R}:P))},[]);return{data:{courses:x,students:o,selectedCourseId:v},isLoading:t,error:n,actions:{setSelectedCourse:p,markAttendance:b}}}const Pm=()=>{const e=lo(),[t]=_u(),r=w.useMemo(()=>{const h=typeof(t==null?void 0:t.get)=="function"?t.get("courseId"):void 0,f=e==null?void 0:e.courseId;return h??f},[e,t]),{data:{courses:n,students:a,selectedCourseId:l},actions:{setSelectedCourse:i,markAttendance:o}}=OS(r),[d,c]=w.useState("week"),u=w.useMemo(()=>n.find(h=>h.id===l),[n,l]);return s.jsxs("div",{className:"flex min-h-screen bg-background-light text-text-main relative",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-6 p-4",children:[s.jsx(LS,{courses:n,view:d,onSelectCourse:i,onViewChange:c}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(h=>{var f;return s.jsx(Mb,{id:h.id,title:h.title,description:h.description,classLabel:h.classLabel??h.className,timeRange:h.timeRange,studentsCount:((f=h.students)==null?void 0:f.length)||0,status:h.status,onEnter:()=>i(h.id),onMore:()=>i(h.id)},h.id)})})]}),s.jsx(TS,{course:u,open:!!u,onClose:()=>i(void 0),children:s.jsx(_S,{students:a,onAttendanceChange:o})})]})},IS=()=>{const{id:e}=po("course-1"),t=$e(),[r,n]=w.useState(` ${e}`),a=i=>{i.preventDefault(),console.log(":",{courseId:e,title:r}),t(Va(e))},l=()=>{t(Va(e))};return s.jsxs("div",{className:"p-6","data-testid":"course-edit-page",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:""}),s.jsxs("p",{className:"text-sm text-text-secondary mb-4","data-testid":"course-id-display",children:[" ID: ",e]}),s.jsxs("form",{onSubmit:a,className:"space-y-4 max-w-md",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),s.jsx("input",{type:"text",value:r,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded",children:""}),s.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 rounded border",children:""})]})]})]})},DS=({courses:e,isLoading:t=!1,error:r=null,onCourseDetail:n,onEnter:a,onViewAll:l,onAddCourse:i,onRetry:o})=>t?s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:s.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-white",children:""})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(d=>s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-5 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-3"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-full"})]},d))})]}):r?s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:s.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-white",children:""})}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-3xl text-red-500 mb-2",children:"error_outline"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3",children:r.message||""}),o&&s.jsx("button",{type:"button",className:"px-4 h-9 rounded-lg border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 text-sm font-medium hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",onClick:o,children:""})]})]}):e.length===0?s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[s.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-white",children:""}),s.jsx("button",{type:"button",className:"text-xs text-primary hover:underline",onClick:()=>l==null?void 0:l(),children:""})]}),s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-3xl text-text-secondary",children:"event_available"})}),s.jsx("h4",{className:"text-base font-semibold text-text-main dark:text-white mb-1",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:""}),i&&s.jsxs("button",{type:"button",className:"px-4 h-9 rounded-lg bg-primary text-white text-sm font-medium hover:bg-primary-600 transition-colors inline-flex items-center gap-2",onClick:i,children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),""]})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[s.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-white",children:""}),s.jsxs("div",{className:"flex gap-2","aria-label":"",children:[s.jsx("button",{className:"size-8 flex items-center justify-center rounded-full bg-input-bg dark:bg-slate-700 text-text-secondary hover:text-text-main disabled:opacity-50","aria-label":"",disabled:!0,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back_ios_new"})}),s.jsx("button",{className:"size-8 flex items-center justify-center rounded-full bg-input-bg dark:bg-slate-700 text-text-secondary hover:text-text-main","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward_ios"})}),s.jsx("button",{type:"button",className:"ml-3 text-xs text-primary hover:underline",onClick:()=>l==null?void 0:l(),children:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",role:"list","aria-label":"",children:[e.map(d=>s.jsx(Mb,{id:d.id,title:d.title,description:d.description,classLabel:d.classLabel,timeRange:d.timeRange||"",studentsCount:d.studentsCount??0,status:d.status,onEnter:()=>a==null?void 0:a(d.id),onMore:()=>n==null?void 0:n(d.id)},d.id)),s.jsxs("button",{className:"bg-transparent rounded-xl border-2 border-dashed border-border-color dark:border-slate-700 flex flex-col items-center justify-center p-5 text-center group hover:border-primary/50 hover:bg-primary/5 transition-all cursor-pointer min-h-[180px]","aria-label":"",onClick:()=>i==null?void 0:i(),children:[s.jsx("div",{className:"size-12 rounded-full bg-input-bg dark:bg-slate-800 flex items-center justify-center mb-3 group-hover:bg-primary group-hover:text-white transition-colors text-text-secondary",children:s.jsx("span",{className:"material-symbols-outlined",children:"edit_calendar"})}),s.jsx("h4",{className:"font-bold text-text-main dark:text-white text-sm",children:""}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:""})]})]})]}),MS=({metrics:e})=>s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 p-6 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-text-main dark:text-white text-lg flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"analytics"}),""]}),s.jsxs("p",{className:"text-xs text-text-secondary flex items-center gap-1.5 mt-1.5",children:[s.jsxs("span",{className:"relative flex h-2 w-2","aria-hidden":!0,children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"font-mono",children:"WS_CONNECTED"}),"  "]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("select",{className:"bg-input-bg dark:bg-slate-700 border-none text-xs font-medium text-text-main dark:text-white rounded-lg py-1.5 pl-3 pr-8 focus:ring-1 focus:ring-primary","aria-label":"",children:s.jsx("option",{children:" (A)"})})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",role:"list","aria-label":"",children:e.map(t=>s.jsx(Db,{keyName:t.key,label:t.label,value:t.value,unit:t.unit,color:t.color,progress:t.progress},t.key))})]}),AS=({assignments:e,isLoading:t=!1,error:r=null,onGrade:n,onViewAll:a,onRetry:l,onCreateAssignment:i})=>t?s.jsxs("section",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 h-full flex flex-col","aria-label":"",children:[s.jsx("div",{className:"p-5 pb-3 border-b border-border-color dark:border-slate-700 flex justify-between items-center",children:s.jsx("h3",{className:"font-bold text-text-main dark:text-white text-lg",children:""})}),s.jsx("div",{className:"flex-1 p-3 space-y-3",children:[1,2,3].map(o=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},o))})]}):r?s.jsxs("section",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 h-full flex flex-col","aria-label":"",children:[s.jsx("div",{className:"p-5 pb-3 border-b border-border-color dark:border-slate-700 flex justify-between items-center",children:s.jsx("h3",{className:"font-bold text-text-main dark:text-white text-lg",children:""})}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-3xl text-red-500 mb-2",children:"error_outline"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3",children:r.message||""}),l&&s.jsx("button",{type:"button",className:"px-3 h-8 rounded-lg border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 text-xs font-medium hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",onClick:l,children:""})]})]}):e.length===0?s.jsxs("section",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 h-full flex flex-col","aria-label":"",children:[s.jsxs("div",{className:"p-5 pb-3 border-b border-border-color dark:border-slate-700 flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-text-main dark:text-white text-lg",children:""}),s.jsx("span",{className:"bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-300 text-[10px] font-bold px-2 py-0.5 rounded-full border border-green-200 dark:border-green-800",children:""})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-green-50 dark:bg-green-900/20 flex items-center justify-center mb-3",children:s.jsx("span",{className:"material-symbols-outlined text-2xl text-green-500",children:"check_circle"})}),s.jsx("h4",{className:"text-sm font-semibold text-text-main dark:text-white mb-1",children:""}),s.jsx("p",{className:"text-xs text-text-secondary mb-4",children:""}),i&&s.jsxs("button",{type:"button",className:"px-3 h-8 rounded-lg bg-primary text-white text-xs font-medium hover:bg-primary-600 transition-colors inline-flex items-center gap-1",onClick:i,children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"}),""]})]}),s.jsx("div",{className:"p-3 border-t border-border-color dark:border-slate-700",children:s.jsxs("button",{onClick:()=>a==null?void 0:a(),className:"w-full py-2 text-xs font-bold text-text-secondary hover:text-primary hover:bg-input-bg dark:hover:bg-slate-700 rounded-lg transition-colors flex items-center justify-center gap-1","aria-label":"",children:["",s.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"})]})})]}):s.jsxs("section",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow-[0_2px_10px_rgba(0,0,0,0.03)] dark:shadow-none border border-border-color dark:border-slate-700 h-full flex flex-col","aria-label":"",children:[s.jsxs("div",{className:"p-5 pb-3 border-b border-border-color dark:border-slate-700 flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-text-main dark:text-white text-lg",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-20","aria-hidden":!0}),s.jsxs("span",{className:"relative bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-300 text-[10px] font-bold px-2 py-0.5 rounded-full border border-red-200 dark:border-red-800",children:[e.length," "]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:s.jsx("ul",{className:"space-y-2",role:"list",children:e.map(o=>s.jsx(Fu,{...o,onAction:d=>n==null?void 0:n(d)},o.id))})}),s.jsx("div",{className:"p-3 border-t border-border-color dark:border-slate-700",children:s.jsxs("button",{onClick:()=>a==null?void 0:a(),className:"w-full py-2 text-xs font-bold text-text-secondary hover:text-primary hover:bg-input-bg dark:hover:bg-slate-700 rounded-lg transition-colors flex items-center justify-center gap-1","aria-label":"",children:["",s.jsx("span",{className:"material-symbols-outlined text-sm",children:"chevron_right"})]})})]}),Vl=Fs,FS=[{key:"participation",label:"",value:92,unit:"%"},{key:"accuracy",label:"",value:78,unit:"%"},{key:"hands",label:"",value:5,unit:""}];function $S(){var i,o;const e=Vl.courses??[],t=Vl.assignments??[],r=(i=Vl.dashboard)==null?void 0:i.today_course_ids,n=r!=null&&r.length?e.filter(d=>r.includes(d.id)):e.slice(0,4),a=t.slice(0,6),l=((o=Vl.dashboard)==null?void 0:o.metrics)??FS;return{courses:n,assignments:a,metrics:l}}async function zS(){try{return(await me.get("/dashboard")).data}catch(e){console.warn("fetchDashboard failed, falling back to mock data",e)}return $S()}const US={fetchDashboard:zS};function BS(){const e=tb(),{data:t,isLoading:r,refetch:n}=Fk({queryKey:["dashboard"],queryFn:US.fetchDashboard,staleTime:6e4});return{data:t??{courses:[],assignments:[],metrics:[]},isLoading:r,actions:{refresh:()=>n().then(l=>l.data),invalidate:async()=>{await e.invalidateQueries({queryKey:["dashboard"]})}}}}const HS=()=>{const{data:e}=BS(),t=$e(),r=(e==null?void 0:e.courses)??[],n=(e==null?void 0:e.assignments)??[],a=(e==null?void 0:e.metrics)??[],l=g=>{t(Va(g))},i=g=>{t(sb(g))},o=()=>{t(G.courseSchedule)},d=g=>{t(lb(g))},c=()=>{t(G.assignmentManagement)},u=()=>{t(G.liveTeaching)},h=()=>{t(G.assignmentNew)},f=()=>{t(G.resourceUpload)},m=["blue","orange","purple"],x=a.map((g,v)=>({...g,color:g.color??m[v%m.length]}));return s.jsx(co,{children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:"max-w-[1280px] mx-auto p-6 lg:p-10 space-y-8",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-[28px] font-bold text-text-main dark:text-white leading-tight",children:" "}),s.jsxs("p",{className:"text-text-secondary text-sm mt-1",children:[" ",s.jsxs("span",{className:"text-text-main dark:text-white font-medium",children:[r.length," "]})," "," ",s.jsxs("span",{className:"text-text-main dark:text-white font-medium",children:[n.length," "]}),""]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",role:"group","aria-label":"",children:[s.jsxs("button",{onClick:()=>h(),className:"flex items-center gap-2 px-4 py-2 bg-surface-light dark:bg-surface-dark border border-border-color dark:border-slate-600 rounded-lg shadow-sm hover:border-primary/50 text-text-main dark:text-white text-sm font-bold transition-all","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"add_circle"}),""]}),s.jsxs("button",{onClick:()=>f(),className:"flex items-center gap-2 px-4 py-2 bg-surface-light dark:bg-surface-dark border border-border-color dark:border-slate-600 rounded-lg shadow-sm hover:border-primary/50 text-text-main dark:text-white text-sm font-bold transition-all","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"cloud_upload"}),""]}),s.jsxs("button",{onClick:()=>u(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white border border-primary rounded-lg shadow-md shadow-primary/20 hover:bg-blue-600 text-sm font-bold transition-all active:scale-95 select-none","aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"videocam"}),""]})]})]}),s.jsx("section",{children:s.jsx(DS,{courses:r,onCourseDetail:l,onEnter:i,onViewAll:o})}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6","aria-label":"",children:[s.jsx("div",{className:"xl:col-span-2 space-y-6",children:s.jsx(MS,{metrics:x})}),s.jsx("div",{className:"xl:col-span-1",children:s.jsx(AS,{assignments:n,onGrade:d,onViewAll:c})})]})]})})})},QS={high:"bg-red-50 text-red-700 border border-red-200",medium:"bg-amber-50 text-amber-700 border border-amber-200",low:"bg-emerald-50 text-emerald-700 border border-emerald-200"},WS=({items:e,filter:t,search:r,stats:n,selectedId:a,isLoading:l,onSelect:i,onFilterChange:o,onSearchChange:d})=>{const c=[{label:"",value:"all",count:n.all},{label:"",value:"unread",count:n.unread},{label:"",value:"question",count:n.question},{label:"",value:"appeal",count:n.appeal},{label:"",value:"system",count:n.system},{label:"",value:"general",count:n.general}];return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark flex flex-col gap-3 shadow-sm z-10",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"search"})}),s.jsx("input",{type:"text",value:r,onChange:u=>d(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-lg text-sm focus:ring-2 focus:ring-primary/50 placeholder:text-text-secondary-light dark:text-white",placeholder:"..."})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide -mx-1 px-1",children:c.map(u=>s.jsxs("button",{type:"button",onClick:()=>o(u.value),className:`flex-shrink-0 px-3 py-1.5 rounded-full text-xs font-semibold border transition-all ${t===u.value?"bg-primary/10 text-primary border-primary/30":"bg-background-light dark:bg-background-dark text-text-secondary-light dark:text-text-secondary-dark border-border-light dark:border-border-dark hover:border-slate-300 dark:hover:border-slate-600"}`,children:[u.label,typeof u.count=="number"?s.jsxs("span",{className:"ml-1 text-[11px] font-bold",children:["(",u.count,")"]}):null]},u.value))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:"..."}):e.length===0?s.jsx("div",{className:"p-6 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""}):s.jsx("ul",{children:e.map(u=>{var h;return s.jsx("li",{className:"border-b border-border-light dark:border-border-dark last:border-none",children:s.jsxs("button",{type:"button",onClick:()=>i(u.id),className:`w-full text-left p-4 flex flex-col gap-2 transition-colors ${a===u.id?"bg-primary/5 dark:bg-primary/10 border-l-4 border-l-primary":"hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-text-main-light dark:text-text-main-dark font-bold text-[11px]",children:u.type==="question"?"":u.type==="system"?"":u.type==="appeal"?"":""}),s.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-bold ${QS[u.priority]}`,children:u.priority==="high"?"":u.priority==="medium"?"":""}),(h=u.tags)==null?void 0:h.map(f=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-[11px] font-medium",children:f},f))]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary-light dark:text-text-secondary-dark",children:[u.isRead?null:s.jsx("span",{className:"size-2 rounded-full bg-primary inline-block","aria-label":"unread"}),s.jsx("span",{children:u.time})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-text-main-light dark:text-text-main-dark",children:[s.jsx("span",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:u.sender}),s.jsx("span",{className:"text-text-secondary-light",children:""}),s.jsx("span",{children:u.subject})]}),s.jsx("p",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark line-clamp-2 leading-relaxed",children:u.preview})]})},u.id)})})})]})},VS=({selected:e,onReply:t,onForward:r,onCreateTicket:n,onToggleRead:a})=>{var l;return s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-border-light dark:border-border-dark overflow-hidden flex flex-col min-h-[520px]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border-light dark:border-border-dark bg-slate-50/50 dark:bg-slate-900/40",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg text-text-secondary-light dark:text-text-secondary-dark transition-colors",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined",children:"reply"})}),s.jsx("button",{className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg text-text-secondary-light dark:text-text-secondary-dark transition-colors",onClick:r,children:s.jsx("span",{className:"material-symbols-outlined",children:"forward"})}),s.jsx("button",{className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg text-text-secondary-light dark:text-text-secondary-dark transition-colors",onClick:n,children:s.jsx("span",{className:"material-symbols-outlined",children:"assignment_add"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsx("button",{type:"button",className:`px-2 py-1 rounded text-xs font-bold border ${e.isRead?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-orange-50 text-orange-700 border-orange-200"}`,onClick:a,children:e.isRead?"":""})]})]}),s.jsxs("div",{className:"p-6 flex-1 flex flex-col gap-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-bold text-text-main-light dark:text-text-main-dark mb-2",children:e.subject}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:[s.jsx("span",{className:"font-semibold text-text-main-light dark:text-text-main-dark",children:e.sender}),s.jsx("span",{className:"text-text-secondary-light",children:""}),s.jsx("span",{children:e.role}),e.email?s.jsx("span",{className:"text-text-secondary-light",children:e.email}):null,s.jsx("span",{className:"text-text-secondary-light",children:e.time})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[s.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-800 text-xs font-bold text-text-main-light dark:text-text-main-dark",children:e.type==="question"?"":e.type==="appeal"?"":e.type==="system"?"":""}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${e.priority==="high"?"bg-red-50 text-red-700 border-red-200":e.priority==="medium"?"bg-amber-50 text-amber-700 border-amber-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:e.priority==="high"?"":e.priority==="medium"?"":""}),(l=e.tags)==null?void 0:l.map(i=>s.jsx("span",{className:"px-2 py-0.5 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-xs font-medium",children:i},i))]})]}),s.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none text-sm leading-relaxed text-text-main-light dark:text-text-main-dark",children:s.jsx("p",{children:e.content})}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-border-light dark:border-border-dark",children:[s.jsx("div",{className:"mb-3 text-sm font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover transition-colors flex items-center gap-1",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"reply"}),""]}),s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-1",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"forward"}),""]}),s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-1",onClick:n,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"assignment_add"}),""]}),s.jsxs("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-1",onClick:a,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"visibility"}),e.isRead?"":""]})]})]})]})]})})},od=[{id:"msg-1",type:"question",subject:"",preview:"",content:"4 AC  O  D BD  AC BD ",sender:"",role:"",email:"zhangwei_student@edu.com",time:" 10:30",priority:"medium",isRead:!1,tags:["",""]},{id:"msg-2",type:"system",subject:" ",preview:" 15  48  3 ",content:" 15  48  3 ",sender:"",role:"",time:"09:15",priority:"high",isRead:!1,tags:[""]},{id:"msg-3",type:"appeal",subject:" 12 ",preview:" 12 ",content:" 12 ",sender:"",role:"",email:"liming_student@edu.com",time:"",priority:"high",isRead:!0,tags:["",""]},{id:"msg-4",type:"question",subject:"",preview:"",content:"",sender:"",role:"",time:"2 ",priority:"low",isRead:!0,tags:[""]},{id:"msg-5",type:"general",subject:"",preview:"",content:"",sender:"",role:"",email:"team_lead@edu.com",time:"",priority:"medium",isRead:!0,tags:["",""]}],KS=()=>{var b;const[e,t]=E.useState(od),[r,n]=E.useState(((b=od[0])==null?void 0:b.id)??null),[a,l]=E.useState("all"),[i,o]=E.useState(""),[d,c]=E.useState(!1),u=E.useMemo(()=>({all:e.length,unread:e.filter(y=>!y.isRead).length,question:e.filter(y=>y.type==="question").length,appeal:e.filter(y=>y.type==="appeal").length,system:e.filter(y=>y.type==="system").length,general:e.filter(y=>y.type==="general").length}),[e]),h=E.useMemo(()=>e.filter(y=>{var R;if(!(a==="all"?!0:a==="unread"?!y.isRead:y.type===a))return!1;if(!i)return!0;const N=i.toLowerCase();return y.subject.toLowerCase().includes(N)||y.preview.toLowerCase().includes(N)||y.sender.toLowerCase().includes(N)||((R=y.tags)==null?void 0:R.some(k=>k.toLowerCase().includes(N)))}),[e,a,i]);E.useEffect(()=>{if(!r&&h.length){n(h[0].id);return}r&&h.every(y=>y.id!==r)&&h.length&&n(h[0].id)},[h,r]);const f=y=>n(y),m=async y=>{t(j=>j.map(N=>N.id===y?{...N,isRead:!0}:N))},x=async y=>{t(j=>j.map(N=>N.id===y?{...N,isRead:!1}:N))},g=async y=>{t(j=>j.map(N=>N.id===y?{...N,isRead:!N.isRead}:N))},v=async()=>{t(y=>y.map(j=>({...j,isRead:!0})))},p=async()=>{c(!0),await new Promise(y=>setTimeout(y,300)),t(od),c(!1)};return{notifications:e,filteredNotifications:h,selectedId:r,filter:a,search:i,stats:u,isLoading:d,unreadCount:u.unread,actions:{select:f,setFilter:l,setSearch:o,markRead:m,markUnread:x,markAllRead:v,toggleRead:g,refetch:p}}},qS=()=>{const{notifications:e,filteredNotifications:t,selectedId:r,filter:n,search:a,stats:l,isLoading:i,unreadCount:o,actions:d}=KS(),c=w.useMemo(()=>e.find(g=>g.id===r)??t[0]??null,[e,t,r]),u=g=>{d.select(g),d.markRead(g)},h=()=>{c&&console.log("reply stub",c.id)},f=()=>{c&&console.log("forward stub",c.id)},m=()=>{c&&console.log("create ticket stub",c.id)},x=()=>{c&&d.toggleRead(c.id)};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark flex flex-col",children:[s.jsxs("header",{className:"h-16 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-6 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-lg font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsxs("span",{className:"text-xs bg-primary text-white px-2 py-0.5 rounded-full font-bold",children:[" ",o]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:()=>void d.markAllRead(),children:""}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:()=>void d.refetch(),children:""})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("section",{className:"w-full md:w-[380px] flex-shrink-0 flex flex-col bg-surface-light dark:bg-surface-dark border-r border-border-light dark:border-border-dark",children:s.jsx(WS,{items:t,filter:n,search:a,stats:l,selectedId:r,isLoading:i,onSelect:u,onFilterChange:d.setFilter,onSearchChange:d.setSearch})}),s.jsx("section",{className:"flex-1 flex flex-col min-w-0 bg-background-light dark:bg-background-dark",children:c?s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx(VS,{selected:c,onReply:h,onForward:f,onCreateTicket:m,onToggleRead:x})}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-text-secondary-light dark:text-text-secondary-dark",children:""})})]})]})},GS={ready:{label:"",tone:"bg-emerald-100 text-emerald-700"},processing:{label:"",tone:"bg-amber-100 text-amber-700"},failed:{label:"",tone:"bg-red-100 text-red-700"}},Lm={label:"",tone:"bg-gray-100 text-gray-600"},JS=({id:e,title:t,duration:r,date:n,status:a,preview:l,onPlay:i,onShare:o,onExport:d})=>{const c=a?GS[a]??Lm:Lm;return s.jsxs("article",{className:"group bg-white rounded-xl border border-border-light shadow-sm hover:shadow-md hover:border-border-dark/50 transition-all cursor-pointer flex flex-col overflow-hidden",role:"listitem",children:[s.jsxs("div",{className:"relative aspect-video bg-slate-200 w-full overflow-hidden",children:[l?s.jsx("div",{className:"absolute inset-0 bg-center bg-cover transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url(${l})`},"aria-hidden":!0}):null,s.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 backdrop-blur-sm text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:r}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx("button",{type:"button",className:"bg-white/90 rounded-full p-2 shadow-lg backdrop-blur-sm transform scale-90 group-hover:scale-100 transition-transform",onClick:()=>i(e),"aria-label":` ${t}`,children:s.jsx("span",{className:"material-symbols-outlined text-primary text-[28px] pl-1",children:"play_arrow"})})})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-2 flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-text-main font-bold text-sm leading-snug line-clamp-2 group-hover:text-primary transition-colors",children:t}),s.jsx("button",{className:"text-text-secondary hover:text-text-main -mr-2 -mt-2 p-2 rounded-full","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})})]}),s.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs text-text-secondary",children:[s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] font-semibold ${c.tone}`,children:c.label})}),s.jsx("span",{children:n})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 text-xs",children:[s.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-lg border border-border-light hover:border-primary text-text-main hover:text-primary transition-colors",onClick:()=>o(e),"aria-label":` ${t}`,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"share"}),""]}),s.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded-lg border border-border-light hover:border-primary text-text-main hover:text-primary transition-colors",onClick:()=>d(e),"aria-label":` ${t}`,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"file_download"}),""]})]})]})]})},YS=({recordings:e,isLoading:t=!1,error:r=null,onPlay:n,onShare:a,onExport:l,onFilterChange:i,filters:o,onRetry:d})=>{const c=o==null?void 0:o.courseId,u=o==null?void 0:o.status,h=o==null?void 0:o.date,f=w.useCallback(v=>{i==null||i({courseId:v.target.value||void 0})},[i]),m=w.useCallback(v=>{i==null||i({status:v.target.value||void 0})},[i]),x=w.useCallback(v=>{i==null||i({date:v.target.value||void 0})},[i]),g=s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-gray-800 text-sm",placeholder:" ID",value:c??"",onChange:f,disabled:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-gray-800 text-sm",value:u??"",onChange:m,disabled:t,children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"ready",children:""}),s.jsx("option",{value:"processing",children:""}),s.jsx("option",{value:"failed",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-text-secondary",children:""}),s.jsx("input",{className:"h-9 px-3 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-gray-800 text-sm",type:"date",value:h??"",onChange:x,disabled:t})]})]});return t?s.jsxs("section",{className:"space-y-4",children:[g,s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map(v=>s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700"}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},v))})]}):r?s.jsxs("section",{className:"space-y-4",children:[g,s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-8 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-3xl text-red-500 mb-2",children:"error_outline"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-3",children:r.message||""}),d&&s.jsx("button",{type:"button",className:"px-4 h-9 rounded-lg border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 text-sm font-medium hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",onClick:d,children:""})]})]}):e.length===0?s.jsxs("section",{className:"space-y-4",children:[g,s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-3xl text-text-secondary",children:"videocam_off"})}),s.jsx("h3",{className:"text-base font-semibold text-text-main dark:text-white mb-1",children:""}),s.jsx("p",{className:"text-sm text-text-secondary max-w-sm mx-auto",children:c||u||h?"":""})]})]}):s.jsxs("section",{className:"space-y-4",children:[g,s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",role:"list",children:e.map(v=>s.jsx(JS,{...v,onPlay:n,onShare:a,onExport:l},v.id))})]})},Ab=({recording:e,onClose:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex justify-end",role:"dialog","aria-modal":"true","aria-label":"",children:s.jsxs("div",{className:"relative w-full max-w-3xl bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[s.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-border-light",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-text-main line-clamp-1",children:e.title}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[": ",e.courseId||"","  ",e.date]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 text-text-secondary hover:bg-gray-100 rounded-lg transition-colors",title:"",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"open_in_new"})}),s.jsx("button",{className:"p-2 text-text-secondary hover:bg-gray-100 rounded-lg transition-colors",title:"",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"close"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"bg-black aspect-video relative",children:[s.jsx("div",{className:"absolute inset-0 bg-center bg-cover opacity-80",style:{backgroundImage:`url(${e.preview||""})`},"aria-hidden":!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("button",{className:"bg-white/20 backdrop-blur-md rounded-full p-4 hover:scale-110 transition-transform","aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-white text-[40px] fill-1",children:"play_arrow"})})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/20",children:s.jsx("div",{className:"h-full bg-primary w-1/3 relative",children:s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 size-3 bg-white rounded-full shadow cursor-pointer","aria-label":""})})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-text-secondary",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-main",children:""}),s.jsxs("p",{children:[": ",e.duration]}),s.jsxs("p",{children:[": ",e.status]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-main",children:""}),s.jsx("p",{className:"text-xs",children:"TODO: "})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-bold text-text-main flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"content_cut"}),"/"]}),s.jsx("div",{className:"h-12 bg-slate-100 rounded-lg border border-border-light relative overflow-hidden flex items-center px-2 text-xs text-text-secondary",children:s.jsx("span",{className:"opacity-60",children:"/"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-bold text-text-main flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"whiteboard"}),""]}),s.jsx("p",{className:"text-sm text-text-secondary",children:"TODO: /"})]})]})]})]})}):null;function XS(e={}){const[t,r]=w.useState([]),[n,a]=w.useState(e),[l,i]=w.useState(!1),[o,d]=w.useState(void 0),c=w.useMemo(()=>t.filter(m=>!(n.courseId&&m.courseId!==n.courseId||n.status&&m.status!==n.status||n.date&&m.date!==n.date)),[n,t]),u=w.useCallback(async()=>{i(!0),d(void 0);try{const m=await Ws.list(n.courseId);r(m)}catch(m){d(m)}finally{i(!1)}},[n.courseId]);w.useEffect(()=>{u()},[u]),w.useEffect(()=>{if(!c.some(g=>g.status==="processing"))return;const x=setInterval(()=>{u()},4e3);return()=>clearInterval(x)},[c,u]);const h=w.useCallback(async m=>{r(x=>x.map(g=>g.id===m?{...g,status:"ready"}:g))},[]),f=w.useCallback(m=>{a(x=>({...x,...m}))},[]);return{recordings:c,isLoading:l,error:o,filters:n,setFilters:f,refetch:u,setReady:h}}const ZS=()=>{const e=$e(),{id:t}=po(),{id:r}=_b(),{recordings:n,isLoading:a,error:l,filters:i,setFilters:o,refetch:d}=XS({courseId:t}),[c,u]=w.useState(r),[h,f]=w.useState(null),[m,x]=w.useState(null);w.useEffect(()=>{t&&t!==i.courseId&&o({courseId:t})},[t,i.courseId,o]),w.useEffect(()=>{r&&u(r)},[r]);const g=w.useMemo(()=>n.find(j=>j.id===c),[c,n]),v=w.useCallback(j=>{u(j)},[]);w.useCallback(j=>{e(ab(j,i.courseId))},[e,i.courseId]);const p=w.useCallback(async j=>{var R;const N=`${window.location.origin}/recordings/${j}`;f(N);try{if(typeof navigator<"u"&&((R=navigator.clipboard)!=null&&R.writeText)){await navigator.clipboard.writeText(N),x("");return}x("")}catch(k){console.error("",k),x("")}},[]),b=w.useCallback(j=>{x(`: ${j}`),f(null)},[]),y=w.useCallback(()=>{u(void 0)},[]);return s.jsxs("div",{className:"p-6 space-y-6","data-testid":"recording-library-page",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main dark:text-white",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm text-text-main hover:border-primary transition-colors",onClick:()=>void d(),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"refresh"}),s.jsx("span",{className:"ml-1",children:""})]}),s.jsxs("button",{className:"px-3 h-10 rounded-lg bg-primary text-white text-sm shadow hover:shadow-md transition-shadow",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"upload"}),s.jsx("span",{className:"ml-1",children:""})]})]})]}),m?s.jsxs("div",{className:"rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800 flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{children:m}),h?s.jsx("p",{className:"font-mono text-[11px] break-all text-amber-900",children:h}):null]}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>{x(null),f(null)},"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,l?s.jsx("div",{className:"text-sm text-red-600",children:l.message}):null,a?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(YS,{recordings:n,onPlay:v,onShare:p,onExport:b,onFilterChange:o,filters:i}),s.jsx(Ab,{recording:g,onClose:y})]})},e2=()=>{const e=$e(),{id:t,source:r}=_b(),{id:n}=po(),[a,l]=w.useState(null),[i,o]=w.useState(!0),[d,c]=w.useState(null);w.useEffect(()=>{if(!t){c(new Error(" ID")),o(!1);return}let f=!1;return(async()=>{o(!0),c(null);try{const x=await Ws.get(t);if(f)return;x?l(x):c(new Error(`${t}`))}catch(x){if(f)return;c(x)}finally{f||o(!1)}})(),()=>{f=!0}},[t]);const u=w.useCallback(()=>{e(Au(n))},[e,n]),h=w.useCallback(async()=>{if(!t)return;const f=`${window.location.origin}/recordings/${t}`;try{await navigator.clipboard.writeText(f),alert("")}catch{alert(`${f}`)}},[t]);return d?s.jsx("div",{className:"min-h-screen bg-background-light dark:bg-background-dark flex items-center justify-center",children:s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-lg p-8 max-w-md text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-5xl text-red-500 mb-4",children:"error"}),s.jsx("h1",{className:"text-xl font-bold text-text-main dark:text-white mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:d.message}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg border border-border-light dark:border-border-dark text-sm",children:""}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-primary text-white text-sm",children:""})]})]})}):i?s.jsx("div",{className:"min-h-screen bg-background-light dark:bg-background-dark flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-text-secondary",children:"..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background-dark","data-testid":"recording-detail-page",children:[s.jsxs("header",{className:"bg-gray-900/80 backdrop-blur-sm border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[s.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 text-sm text-white/80 hover:text-white",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_back"}),""]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs text-white/60","data-testid":"recording-id-display",children:["ID: ",t]}),s.jsxs("button",{onClick:h,className:"px-3 py-1.5 rounded-lg border border-white/20 text-white/80 text-xs hover:bg-white/10",children:[s.jsx("span",{className:"material-symbols-outlined text-sm align-middle mr-1",children:"share"}),""]})]})]}),s.jsx("div",{className:"p-6",children:a?s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h1",{className:"text-xl font-bold text-white","data-testid":"recording-title",children:a.title}),s.jsxs("p",{className:"text-sm text-white/60 mt-1",children:[a.date,"  ",a.duration,a.status==="processing"&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded text-xs",children:""})]})]}),s.jsx(Ab,{recording:a,onClose:u})]}):s.jsx("div",{className:"text-center py-20 text-white/60",children:"..."})})]})},t2=e=>{switch(e){case"pdf":return"picture_as_pdf";case"video":return"play_circle";case"doc":return"description";case"tex":return"code";default:return"insert_drive_file"}},r2=e=>e==="pdf"?"bg-red-50 text-red-600 border-red-100":e==="video"?"bg-purple-50 text-purple-600 border-purple-100":e==="tex"?"bg-slate-100 text-slate-600 border-slate-200":e==="doc"?"bg-blue-50 text-blue-600 border-blue-100":"bg-slate-50 text-slate-600 border-slate-100",n2=({resource:e,onPreview:t,onInsert:r,onShare:n,onDelete:a})=>{const l=t2(e.type),i=r2(e.type);return s.jsxs("div",{className:"group relative flex flex-col bg-white dark:bg-surface-dark rounded-xl border border-border-light shadow-sm hover:shadow-md hover:border-primary/30 transition-all cursor-pointer",children:[s.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-xl overflow-hidden flex items-center justify-center",children:[s.jsx("span",{className:"material-symbols-outlined text-6xl text-slate-300 group-hover:text-primary transition-colors",children:l}),e.durationLabel?s.jsx("span",{className:"absolute bottom-2 right-2 px-1.5 py-0.5 bg-black/60 text-white text-[10px] rounded",children:e.durationLabel}):null,s.jsx("button",{type:"button",className:"absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity",onClick:o=>{o.stopPropagation(),t==null||t(e)},children:s.jsx("span",{className:"material-symbols-outlined text-[20px] text-white drop-shadow",children:"visibility"})})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx("h3",{className:"font-bold text-text-main text-sm leading-snug line-clamp-2",children:e.title}),s.jsx("div",{className:"flex gap-1",children:s.jsx("button",{type:"button",className:"text-text-secondary hover:text-text-main",onClick:o=>{o.stopPropagation(),a==null||a(e)},"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[e.tags.map(o=>s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-medium border ${i}`,children:o},o)),e.module?s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-medium bg-blue-50 text-blue-600 border border-blue-100",children:e.module}):null]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border-light",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[s.jsx("span",{children:e.uploader??""}),e.version?s.jsx("span",{className:"text-[10px] font-mono",children:e.version}):null,e.sizeLabel?s.jsx("span",{className:"text-[10px]",children:e.sizeLabel}):null]}),s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx("button",{type:"button",className:"hover:text-primary",onClick:o=>{o.stopPropagation(),r==null||r(e)},children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add_link"})}),s.jsx("button",{type:"button",className:"hover:text-primary",onClick:o=>{o.stopPropagation(),n==null||n(e)},children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"share"})})]})]})]})]})},s2=()=>s.jsxs("aside",{className:"w-80 bg-white border-l border-border-light shadow-xl flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-border-light flex items-center justify-between bg-background-light",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"output"}),s.jsx("h3",{className:"font-bold text-text-main",children:""})]}),s.jsx("span",{className:"text-xs bg-primary text-white px-2 py-0.5 rounded-full font-bold",children:""})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 text-sm text-text-secondary",children:[s.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-lg mb-3",children:""}),s.jsx("p",{children:" console "})]}),s.jsx("div",{className:"p-4 border-t border-border-light bg-background-light",children:s.jsxs("button",{className:"w-full py-2.5 bg-primary text-white rounded-lg font-bold text-sm shadow hover:bg-primary-hover transition-colors flex items-center justify-center gap-2",type:"button",children:[s.jsx("span",{children:""}),s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"arrow_forward"})]})})]}),a2=({onRefresh:e,onOpenUpload:t})=>s.jsxs("header",{className:"h-16 flex items-center justify-between border-b border-border-light bg-white px-6 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 rounded bg-primary text-white flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"calculate"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-text-main",children:""}),s.jsx("p",{className:"text-xs text-text-secondary",children:"  "})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-white border border-border-light rounded-lg text-text-main font-medium hover:bg-slate-50 shadow-sm",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"history"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-bold hover:bg-primary-hover shadow-md",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"cloud_upload"}),""]})]})]}),l2=({folders:e,selectedFolder:t,onSelectFolder:r})=>s.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-border-light bg-white overflow-y-auto p-4",children:[s.jsx("h3",{className:"text-xs font-bold text-text-secondary uppercase tracking-wider mb-3",children:""}),s.jsx("ul",{className:"space-y-1 text-sm",children:e.map(n=>s.jsx("li",{children:s.jsx("button",{type:"button",className:`w-full text-left px-3 py-2 rounded-lg hover:bg-background-light transition-colors ${t===n?"bg-primary/10 text-primary font-semibold":"text-text-main"}`,onClick:()=>r(n),children:n})},n))}),s.jsx("div",{className:"mt-6 text-xs text-text-secondary",children:""})]}),i2=({search:e,onSearchChange:t})=>s.jsxs("div",{className:"px-6 pt-5 pb-0",children:[s.jsxs("div",{className:"flex items-center text-sm text-text-secondary mb-3",children:[s.jsx("span",{className:"hover:text-primary cursor-pointer",children:""}),s.jsx("span",{className:"mx-2",children:"/"}),s.jsx("span",{className:"text-text-main font-medium",children:""})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-text-main tracking-tight",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-1",children:""})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-border-light rounded-lg text-text-main text-sm font-medium hover:bg-slate-50 shadow-sm",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"sort"}),""]}),s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-border-light rounded-lg text-text-main text-sm font-medium hover:bg-slate-50 shadow-sm",type:"button",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"view_module"}),""]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-border-light p-2 flex flex-wrap items-center gap-3 shadow-sm mb-4",children:[s.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary text-[20px]",children:"search"}),s.jsx("input",{type:"text",value:e,onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-2 bg-background-light border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 focus:bg-white placeholder-text-secondary",placeholder:"..."})]}),s.jsx("div",{className:"h-6 w-px bg-border-light hidden md:block","aria-hidden":!0}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsxs("select",{className:"bg-background-light border border-border-light text-sm rounded-lg py-2 pl-3 pr-8 text-text-main cursor-pointer hover:bg-white focus:ring-0",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]}),s.jsxs("select",{className:"bg-background-light border border-border-light text-sm rounded-lg py-2 pl-3 pr-8 text-text-main cursor-pointer hover:bg-white focus:ring-0",children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]})]})]})]}),o2=({onUploadRequest:e})=>s.jsxs("div",{className:"mb-6 rounded-xl border-2 border-dashed border-border-light bg-background-light hover:bg-primary/5 hover:border-primary/40 transition-colors p-8 flex flex-col items-center justify-center text-center cursor-pointer",onClick:e,children:[s.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm mb-3",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-[32px]",children:"upload_file"})}),s.jsx("h3",{className:"text-text-main font-medium",children:""}),s.jsx("p",{className:"text-text-secondary text-sm mt-1",children:" PDF, DOCX, MP4, TEX  500MB"})]}),d2=({visible:e,onClose:t,onUpload:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-xl p-6 relative",children:[s.jsx("button",{className:"absolute right-4 top-4 text-text-secondary hover:text-text-main",onClick:t,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})}),s.jsx("h3",{className:"text-lg font-bold text-text-main mb-2",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mb-4",children:""}),s.jsxs("div",{className:"border-2 border-dashed border-border-light rounded-lg p-6 text-center bg-background-light hover:border-primary/60 hover:bg-primary/5 transition-colors cursor-pointer",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-4xl",children:"upload"}),s.jsx("p",{className:"mt-2 text-text-main font-medium",children:" (stub)"}),s.jsx("p",{className:"text-xs text-text-secondary",children:""})]})]})}):null,Tm=[{id:"res-1",title:"2023().pdf",type:"pdf",module:"",tags:["PDF",""],version:"v1.0",uploader:"",sizeLabel:"4.2 MB"},{id:"res-2",title:".mp4",type:"video",module:"",tags:["MP4",""],version:"v2.1",uploader:"",durationLabel:"14:20"},{id:"res-3",title:"CMO2022_Finals_Source.tex",type:"tex",module:"",tags:["TEX",""],version:"v1.0",uploader:"",sizeLabel:"2.1 MB"},{id:"res-4",title:".docx",type:"doc",module:"",tags:["DOCX",""],version:"v3.5",uploader:""}];function c2(){const[e,t]=w.useState(Tm),[r,n]=w.useState(!1),[a,l]=w.useState(void 0),i=w.useCallback(async()=>{n(!0),l(void 0),await new Promise(c=>setTimeout(c,120)),t(Tm),n(!1)},[]),o=w.useCallback(async c=>{await new Promise(h=>setTimeout(h,100));const u={id:`res-${Date.now()}`,title:c,type:"other",module:"",tags:[""],uploader:""};return t(h=>[u,...h]),u},[]),d=w.useCallback(async c=>{await new Promise(u=>setTimeout(u,80)),t(u=>u.filter(h=>h.id!==c))},[]);return{resources:e,isLoading:r,error:a,upload:o,remove:d,refetch:i}}const u2=()=>{const{resources:e,isLoading:t,error:r,upload:n,remove:a,refetch:l}=c2(),[i,o]=w.useState(!1),[d,c]=w.useState(""),[u,h]=w.useState(""),f=w.useMemo(()=>{if(!d)return e;const g=d.toLowerCase();return e.filter(v=>v.title.toLowerCase().includes(g)||v.tags.some(p=>p.toLowerCase().includes(g)))},[e,d]),m=g=>{console.log("insert to course stub",g)},x=async g=>{await n(g),o(!1)};return s.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[s.jsx(a2,{onRefresh:()=>void l(),onOpenUpload:()=>o(!0)}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(l2,{folders:["","","","","","",""],selectedFolder:u,onSelectFolder:h}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-background-light",children:[s.jsx(i2,{search:d,onSearchChange:c}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[s.jsx(o2,{onUploadRequest:()=>o(!0)}),r?s.jsx("div",{className:"text-sm text-red-600 mb-3",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary mb-3",children:"..."}):null,s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(g=>s.jsx(n2,{resource:g,onPreview:v=>console.log("preview stub",v.id),onInsert:v=>m(v.id),onShare:v=>console.log("share stub",v.id),onDelete:v=>void a(v.id)},g.id))})]})]}),s.jsx(s2,{})]}),s.jsx(d2,{visible:i,onClose:()=>o(!1),onUpload:()=>void x(".pdf")})]})},h2=()=>{const e=$e(),[t,r]=E.useState(""),[n,a]=E.useState(""),[l,i]=E.useState(null),o=d=>{if(d.preventDefault(),!l||l.length===0){alert("");return}const c=Array.from(l).map(u=>u.name);console.log("Uploading resources",{title:t,description:n,fileNames:c}),e(G.resourceLibrary)};return s.jsx(co,{children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:"max-w-[900px] mx-auto p-6 lg:p-10",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-2",children:""}),s.jsxs("form",{onSubmit:o,className:"mt-6 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("input",{value:t,onChange:d=>r(d.target.value),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("textarea",{value:n,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border rounded h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("input",{type:"file",multiple:!0,onChange:d=>i(d.target.files),className:"w-full"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded",children:""}),s.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 border rounded",children:""})]})]})]})})})},f2=({roleId:e,groupedActions:t,permissions:r,onToggle:n})=>{const a=r[e]??{};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark text-text-secondary-light",children:e||""})]}),s.jsx("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{className:"bg-background-light dark:bg-background-dark text-xs font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2 w-20 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:Object.entries(t).map(([l,i])=>s.jsx(E.Fragment,{children:i.map((o,d)=>s.jsxs("tr",{className:"hover:bg-background-light dark:hover:bg-background-dark",children:[d===0?s.jsx("td",{className:"px-4 py-3 align-top text-sm font-semibold text-text-main-light dark:text-text-main-dark",rowSpan:i.length,children:l}):null,s.jsx("td",{className:"px-4 py-3 text-sm text-text-main-light dark:text-text-main-dark",children:o.label}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("input",{type:"checkbox",checked:!!a[o.id],onChange:()=>n(e,o.id),className:"rounded border-border-light text-primary focus:ring-primary"})})]},o.id))},l))})]})}),s.jsx("div",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark",children:"stub"})]})},m2=({roles:e,selectedRoleId:t,onSelect:r,onAddRole:n})=>{const[a,l]=w.useState(""),i=()=>{const o=a.trim();o&&(n(o),l(""))};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover",onClick:i,children:""})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("input",{type:"text",value:a,onChange:o=>l(o.target.value),placeholder:"",className:"flex-1 px-3 py-2 rounded-lg border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-sm"})}),s.jsx("div",{className:"rounded-lg border border-border-light dark:border-border-dark overflow-hidden",children:s.jsxs("table",{className:"min-w-full text-left",children:[s.jsx("thead",{className:"bg-background-light dark:bg-background-dark text-xs font-bold text-text-secondary-light dark:text-text-secondary-dark uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2",children:""}),s.jsx("th",{className:"px-4 py-2",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:e.map(o=>s.jsxs("tr",{className:`${t===o.id?"bg-primary/5 dark:bg-primary/15":"hover:bg-background-light dark:hover:bg-background-dark cursor-pointer"}`,onClick:()=>r(o.id),children:[s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-text-main-light dark:text-text-main-dark",children:o.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:o.description}),s.jsx("td",{className:"px-4 py-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:o.userCount??"-"})]},o.id))})]})})]})},_m=({title:e,description:t,actionLabel:r,onAction:n})=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-4 shadow-sm",children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark mb-2",children:e}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark mb-3",children:t}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-background-dark border border-border-light dark:border-border-dark text-sm font-semibold text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800",onClick:n,children:r})]}),x2=({onTestS3:e,onTestSSO:t,onSave:r})=>s.jsxs("header",{className:"h-16 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-between px-6 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:e,children:" S3  (stub)"}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition",onClick:t,children:" SSO (stub)"}),s.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg bg-primary text-white text-sm font-semibold hover:bg-primary-hover shadow-sm",onClick:r,children:""})]})]}),p2=[{id:"courses.read",group:"",label:""},{id:"courses.edit",group:"",label:""},{id:"assignments.manage",group:"",label:""},{id:"question-bank.edit",group:"",label:""},{id:"question-bank.review",group:"",label:""},{id:"students.read",group:"",label:""},{id:"students.export",group:"",label:""},{id:"system.admin",group:"",label:""}],Om=[{id:"role-admin",name:"",description:" SSO  S3 ",userCount:3},{id:"role-teacher",name:"",description:"",userCount:18},{id:"role-reviewer",name:"",description:"",userCount:5}],g2={"role-admin":{"courses.read":!0,"courses.edit":!0,"assignments.manage":!0,"question-bank.edit":!0,"question-bank.review":!0,"students.read":!0,"students.export":!0,"system.admin":!0},"role-teacher":{"courses.read":!0,"courses.edit":!0,"assignments.manage":!0,"question-bank.edit":!0,"question-bank.review":!1,"students.read":!0,"students.export":!1,"system.admin":!1},"role-reviewer":{"courses.read":!0,"courses.edit":!1,"assignments.manage":!1,"question-bank.edit":!0,"question-bank.review":!0,"students.read":!0,"students.export":!1,"system.admin":!1}},b2=()=>{var m;const[e,t]=E.useState(Om),[r,n]=E.useState(g2),[a,l]=E.useState(((m=Om[0])==null?void 0:m.id)??""),i=p2,o=E.useMemo(()=>i.reduce((x,g)=>(x[g.group]=x[g.group]?[...x[g.group],g]:[g],x),{}),[i]);return{roles:e,actions:i,groupedActions:o,permissions:r,selectedRoleId:a,setSelectedRoleId:l,addRole:x=>{const g=`role-${Date.now()}`,v={id:g,name:x,description:"",userCount:0};t(p=>[...p,v]),n(p=>({...p,[g]:i.reduce((b,y)=>(b[y.id]=!1,b),{})})),l(g)},togglePermission:(x,g)=>{n(v=>{const p=v[x]??{};return{...v,[x]:{...p,[g]:!p[g]}}})},saveChanges:async()=>{console.log("audit log stub: permissions saved",{roles:e,permissions:r})},testS3Integration:async()=>{console.log("S3 integration test stub")},testSSOIntegration:async()=>{console.log("SSO integration test stub")}}},y2=()=>{const{roles:e,groupedActions:t,permissions:r,selectedRoleId:n,setSelectedRoleId:a,addRole:l,togglePermission:i,saveChanges:o,testS3Integration:d,testSSOIntegration:c}=b2(),u=async()=>{await o()};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark flex flex-col",children:[s.jsx(x2,{onTestS3:()=>void d(),onTestSSO:()=>void c(),onSave:()=>void u()}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6",children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsx("div",{className:"xl:col-span-1",children:s.jsx(m2,{roles:e,selectedRoleId:n,onSelect:a,onAddRole:l})}),s.jsx("div",{className:"xl:col-span-2",children:s.jsx(f2,{roleId:n,groupedActions:t,permissions:r,onToggle:i})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(_m,{title:" (S3) ",description:"",actionLabel:" (stub)",onAction:()=>void d()}),s.jsx(_m,{title:" (SSO)",description:" SAML / OAuth",actionLabel:" SSO  (stub)",onAction:()=>void c()})]})]})})]})},v2=({onExportTemplate:e,onCreateStudent:t})=>s.jsxs("header",{className:"w-full h-16 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark px-6 flex items-center justify-between shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-text-main-light dark:text-text-main-dark tracking-tight",children:""}),s.jsx("p",{className:"text-sm text-text-secondary-light dark:text-text-secondary-dark",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-main-light dark:text-text-main-dark hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm font-medium",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"download"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-primary hover:bg-primary-hover text-white transition-colors text-sm font-medium shadow-sm",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add"}),""]})]})]}),j2=e=>e==="up"?{icon:"trending_up",className:"text-green-500"}:e==="down"?{icon:"priority_high",className:"text-red-500"}:{icon:"remove",className:"text-gray-400"},w2=e=>{const t=Math.round((e.attendanceRate??0)*100),r=t>=90?"bg-primary":t>=80?"bg-yellow-500":"bg-red-500",n=e.attendance==="absent"?`${t}% ()`:`${t}%`;return s.jsxs("div",{children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-1.5 dark:bg-gray-700",children:s.jsx("div",{className:`${r} h-1.5 rounded-full`,style:{width:`${Math.min(100,Math.max(0,t))}%`}})}),s.jsx("span",{className:"text-xs text-text-secondary mt-1 block",children:n})]})},k2=e=>e==="online"?"bg-green-500":"bg-gray-300",N2=({data:e,isLoading:t,filters:r,pagination:n,selectedIds:a,onFilterChange:l,onResetFilters:i,onToggleSelect:o,onToggleSelectAll:d,onPageChange:c,onRefresh:u,onBulkMessage:h,onBulkExport:f,onBulkGroup:m,onBulkMarkPresent:x,onViewStudent:g,onEditStudent:v,onDeleteStudent:p})=>{const b=w.useMemo(()=>e.map(M=>M.id),[e]),y=b.length>0&&b.every(M=>a.has(M)),j=a.size,N=Math.max(1,Math.ceil(n.total/n.pageSize)),R=(n.page-1)*n.pageSize+1,k=Math.min(n.total,n.page*n.pageSize),P=M=>{M(Array.from(a))},[T,D]=w.useState(null),z=w.useRef(null);return w.useEffect(()=>{const M=Q=>{if(!T)return;const Y=Q.target;z.current&&Y&&z.current.contains(Y)||D(null)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[T]),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm flex flex-col min-h-[500px]",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-light dark:border-border-dark",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-bold text-text-main-light dark:text-text-main-dark",children:""}),s.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs font-medium",children:[" ",n.total," "]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"button",className:"p-1.5 text-text-secondary-light hover:text-primary rounded-lg hover:bg-background-light dark:hover:bg-background-dark transition-colors",title:"",onClick:()=>u==null?void 0:u(),children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"refresh"})})})]}),s.jsxs("div",{className:"px-6 py-4 border-b border-border-light dark:border-border-dark flex flex-wrap items-end gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.grade,onChange:M=>l({grade:M.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.className,onChange:M=>l({className:M.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:" (1) ",children:"1 ()"}),s.jsx("option",{value:" (2) ",children:"2"}),s.jsx("option",{value:" (3) ",children:"3"}),s.jsx("option",{value:" (1) ",children:" (1)"}),s.jsx("option",{value:" (2) ",children:" (2)"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.attendance,onChange:M=>l({attendance:M.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"present",children:""}),s.jsx("option",{value:"absent",children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-48",children:[s.jsx("label",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark",children:""}),s.jsxs("select",{className:"w-full rounded-lg border-0 bg-background-light dark:bg-background-dark py-2 px-3 ring-1 ring-inset ring-border-light dark:ring-border-dark focus:ring-2 focus:ring-primary sm:text-sm text-text-main-light dark:text-text-main-dark",value:r.score,onChange:M=>l({score:M.target.value}),children:[s.jsx("option",{value:"all",children:""}),s.jsx("option",{value:"90+",children:"90"}),s.jsx("option",{value:"60-89",children:"60-89"}),s.jsx("option",{value:"<60",children:"60"})]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2 pb-0.5",children:[s.jsx("button",{type:"button",className:"text-text-secondary-light hover:text-primary text-sm font-medium px-2 py-1.5 transition-colors",onClick:i,children:""}),s.jsxs("div",{className:"relative w-60",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"material-symbols-outlined text-text-secondary-light text-[20px]",children:"search"})}),s.jsx("input",{type:"text",value:r.query,onChange:M=>l({query:M.target.value}),placeholder:" /  / ...",className:"block w-full pl-10 pr-3 py-2 rounded-lg border-0 bg-background-light dark:bg-background-dark ring-1 ring-inset ring-border-light dark:ring-border-dark placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 text-text-main-light dark:text-text-main-dark transition-shadow"})]})]})]}),s.jsx("div",{className:"w-full overflow-x-auto hidden md:block",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border-light dark:border-border-dark",children:[s.jsx("th",{className:"py-3 px-6 w-12",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer",checked:y,onChange:M=>d(b,M.target.checked)})}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider",children:""}),s.jsx("th",{className:"py-3 px-6 text-xs font-semibold text-text-secondary-light uppercase tracking-wider text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-border-light dark:divide-border-dark text-sm",children:t?s.jsx("tr",{children:s.jsx("td",{className:"px-6 py-4 text-text-secondary-light",colSpan:8,children:"..."})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{className:"px-6 py-4 text-text-secondary-light",colSpan:8,children:""})}):e.map(M=>{const Q=M.latestScore??0,Y=k2(M.onlineStatus),ce=j2(M.trend);return s.jsxs("tr",{className:`hover:bg-background-light dark:hover:bg-background-dark/50 transition-colors ${a.has(M.id)?"bg-blue-50/50 dark:bg-blue-900/10":""}`,children:[s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer",checked:a.has(M.id),onChange:()=>o(M.id)})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-cover bg-center",style:M.avatar?{backgroundImage:`url(${M.avatar})`}:void 0,"aria-hidden":!0}),s.jsx("span",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 border-2 border-white rounded-full ${Y}`,"aria-hidden":!0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main-light dark:text-text-main-dark",children:M.name}),s.jsx("p",{className:"text-xs text-text-secondary-light",children:M.handle??`@${M.id}`})]})]})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("span",{className:"text-sm font-mono text-text-secondary-light",children:M.studentNumber})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",children:M.className})}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm font-bold ${ce.className==="text-red-500"?"text-red-500":"text-text-main-light dark:text-text-main-dark"}`,children:Q}),s.jsx("span",{className:"text-xs text-text-secondary-light",children:"/ 100"}),s.jsx("span",{className:`material-symbols-outlined text-[16px] ${ce.className}`,children:ce.icon})]})}),s.jsx("td",{className:"py-4 px-6 align-top",children:w2(M)}),s.jsx("td",{className:"py-4 px-6 align-top",children:s.jsx("span",{className:"text-sm text-text-secondary-light",children:M.lastActive??"--"})}),s.jsx("td",{className:"py-4 px-6 text-right align-top",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"text-primary hover:text-primary-hover text-sm font-medium",onClick:()=>g==null?void 0:g(M.id),children:""}),s.jsxs("div",{className:"relative",ref:T===M.id?z:void 0,children:[s.jsx("button",{className:"p-1 text-text-secondary-light hover:text-text-main-light rounded hover:bg-gray-200 dark:hover:bg-gray-700",type:"button","aria-label":"",onClick:()=>D(q=>q===M.id?null:M.id),children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"more_vert"})}),T===M.id?s.jsxs("div",{className:"absolute right-0 mt-2 w-32 rounded-lg border border-border-light bg-white shadow-lg overflow-hidden z-20",children:[s.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-background-light",onClick:()=>{D(null),v==null||v(M)},"aria-label":` ${M.name}`,children:""}),s.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>{D(null),p==null||p(M)},"aria-label":` ${M.name}`,children:""})]}):null]})]})})]},M.id)})})]})}),s.jsx("div",{className:"md:hidden px-4 py-3 space-y-3 border-b border-border-light dark:border-border-dark",children:e.map(M=>s.jsxs("div",{className:"rounded-lg border border-border-light dark:border-border-dark overflow-hidden",children:[s.jsx("div",{className:"px-4 pt-3",children:s.jsx(Wu,{student:M,onViewProfile:g,onAttendanceChange:()=>{}})}),s.jsxs("div",{className:"px-4 pb-3 text-xs text-text-secondary flex flex-wrap gap-3",children:[s.jsxs("span",{children:[" ",M.studentNumber]}),s.jsx("span",{children:M.className}),s.jsxs("span",{children:[" ",M.latestScore??"--"]}),s.jsxs("span",{children:[" ",Math.round((M.attendanceRate??0)*100),"%"]})]})]},M.id))}),s.jsxs("div",{className:"mt-auto border-t border-border-light dark:border-border-dark px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-text-secondary-light",children:[" ",n.total===0?0:R,"  ",k,"  ",n.total," "]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{type:"button",className:"p-1.5 rounded-lg text-text-secondary-light hover:bg-background-light dark:hover:bg-background-dark disabled:opacity-50",onClick:()=>c(Math.max(1,n.page-1)),disabled:n.page<=1,children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"chevron_left"})}),s.jsxs("div",{className:"px-2 text-sm text-text-secondary-light",children:[" ",n.page," / ",N," "]}),s.jsx("button",{type:"button",className:"p-1.5 rounded-lg text-text-secondary-light hover:bg-background-light dark:hover:bg-background-dark disabled:opacity-50",onClick:()=>c(Math.min(N,n.page+1)),disabled:n.page>=N,children:s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"chevron_right"})})]})]}),j>0?s.jsxs("div",{className:"sticky bottom-4 left-0 right-0 mx-auto w-fit bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark shadow-xl rounded-full px-6 py-3 flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 border-r border-border-light dark:border-border-dark pr-6",children:[s.jsx("span",{className:"bg-primary text-white text-xs font-bold px-2 py-0.5 rounded-full",children:j}),s.jsx("span",{className:"text-sm font-medium text-text-main-light dark:text-text-main-dark",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(h),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"mail"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(m),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"folder_shared"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(x),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"assignment_turned_in"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1.5 text-text-secondary-light hover:text-primary transition-colors text-sm font-medium px-2 py-1",onClick:()=>P(f),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"download"}),"CSV"]})]})]}):null]})},Im={query:"",grade:"all",className:"all",attendance:"all",score:"all"},Dm=["","",""],Mm=[" (1) "," (2) "," (3) "," (1) "," (2) "];function S2(e){let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t}function C2(e){const t=S2(e.id),r=e.grade??Dm[t%Dm.length],n=e.className??Mm[t%Mm.length],a=55+t%46,l=a>=90?"up":a<60?"down":"flat",i=e.attendance==="present"?.85:.6,o=Math.min(1,i+t%15/100);return{...e,studentNumber:e.studentNumber??e.id,grade:r,className:n,latestScore:a,trend:l,attendanceRate:o,handle:`@${e.id}`}}function E2(e={}){const[t,r]=w.useState([]),[n,a]=w.useState({...Im,...e}),[l,i]=w.useState(1),[o,d]=w.useState(10),[c,u]=w.useState(new Set),[h,f]=w.useState(!1),m=w.useMemo(()=>t.filter(U=>{if(n.grade!=="all"&&U.grade!==n.grade||n.className!=="all"&&U.className!==n.className||n.attendance!=="all"&&U.attendance!==n.attendance||n.score==="90+"&&(U.latestScore??0)<90||n.score==="60-89"&&((U.latestScore??0)<60||(U.latestScore??0)>89)||n.score==="<60"&&(U.latestScore??0)>=60)return!1;if(n.query){const I=n.query.toLowerCase();if(!U.name.toLowerCase().includes(I)&&!U.studentNumber.toLowerCase().includes(I)&&!(U.handle??"").toLowerCase().includes(I))return!1}return!0}),[n,t]),x=m.length,g=Math.max(1,Math.ceil(x/o)),v=Math.min(l,g),p=w.useMemo(()=>{const U=(v-1)*o;return m.slice(U,U+o)},[v,m,o]),b=w.useCallback(U=>{u(I=>{const B=new Set(I);return B.has(U)?B.delete(U):B.add(U),B})},[]),y=w.useCallback((U,I)=>{u(B=>{const W=new Set(B);return U.forEach(re=>{I?W.add(re):W.delete(re)}),W})},[]),j=w.useCallback(()=>{u(new Set)},[]),N=w.useCallback(async()=>{f(!0);try{const U=await Tt.list();r(U.map(C2))}finally{f(!1)}},[]);w.useEffect(()=>{N()},[N]);const R=w.useCallback(U=>{a(I=>({...I,...U})),i(1)},[]),k=w.useCallback(()=>{a(Im),i(1),j()},[j]),P=w.useCallback(U=>{i(Math.max(1,U))},[]),T=w.useCallback(U=>{d(Math.max(1,U)),i(1)},[]),D=w.useCallback(async U=>{const I=await Tt.create(U);return await N(),i(1),I},[N]),z=w.useCallback(async(U,I)=>{const B=await Tt.update(U,I);return await N(),B},[N]),M=w.useCallback(async U=>{await Tt.remove(U),u(I=>{if(!I.has(U))return I;const B=new Set(I);return B.delete(U),B}),await N()},[N]),Q=w.useCallback(async U=>{const I=window.prompt("","");I!==null&&(await Tt.bulkMessage(U,{message:I}),window.alert(` ${U.length} `),j())},[j]),Y=w.useCallback(async U=>{try{const{filename:I,content:B}=await Tt.exportCsv(U),W=new Blob(["\uFEFF"+B],{type:"text/csv;charset=utf-8;"}),re=URL.createObjectURL(W),se=document.createElement("a");se.href=re,se.download=I,se.style.display="none",document.body.appendChild(se),se.click(),se.remove(),URL.revokeObjectURL(re);const Le=U.length||"";window.alert(` ${Le}  CSV`),j()}catch(I){console.error(":",I),window.alert("")}},[j]),ce=w.useCallback(async U=>{const I=window.prompt("","");I!==null&&(await Tt.bulkGroup(U,{group:I}),await N(),window.alert(` ${U.length} ${I}`),j())},[j,N]),q=w.useCallback(async U=>{await Tt.bulkMarkPresent(U),await N(),j()},[j,N]);return{data:p,isLoading:h,filters:n,pagination:{page:v,pageSize:o,total:x},selectedIds:c,actions:{setFilters:R,resetFilters:k,changePage:P,setPageSize:T,toggleSelect:b,toggleSelectAll:y,clearSelection:j,refetch:N,createStudent:D,updateStudent:z,removeStudent:M,bulkMessage:Q,bulkExport:Y,bulkGroup:ce,bulkMarkPresent:q}}}const R2=({open:e,onClose:t,onSave:r,initialStudent:n})=>{const[a,l]=w.useState(""),[i,o]=w.useState(""),[d,c]=w.useState(" (1) "),[u,h]=w.useState(""),[f,m]=w.useState(""),[x,g]=w.useState(""),[v,p]=w.useState(""),[b,y]=w.useState("absent"),[j,N]=w.useState("offline"),[R,k]=w.useState(!1);w.useEffect(()=>{e&&(n?(l(n.studentNumber??n.id),o(n.grade??""),c(n.className??" (1) "),h(n.classId??""),m(n.name??""),g(n.courseId??""),p(n.group??""),y(n.attendance??"absent"),N(n.onlineStatus??"offline")):(l(""),o(""),c(" (1) "),h(""),m(""),g(""),p(""),y("absent"),N("offline")))},[n,e]);const P=async T=>{T.preventDefault(),k(!0),await r({studentNumber:a||void 0,grade:i||void 0,className:d||void 0,classId:u||void 0,name:f,courseId:x||void 0,group:v||void 0,attendance:b,onlineStatus:j}),k(!1),t()};return s.jsx($u,{open:e,onClose:t,title:n?"":"",children:s.jsxs("form",{className:"space-y-4",onSubmit:P,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",htmlFor:"student-editor-number",children:""}),s.jsx("input",{id:"student-editor-number",name:"studentNumber","aria-label":"",className:"h-10 px-3 rounded-lg border border-border-light",value:a,onChange:T=>l(T.target.value),placeholder:"20260001"})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{"aria-label":"",className:"h-10 px-3 rounded-lg border border-border-light",value:i,onChange:T=>o(T.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{"aria-label":"",className:"h-10 px-3 rounded-lg border border-border-light",value:d,onChange:T=>c(T.target.value),children:[s.jsx("option",{value:" (1) ",children:" (1) "}),s.jsx("option",{value:" (2) ",children:" (2) "}),s.jsx("option",{value:" (3) ",children:" (3) "}),s.jsx("option",{value:" (1) ",children:" (1) "}),s.jsx("option",{value:" (2) ",children:" (2) "})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",htmlFor:"student-editor-classid",children:" ID"}),s.jsx("input",{id:"student-editor-classid",name:"classId","aria-label":" ID",className:"h-10 px-3 rounded-lg border border-border-light",value:u,onChange:T=>h(T.target.value),placeholder:"class-A"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("label",{className:"text-xs text-text-secondary",htmlFor:"student-editor-name",children:""}),s.jsx("input",{id:"student-editor-name",name:"name","aria-label":"",className:"h-10 px-3 rounded-lg border border-border-light",value:f,onChange:T=>m(T.target.value),required:!0,placeholder:""})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ID",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:x,onChange:T=>g(T.target.value),placeholder:"course-001"})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:v,onChange:T=>p(T.target.value),placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light",value:b,onChange:T=>y(T.target.value),children:[s.jsx("option",{value:"present",children:""}),s.jsx("option",{value:"absent",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light",value:j,onChange:T=>N(T.target.value),children:[s.jsx("option",{value:"online",children:""}),s.jsx("option",{value:"offline",children:""})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",onClick:t,children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:R,children:R?"...":n?"":""})]})]})})},P2=()=>{const e=$e(),{data:t,isLoading:r,filters:n,pagination:a,selectedIds:l,actions:i}=E2(),[o,d]=w.useState(!1),[c,u]=w.useState(null),h=()=>{i.bulkExport(Array.from(l))},f=()=>{u(null),d(!0)},m=async v=>{c?await i.updateStudent(c.id,v):await i.createStudent(v)},x=v=>{u(v),d(!0)},g=async v=>{window.confirm(`${v.name}`)&&await i.removeStudent(v.id)};return s.jsxs("div",{className:"h-full bg-background-light dark:bg-background-dark",children:[s.jsx(v2,{onExportTemplate:h,onCreateStudent:f}),s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:s.jsx("div",{className:"max-w-[1280px] mx-auto flex flex-col gap-6",children:s.jsx(N2,{data:t,isLoading:r,filters:n,pagination:a,selectedIds:l,onFilterChange:i.setFilters,onResetFilters:i.resetFilters,onToggleSelect:i.toggleSelect,onToggleSelectAll:i.toggleSelectAll,onPageChange:i.changePage,onRefresh:i.refetch,onBulkMessage:i.bulkMessage,onBulkExport:i.bulkExport,onBulkGroup:i.bulkGroup,onBulkMarkPresent:i.bulkMarkPresent,onEditStudent:x,onDeleteStudent:g,onViewStudent:v=>e(Qk(v))})})}),s.jsx(R2,{open:o,onClose:()=>d(!1),onSave:m,initialStudent:c})]})},L2=({items:e})=>s.jsx("nav",{"aria-label":"",className:"text-sm text-text-secondary flex items-center gap-2",children:e.map((t,r)=>{const n=r===e.length-1;return s.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.onClick&&!n?s.jsx("button",{type:"button",onClick:t.onClick,className:"hover:text-primary",children:t.label}):s.jsx("span",{className:"text-text-main",children:t.label}),n?null:s.jsx("span",{className:"text-text-secondary",children:"/"})]},t.label)})}),T2=({onRefresh:e})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-border-light text-sm font-medium text-text-main hover:bg-background-light",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"refresh"}),""]})]}),_2=({mastery:e,submissions:t,onAssignmentSelect:r})=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsx("div",{className:"text-xs text-text-secondary",children:""})]}),s.jsx("div",{className:"h-48 rounded-lg border border-dashed border-border-light dark:border-border-dark flex items-center justify-center text-text-secondary text-sm bg-background-light/50",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main",children:""}),s.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:e.map(n=>s.jsxs("li",{className:"py-2 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main",children:n.topic}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[" ",Math.round(n.mastery*100),"%"]})]}),s.jsx("span",{className:`material-symbols-outlined text-[18px] ${n.trend==="up"?"text-green-500":n.trend==="down"?"text-red-500":"text-gray-400"}`,children:n.trend==="up"?"trending_up":n.trend==="down"?"trending_down":"drag_indicator"})]},n.topic))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-text-main",children:""}),s.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:t.map(n=>s.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-text-main",children:n.title}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[n.submittedAt??"","  ",n.status==="missing"?"":n.status==="late"?"":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main",children:n.score??"--"}),r?s.jsx("button",{type:"button",onClick:()=>r(n.assignmentId),className:"text-xs text-primary hover:text-primary-hover",children:""}):s.jsx("span",{className:"text-xs text-text-secondary",children:""})]})]},n.id))})]})]})]}),dd=({label:e,value:t})=>s.jsxs("div",{className:"bg-background-light dark:bg-background-dark rounded-lg p-3 flex-1 min-w-[140px]",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:e}),s.jsx("p",{className:"text-lg font-semibold text-text-main mt-1",children:t})]}),O2=({profile:e,onExportReport:t})=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-14 rounded-full bg-cover bg-center border border-border-light",style:e.avatar?{backgroundImage:`url(${e.avatar})`}:void 0,"aria-hidden":!0}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:e.name}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e.className,"  ",e.grade]}),s.jsx("p",{className:"text-xs text-primary",children:e.handle??`@${e.id}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"px-4 py-2 rounded-lg border border-border-light text-sm font-medium text-text-main hover:bg-background-light",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"download"}),""]}),s.jsxs("button",{type:"button",className:"px-4 py-2 rounded-lg bg-primary text-white text-sm font-medium shadow-sm hover:bg-primary-hover",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] align-middle",children:"edit"}),""]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx(dd,{label:"",value:`${Math.round(e.attendanceRate*100)}%`}),s.jsx(dd,{label:"",value:`${Math.round(e.averageScore)}`}),s.jsx(dd,{label:"",value:e.lastActive})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:""}),s.jsxs("p",{className:"text-text-main",children:["",e.email??""]}),s.jsxs("p",{className:"text-text-main",children:["",e.phone??""]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:"/"}),s.jsx("p",{className:"text-text-main",children:e.guardian??""}),s.jsxs("p",{className:"text-text-main",children:["",e.group??""]})]})]})]}),Am=["","",""],Fm=[" (1) "," (2) "," (3) "," (1) "," (2) "];function I2(e){let t=0;for(let r=0;r<e.length;r+=1)t=t*31+e.charCodeAt(r)>>>0;return t}function D2(e){const t=I2(e.id),r=Am[t%Am.length],n=Fm[t%Fm.length],a=e.attendance==="present"?.85:.6;return{id:e.id,name:e.name,avatar:e.avatar,grade:r,className:n,handle:`@${e.id}`,email:`${e.id}@example.com`,phone:`138-0000-${(t%9e3+1e3).toString()}`,guardian:"",group:e.group,attendanceRate:Math.min(1,a+t%15/100),averageScore:70+t%26,lastActive:e.lastActive??""}}const M2=[{id:"sub-1",title:"",assignmentId:"hw-101",score:98,status:"on-time",submittedAt:"2026-01-03 21:10"},{id:"sub-2",title:"",assignmentId:"quiz-204",score:88,status:"late",submittedAt:"2025-12-29 09:30"},{id:"sub-3",title:"",assignmentId:"hw-205",score:75,status:"on-time",submittedAt:"2025-12-22 19:05"},{id:"sub-4",title:"",assignmentId:"quiz-210",status:"missing"}],A2=[{topic:"",mastery:.95,trend:"up"},{topic:"",mastery:.72,trend:"flat"},{topic:"",mastery:.82,trend:"up"},{topic:"",mastery:.64,trend:"down"}];function F2(e){const[t,r]=w.useState(null),[n,a]=w.useState([]),[l,i]=w.useState([]),[o,d]=w.useState(!1),[c,u]=w.useState(void 0),h=w.useCallback(async()=>{d(!0),u(void 0);try{if(!e)throw new Error("Missing studentId");const f=await Tt.get(e);if(!f)throw new Error("Not found");const m=await Tt.getProgress(e);r(D2(f)),a(M2.map(g=>({...g,id:`${e}-${g.id}`})));const x=Object.entries((m==null?void 0:m.mastery)??{}).map(([g,v])=>({topic:g,mastery:v,trend:"flat"}));i(x.length?x:A2)}catch(f){u(f)}finally{d(!1)}},[e]);return w.useEffect(()=>{h()},[h]),{profile:t,submissions:n,mastery:l,isLoading:o,error:c,refetch:h}}const $2=()=>{const{studentId:e}=lo(),t=$e(),{profile:r,submissions:n,mastery:a,isLoading:l,error:i,refetch:o}=F2(e),d=()=>{console.log("export report stub",r==null?void 0:r.id)},c=r?[{label:"Students",onClick:()=>t(G.studentList)},{label:r.className,onClick:()=>t(G.studentList)},{label:r.name}]:[{label:"Students",onClick:()=>t(G.studentList)}],u=h=>{t(`${G.assignmentManagement}?assignmentId=${h}`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(L2,{items:c}),s.jsx(T2,{onRefresh:()=>void o()}),i?s.jsx("div",{className:"text-sm text-red-600",children:i.message}):null,l&&!r?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,r?s.jsx(O2,{profile:r,onExportReport:d}):null,r?s.jsx(_2,{mastery:a,submissions:n,onAssignmentSelect:u}):null]})},z2=()=>{const e=$e(),[t,r]=E.useState(""),[n,a]=E.useState(""),[l,i]=E.useState(""),[o,d]=E.useState(""),[c,u]=E.useState(!1),[h,f]=E.useState(!1),[m,x]=E.useState(null),g=w.useMemo(()=>{try{const p=typeof window<"u"?window.location.search:"";return new URLSearchParams(p).get("courseId")||""}catch{return""}},[]),v=async p=>{if(p.preventDefault(),x(null),!t.trim()){alert("");return}f(!0);try{await ar.create({title:t.trim(),note:n.trim()?n.trim():void 0,dueAt:l?new Date(l).toISOString():void 0,totalPoints:o===""?void 0:o,status:c?"published":"draft",courseId:g||"unknown-course"}),e(Hk(c?"published":"draft"))}catch(b){x((b==null?void 0:b.message)||"")}finally{f(!1)}};return s.jsx(co,{children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:"max-w-[900px] mx-auto p-6 lg:p-10",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-2",children:""}),m?s.jsx("div",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",role:"alert",children:m}):null,s.jsxs("form",{onSubmit:v,className:"mt-6 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("input",{value:t,onChange:p=>r(p.target.value),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:""}),s.jsx("textarea",{value:n,onChange:p=>a(p.target.value),className:"w-full px-3 py-2 border rounded h-28"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:""}),s.jsx("input",{type:"date",value:l,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:""}),s.jsx("input",{type:"number",value:o,onChange:p=>d(p.target.value===""?"":Number(p.target.value)),className:"w-full px-3 py-2 border rounded"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-text-secondary",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:p=>u(p.target.checked)}),""]})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded",disabled:h,children:h?"...":""}),s.jsx("button",{type:"button",onClick:()=>e(-1),className:"px-4 py-2 border rounded",children:""})]})]})]})})})},U2=e=>e==="up"?{icon:"trending_up",color:"text-green-600"}:e==="down"?{icon:"trending_down",color:"text-red-600"}:{icon:"drag_handle",color:"text-slate-400"},B2=({items:e})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:e.map(t=>{const r=U2(t.trend);return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-4 shadow-sm flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[s.jsx("span",{children:t.label}),t.badge?s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary/10 text-primary font-medium",children:t.badge}):null]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-text-main",children:t.value}),s.jsx("span",{className:`material-symbols-outlined text-[18px] ${r.color}`,children:r.icon})]}),t.sublabel?s.jsx("p",{className:"text-xs text-text-secondary",children:t.sublabel}):null]},t.id)})}),H2=({reports:e,scheduled:t,onGenerate:r,onSchedule:n})=>{var c;const[a,l]=w.useState(((c=e[0])==null?void 0:c.id)??""),i=()=>{a&&r(a)},o=u=>{a&&n(a,u)},d=e.find(u=>u.id===a);return s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:""})]}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-border-light text-text-main hover:bg-background-light",onClick:()=>o("daily"),title:"",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule_send"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-border-light text-text-main hover:bg-background-light",onClick:()=>o("weekly"),title:"",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule_send"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-border-light text-text-main hover:bg-background-light",onClick:()=>o("monthly"),title:"",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule_send"}),""]})]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-border-light text-text-main hover:bg-background-light",onClick:()=>i(),children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"download"}),""]})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:e.map(u=>s.jsxs("button",{type:"button",onClick:()=>l(u.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border border-border-light dark:border-border-dark hover:border-primary hover:shadow-md transition-all h-full ${a===u.id?"bg-primary/5 border-primary":"bg-surface-light dark:bg-surface-dark"}`,children:[s.jsx("div",{className:"size-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"analytics"})}),s.jsx("span",{className:"text-xs font-medium text-text-main text-center",children:u.name}),s.jsx("p",{className:"text-[11px] text-text-secondary text-center",children:u.description})]},u.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"lg:col-span-2 bg-background-light dark:bg-surface-dark rounded-lg border border-border-light dark:border-border-dark p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main mb-2",children:(d==null?void 0:d.name)??""}),s.jsx("p",{className:"text-xs text-text-secondary mb-3",children:(d==null?void 0:d.description)??""}),s.jsx("div",{className:"h-48 bg-white/50 dark:bg-background-dark rounded border border-border-light dark:border-border-dark flex items-center justify-center text-text-secondary text-sm",children:d?s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-4xl text-primary/30 mb-2",children:"bar_chart"}),s.jsxs("p",{className:"text-xs",children:['"" ',d.name]})]}):""})]}),s.jsxs("div",{className:"bg-background-light dark:bg-surface-dark rounded-lg border border-border-light dark:border-border-dark p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main mb-3",children:""}),s.jsxs("ul",{className:"space-y-2 text-sm text-text-secondary",children:[t.length===0?s.jsx("li",{children:""}):null,t.map(u=>{var h;return s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{children:((h=e.find(f=>f.id===u.reportId))==null?void 0:h.name)??u.reportId}),s.jsxs("span",{className:"text-xs text-text-secondary",children:[u.frequency,"  ",u.nextRun]})]},u.id)})]})]})]})]})},$m=[{id:"dashboard",name:"",description:"",category:"dashboard"},{id:"logins",name:"",description:"",category:"activity"},{id:"practice",name:"",description:"",category:"questions"},{id:"tests",name:"",description:"",category:"questions"},{id:"exams",name:"",description:"",category:"exams"}],zm=[{id:"sched-1",reportId:"dashboard",frequency:"weekly",nextRun:" 08:00"},{id:"sched-2",reportId:"exams",frequency:"monthly",nextRun:"1 09:00"}];function Q2(){const[e,t]=w.useState($m),[r,n]=w.useState(zm),[a,l]=w.useState(!1),[i,o]=w.useState(void 0),d=w.useCallback(async()=>{l(!0),o(void 0),await new Promise(f=>setTimeout(f,120)),t($m),n(zm),l(!1)},[]),c=w.useCallback(async f=>{if(await new Promise(y=>setTimeout(y,500)),!e.find(y=>y.id===f))throw new Error("");let x="",g="";switch(f){case"dashboard":x=`,,,,
2026-01-10,5,12,92%,85
2026-01-11,3,8,88%,82`,g=`_${new Date().toISOString().slice(0,10)}.csv`;break;case"logins":x=`,,,
1,,45,2026-01-12 08:30
2,,38,2026-01-12 09:15`,g=`_${new Date().toISOString().slice(0,10)}.csv`;break;case"practice":x=`,,,
1,,156,92%
2,,142,88%`,g=`_${new Date().toISOString().slice(0,10)}.csv`;break;case"tests":x=`,,,
1,,8,95
2,,7,92`,g=`_${new Date().toISOString().slice(0,10)}.csv`;break;case"exams":x=`,,,,
,85,92%,98,65`,g=`_${new Date().toISOString().slice(0,10)}.csv`;break;default:x=`
`,g=`_${f}_${new Date().toISOString().slice(0,10)}.csv`}const v=new Blob(["\uFEFF"+x],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(v),b=document.createElement("a");return b.href=p,b.download=g,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(p),console.log("",g),g},[e]),u=w.useCallback(f=>{const m=new Date,x=new Date(m);switch(f){case"daily":return x.setDate(x.getDate()+1),x.setHours(8,0,0,0),` ${x.getHours().toString().padStart(2,"0")}:${x.getMinutes().toString().padStart(2,"0")}`;case"weekly":const g=(8-m.getDay())%7||7;return x.setDate(x.getDate()+g),x.setHours(8,0,0,0),`${["","","","","","",""][x.getDay()]} ${x.getHours().toString().padStart(2,"0")}:${x.getMinutes().toString().padStart(2,"0")}`;case"monthly":return x.setMonth(x.getMonth()+1,1),x.setHours(9,0,0,0),`${x.getDate()} ${x.getHours().toString().padStart(2,"0")}:${x.getMinutes().toString().padStart(2,"0")}`;default:return""}},[]),h=w.useCallback(async(f,m)=>{await new Promise(g=>setTimeout(g,80));const x={id:`sched-${Date.now()}`,reportId:f,frequency:m,nextRun:u(m)};return n(g=>[...g,x]),console.log("schedule export",x),x},[u]);return{reports:e,scheduled:r,isLoading:a,error:i,generateReport:c,scheduleExport:h,refetch:d}}const W2=()=>{const{reports:e,scheduled:t,isLoading:r,error:n,generateReport:a,scheduleExport:l,refetch:i}=Q2(),[o,d]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState(""),[m,x]=w.useState(""),[g,v]=w.useState(null),p=w.useMemo(()=>[{id:"pending",label:"",value:"12",sublabel:"",badge:"",trend:"up"},{id:"participation",label:"",value:"68%",sublabel:" -5%",trend:"down"},{id:"warnings",label:"",value:"15",sublabel:"",trend:"up"},{id:"average",label:"",value:"82%",sublabel:"",trend:"flat"}],[]),b=()=>{v(`${o} / ${c} / ${h} / ${m}`),setTimeout(()=>v(null),3e3)},y=async R=>{try{await a(R),v(""),setTimeout(()=>v(null),3e3)}catch{v(""),setTimeout(()=>v(null),3e3)}},j=[{label:"",value:45,studentId:"20230105"},{label:"",value:60,studentId:"20230108"},{label:"",value:35,studentId:"20230112"},{label:"",value:75,studentId:"20230120"},{label:"",value:80,studentId:"20230126"},{label:"",value:55,studentId:"20230130"},{label:"",value:40,studentId:"20230132"}],N=R=>{console.log("datapoint clicked for student",R)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-wrap items-end justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black tracking-tight text-text-main",children:""}),s.jsx("p",{className:"text-text-secondary text-sm",children:""})]}),s.jsxs("div",{className:"flex gap-3 text-sm",children:[s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 h-10 px-4 rounded-lg border border-border-light bg-white text-text-main font-bold hover:bg-slate-50",onClick:()=>void i(),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"history"}),""]}),s.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 h-10 px-5 rounded-lg bg-primary text-white text-sm font-bold shadow-md hover:bg-primary-hover",onClick:()=>void y("dashboard"),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"add_chart"}),""]})]})]}),g?s.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-green-200 bg-green-50 px-3 py-2 text-xs text-green-800",children:[s.jsx("p",{children:g}),s.jsx("button",{className:"text-green-700 hover:opacity-70",onClick:()=>v(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark p-4 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-end gap-4 mb-4",children:[s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",value:o,onChange:R=>d(R.target.value),children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:"..."})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",value:c,onChange:R=>u(R.target.value),children:[s.jsx("option",{children:""}),s.jsx("option",{children:"(1)"}),s.jsx("option",{children:"(3)"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",value:h,onChange:R=>f(R.target.value),children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]})]}),s.jsxs("div",{className:"flex flex-col gap-1.5 w-52",children:[s.jsx("label",{className:"text-xs font-semibold text-text-secondary uppercase tracking-wider",children:""}),s.jsxs("select",{className:"w-full h-10 rounded-lg border border-border-light bg-background-light px-3 text-sm text-text-main focus:ring-2 focus:ring-primary/50",value:m,onChange:R=>x(R.target.value),children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:""})]})]}),s.jsx("button",{className:"h-10 px-4 bg-primary/10 text-primary hover:bg-primary/20 rounded-lg text-sm font-bold transition-colors",onClick:b,children:""})]}),s.jsx(B2,{items:p})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"warning"}),s.jsx("h3",{className:"text-lg font-bold text-text-main",children:""})]}),s.jsx("div",{className:"text-sm text-text-secondary",children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{title:"",value:"12 ",tone:"text-red-600",pill:"",description:"3"},{title:"",value:"<60% (3)",tone:"text-orange-600",pill:"",description:""},{title:"",value:"15 ",tone:"text-blue-600",pill:"",description:""}].map(R=>s.jsxs("div",{className:"rounded-xl border border-border-light dark:border-border-dark bg-background-light/60 dark:bg-surface-dark p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs text-text-secondary",children:R.title}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary/10 text-primary text-xs font-bold",children:R.pill})]}),s.jsx("p",{className:`text-lg font-bold ${R.tone}`,children:R.value}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:R.description})]},R.title))})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm",children:[s.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"folder_open"}),s.jsx("h3",{className:"text-lg font-bold text-text-main",children:""})]}),r?s.jsx("span",{className:"text-sm text-text-secondary",children:"..."}):null,n?s.jsx("span",{className:"text-sm text-red-600",children:n.message}):null]}),s.jsx("div",{className:"p-4",children:s.jsx(H2,{reports:e,scheduled:t,onGenerate:R=>void y(R),onSchedule:(R,k)=>{l(R,k).then(()=>{v(""),setTimeout(()=>v(null),3e3)})}})})]}),s.jsxs("section",{className:"bg-white dark:bg-surface-dark rounded-xl border border-border-light dark:border-border-dark shadow-sm p-4",children:[s.jsx("h4",{className:"text-base font-bold text-text-main mb-4",children:"7"}),s.jsx("div",{className:"relative h-64 w-full mt-2 flex items-end justify-between gap-4 px-2 pb-6",role:"img","aria-label":"7",children:j.map(R=>s.jsxs("button",{type:"button",className:"group relative flex-1 h-full flex flex-col items-center justify-end",onClick:()=>N(R.studentId),children:[s.jsx("div",{className:"w-full max-w-[40px] bg-primary/20 group-hover:bg-primary/30 rounded-t-sm transition-all",style:{height:`${R.value}%`},children:s.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[R.value," "]})}),s.jsx("span",{className:"text-xs text-text-secondary mt-2",children:R.label})]},R.label))}),s.jsx("p",{className:"text-xs text-text-secondary mt-2",children:""})]})]})},V2={draft:"",scheduled:"",ongoing:"",completed:"",review:"",closed:""},K2=({exams:e,onSelect:t,onPublish:r,onClose:n,onFilterChange:a})=>{const[l,i]=w.useState([]),[o,d]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState("");w.useEffect(()=>{a==null||a({status:o||void 0,query:c||void 0,classLabel:h||void 0})},[o,c,h,a]);const m=v=>{i(p=>p.includes(v)?p.filter(b=>b!==v):[...p,v])},x=()=>{r==null||r(l)},g=()=>{n==null||n(l)};return s.jsxs("section",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsx("div",{className:"flex-1 min-w-[200px] relative",children:s.jsx("input",{className:"w-full pl-3 pr-3 py-2 bg-background-light border border-border-light rounded-lg text-sm",placeholder:"",value:c,onChange:v=>u(v.target.value)})}),s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light bg-white text-sm",value:o,onChange:v=>d(v.target.value||""),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"ongoing",children:""}),s.jsx("option",{value:"scheduled",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"closed",children:""})]}),s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light bg-white text-sm",placeholder:"/",value:h,onChange:v=>f(v.target.value)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:x,disabled:!l.length,children:""}),s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:g,disabled:!l.length,children:""})]})]}),s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:e.map(v=>s.jsx("article",{className:"bg-white rounded-xl border border-border-light shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:s.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"bg-gray-100 text-gray-700 text-[11px] font-bold px-2 py-0.5 rounded",children:V2[v.status]}),v.classLabel?s.jsx("span",{className:"text-xs text-text-secondary",children:v.classLabel}):null]}),s.jsx("h3",{className:"text-lg font-bold text-text-main group-hover:text-primary transition-colors cursor-pointer",onClick:()=>t==null?void 0:t(v.id),children:v.title})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:l.includes(v.id),onChange:()=>m(v.id)}),s.jsx("span",{children:""})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm text-text-secondary",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:v.startAt??""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:v.endAt??""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:v.durationMinutes?`${v.durationMinutes} `:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px]",children:""}),s.jsx("p",{className:"font-medium text-text-main",children:v.proctor??""})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[v.token?s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded bg-background-light border border-border-light",children:[s.jsx("span",{className:"uppercase font-bold tracking-wide",children:"Token"}),s.jsx("code",{className:"text-sm text-primary font-bold",children:v.token})]}):s.jsx("span",{className:"text-[11px]",children:" Token"}),s.jsx("div",{className:"flex items-center gap-2",children:v.participants?s.jsxs("span",{children:[" ",v.participants.current,"/",v.participants.total]}):null})]})]})},v.id))}),e.length?null:s.jsx("div",{className:"text-sm text-text-secondary",children:""})]})},q2=({open:e,onClose:t,onSave:r,initialExam:n})=>{const[a,l]=w.useState(""),[i,o]=w.useState("draft"),[d,c]=w.useState(""),[u,h]=w.useState(""),[f,m]=w.useState(""),[x,g]=w.useState(""),[v,p]=w.useState(""),[b,y]=w.useState(""),[j,N]=w.useState([]),[R,k]=w.useState("medium"),[P,T]=w.useState(""),[D,z]=w.useState(!1);w.useEffect(()=>{n?(l(n.title),o(n.status),c(n.classLabel??""),h(n.startAt??""),m(n.endAt??""),g(n.durationMinutes?String(n.durationMinutes):""),p(n.proctor??""),y(n.note??""),N(n.segments??[]),k(n.antiCheatLevel??"medium"),T(n.timeWindow?String(n.timeWindow):"")):(l(""),o("draft"),c(""),h(""),m(""),g(""),p(""),y(""),N([]),k("medium"),T(""))},[n]);const M=async Q=>{Q.preventDefault(),z(!0),await r({title:a,status:i,classLabel:d||void 0,startAt:u||void 0,endAt:f||void 0,durationMinutes:x?Number(x):void 0,proctor:v||void 0,note:b||void 0,segments:j.length>0?j:void 0,antiCheatLevel:R,timeWindow:P?Number(P):void 0}),z(!1),t()};return s.jsx($u,{open:e,onClose:t,title:n?"":"",children:s.jsxs("form",{className:"space-y-4",onSubmit:M,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:a,onChange:Q=>l(Q.target.value),required:!0})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["/",s.jsx("textarea",{className:"min-h-[80px] px-3 py-2 rounded-lg border border-border-light",value:b,onChange:Q=>y(Q.target.value),placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light",value:i,onChange:Q=>o(Q.target.value),children:[s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"scheduled",children:""}),s.jsx("option",{value:"ongoing",children:""}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"closed",children:""})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["/",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:d,onChange:Q=>c(Q.target.value),placeholder:"(3)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"datetime-local",value:u,onChange:Q=>h(Q.target.value)})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"datetime-local",value:f,onChange:Q=>m(Q.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:[" ()",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"number",value:x,onChange:Q=>g(Q.target.value)})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",value:v,onChange:Q=>p(Q.target.value),placeholder:""})]})]}),s.jsxs("div",{className:"space-y-3 rounded-lg border border-border-light p-4 bg-background-light/50",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("label",{className:"text-xs font-semibold text-text-main",children:""})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsxs("select",{className:"h-10 px-3 rounded-lg border border-border-light bg-white",value:R,onChange:Q=>k(Q.target.value),children:[s.jsx("option",{value:"low",children:" - "}),s.jsx("option",{value:"medium",children:" - "}),s.jsx("option",{value:"high",children:" - "}),s.jsx("option",{value:"strict",children:" - "})]})]}),s.jsxs("label",{className:"flex flex-col gap-1 text-xs text-text-secondary",children:["",s.jsx("input",{className:"h-10 px-3 rounded-lg border border-border-light",type:"number",value:P,onChange:Q=>T(Q.target.value),placeholder:"",min:"0"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-text-secondary",children:""}),s.jsx("button",{type:"button",className:"px-2 h-7 text-xs rounded border border-border-light bg-white hover:bg-background-light",onClick:()=>{const Q={id:`segment-${Date.now()}`,name:` ${j.length+1}`,startTime:0,duration:30,questionCount:10};N([...j,Q])},children:"+ "})]}),j.length===0?s.jsx("p",{className:"text-[11px] text-text-tertiary py-2",children:'""'}):s.jsx("div",{className:"space-y-2",children:j.map((Q,Y)=>s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-2 p-2 rounded border border-border-light bg-white",children:[s.jsx("input",{className:"h-8 px-2 rounded border border-border-light text-xs",value:Q.name,onChange:ce=>{const q=[...j];q[Y]={...q[Y],name:ce.target.value},N(q)},placeholder:""}),s.jsx("input",{className:"h-8 px-2 rounded border border-border-light text-xs",type:"number",value:Q.startTime??"",onChange:ce=>{const q=[...j];q[Y]={...q[Y],startTime:ce.target.value?Number(ce.target.value):void 0},N(q)},placeholder:"()",min:"0"}),s.jsx("input",{className:"h-8 px-2 rounded border border-border-light text-xs",type:"number",value:Q.duration??"",onChange:ce=>{const q=[...j];q[Y]={...q[Y],duration:ce.target.value?Number(ce.target.value):void 0},N(q)},placeholder:"()",min:"1"}),s.jsx("input",{className:"h-8 px-2 rounded border border-border-light text-xs",type:"number",value:Q.questionCount??"",onChange:ce=>{const q=[...j];q[Y]={...q[Y],questionCount:ce.target.value?Number(ce.target.value):void 0},N(q)},placeholder:"",min:"1"}),s.jsx("button",{type:"button",className:"h-8 px-2 text-xs rounded border border-red-200 text-red-600 hover:bg-red-50",onClick:()=>{N(j.filter((ce,q)=>q!==Y))},children:""})]},Q.id))})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",onClick:t,children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:D,children:D?"...":""})]})]})})},G2=[{id:"exam-1",title:"2023 ()",status:"ongoing",classLabel:"(3)",startAt:"2023-10-24T14:00:00",durationMinutes:120,proctor:"",token:"A8F-9K2",participants:{current:42,total:45}},{id:"exam-2",title:"2023",status:"review",classLabel:"(1)",endAt:"2023-10-23T16:30:00",durationMinutes:90,note:" 95%"},{id:"exam-3",title:"",status:"scheduled",classLabel:"",startAt:"2023-10-28T09:00:00",durationMinutes:90}];function J2(e={}){const[t,r]=w.useState(G2),[n,a]=w.useState(e),[l,i]=w.useState(!1),[o,d]=w.useState(void 0),c=w.useCallback(async()=>{i(!0),d(void 0),await new Promise(m=>setTimeout(m,120)),i(!1)},[]),u=w.useMemo(()=>t.filter(m=>!(n.status&&m.status!==n.status||n.classLabel&&m.classLabel!==n.classLabel||n.query&&!m.title.toLowerCase().includes(n.query.toLowerCase()))),[n,t]),h=w.useCallback(async m=>{const x={id:m.id??`exam-${Date.now()}`,title:m.title,status:m.status??"draft",classLabel:m.classLabel,startAt:m.startAt,endAt:m.endAt,durationMinutes:m.durationMinutes,proctor:m.proctor,token:m.token,participants:m.participants,note:m.note};return r(g=>[x,...g]),x},[]),f=w.useCallback(async(m,x)=>{let g;return r(v=>v.map(p=>p.id===m?(g={...p,...x},g):p)),g},[]);return{exams:u,isLoading:l,error:o,filters:n,setFilters:m=>a(x=>({...x,...m})),createExam:h,updateExam:f,refetch:c}}const Um=()=>{const{exams:e,isLoading:t,error:r,filters:n,setFilters:a,createExam:l,updateExam:i,refetch:o}=J2(),[d,c]=w.useState(!1),[u,h]=w.useState(null),[f,m]=w.useState(null),x=()=>{h(null),c(!0)},g=async y=>{u?(await i(u.id,y),m("")):(await l(y),m(""))},v=y=>{const j=e.find(N=>N.id===y);h(j??null),c(!0)},p=y=>{y.forEach(j=>{i(j,{status:"scheduled"})}),m(` ${y.length} `)},b=y=>{y.forEach(j=>{i(j,{status:"closed"})}),m(` ${y.length} `)};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-text-main",children:""}),s.jsx("p",{className:"text-sm text-text-secondary",children:"/"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 h-10 rounded-lg border border-border-light bg-white text-sm",onClick:()=>void o(),children:""}),s.jsx("button",{className:"px-3 h-10 rounded-lg bg-primary text-white text-sm shadow",onClick:x,children:""})]})]}),f?s.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[s.jsx("p",{children:f}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>m(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(K2,{exams:e,onSelect:v,onPublish:p,onClose:b,onFilterChange:a}),s.jsxs("div",{className:"text-xs text-text-secondary",children:["",n.status??""," / ",n.classLabel??""]}),s.jsx(q2,{open:d,onClose:()=>c(!1),onSave:g,initialExam:u})]})},Y2={draft:"bg-amber-100 text-amber-700",review:"bg-blue-100 text-blue-700",published:"bg-emerald-100 text-emerald-700"},X2=({questions:e,onSelect:t,onFilterChange:r})=>{const[n,a]=w.useState(""),[l,i]=w.useState(""),[o,d]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState("");return w.useEffect(()=>{r==null||r({query:n||void 0,knowledgePoint:l||void 0,difficulty:o?Number(o):void 0,type:c||void 0,status:h||void 0})},[o,l,r,n,h,c]),s.jsxs("section",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 material-symbols-outlined text-[18px]",children:"search"}),s.jsx("input",{className:"pl-9 pr-3 py-2 w-full rounded-lg border border-border-light bg-white text-sm",placeholder:"ID",value:n,onChange:m=>a(m.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:l,onChange:m=>i(m.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:o,onChange:m=>d(m.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"1",children:""}),s.jsx("option",{value:"2",children:""}),s.jsx("option",{value:"3",children:""}),s.jsx("option",{value:"4",children:""}),s.jsx("option",{value:"5",children:""})]}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:c,onChange:m=>u(m.target.value),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light bg-white text-sm",value:h,onChange:m=>f(m.target.value||""),children:[s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"published",children:""})]})]})]}),s.jsx("div",{className:"space-y-3",children:e.map(m=>{var x;return s.jsxs("article",{className:"group flex flex-col gap-2 p-4 border border-border-light rounded-xl bg-white shadow-sm hover:shadow-md cursor-pointer transition",onClick:()=>t==null?void 0:t(m.id),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("span",{className:"text-[11px] font-mono text-text-secondary",children:["ID: ",m.id]}),s.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium ${Y2[m.status]}`,children:m.status==="review"?"":m.status==="draft"?"":""})]}),s.jsx("h3",{className:"text-sm font-semibold text-text-main line-clamp-2 leading-snug group-hover:text-primary",children:m.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-[11px] text-text-secondary flex-wrap",children:[(x=m.knowledgePoints)==null?void 0:x.map(g=>s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded bg-slate-100 text-slate-600 border border-border-light",children:g},g)),m.type?s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded bg-slate-100 text-slate-600 border border-border-light",children:m.type}):null,typeof m.difficulty=="number"?s.jsx("span",{className:"flex text-amber-400",children:"".repeat(m.difficulty)}):null]})]},m.id)})}),e.length?null:s.jsx("div",{className:"text-sm text-text-secondary",children:""})]})},Z2=[{id:"v1.1",time:"10:42",summary:" LaTeX ",current:!0},{id:"v1.0",time:" 16:20",summary:"OCR ",current:!1}],eC=({question:e,onSave:t})=>{const[r,n]=w.useState((e==null?void 0:e.title)??""),[a,l]=w.useState((e==null?void 0:e.content)??""),[i,o]=w.useState((e==null?void 0:e.status)??"draft"),[d,c]=w.useState(!1);w.useEffect(()=>{n((e==null?void 0:e.title)??""),l((e==null?void 0:e.content)??""),o((e==null?void 0:e.status)??"draft")},[e]);const u=async f=>{f.preventDefault(),c(!0),await t({title:r,content:a,status:i}),c(!1)},h=()=>{alert("")};return s.jsx("div",{className:"flex flex-col h-full",children:s.jsxs("form",{className:"flex-1 flex flex-col gap-4",onSubmit:u,children:[s.jsx("input",{className:"w-full text-xl font-bold bg-transparent border border-border-light rounded-lg px-3 py-2 focus:border-primary focus:ring-0",placeholder:"...",value:r,onChange:f=>n(f.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"px-3 h-9 rounded-lg border border-border-light text-xs text-text-secondary hover:border-primary",onClick:h,children:" ()"}),s.jsxs("select",{className:"h-9 px-3 rounded-lg border border-border-light text-sm",value:i,onChange:f=>o(f.target.value),children:[s.jsx("option",{value:"draft",children:""}),s.jsx("option",{value:"review",children:""}),s.jsx("option",{value:"published",children:""})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-lg border border-border-light shadow-sm",children:[s.jsxs("div",{className:"p-2 flex items-center gap-2 border-b border-border-light text-xs text-text-secondary",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"functions"}),s.jsx("span",{children:"LaTeX "})]}),s.jsx("textarea",{className:"flex-1 min-h-[220px] p-3 text-sm font-mono border-0 focus:ring-0",value:a,onChange:f=>l(f.target.value),placeholder:" LaTeX"})]}),s.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-lg border border-border-light shadow-sm",children:[s.jsxs("div",{className:"p-2 flex items-center gap-2 border-b border-border-light text-xs text-text-secondary",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"visibility"}),s.jsx("span",{children:""}),s.jsx("span",{className:"ml-auto text-[10px] text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded",children:"LaTeX "})]}),s.jsx("div",{className:"flex-1 p-3 text-sm text-text-main bg-background-light/60",children:a||""})]})]}),s.jsxs("div",{className:"rounded-lg border border-border-light bg-white p-3 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-xs font-bold text-text-secondary uppercase tracking-wider",children:""}),s.jsx("button",{type:"button",className:"text-xs text-primary",children:""})]}),s.jsx("div",{className:"space-y-3",children:Z2.map(f=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`size-2.5 rounded-full mt-1 ${f.current?"bg-primary":"bg-slate-300"}`,"aria-hidden":!0}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:`font-semibold ${f.current?"text-text-main":"text-text-secondary"}`,children:[f.id,f.current?" ()":""]}),s.jsx("span",{className:"text-text-tertiary font-mono",children:f.time})]}),s.jsx("p",{className:"text-xs text-text-secondary",children:f.summary})]})]},f.id))})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 h-10 rounded-lg border border-border-light",children:""}),s.jsx("button",{type:"submit",className:"px-4 h-10 rounded-lg bg-primary text-white shadow",disabled:d,children:d?"...":""})]})]})})},tC=[{id:"q-842",title:" n n^3 - n  6 ",content:" n $n^3 - n$  6 ",knowledgePoints:[""],difficulty:3,type:"",status:"review",author:"",updatedAt:"10:42"},{id:"q-841",title:" |2x - 1| < 5 ",content:" |2x - 1| < 5 ",knowledgePoints:[""],difficulty:2,type:"",status:"draft",author:"",updatedAt:""},{id:"q-839",title:" f(x) = x^2 + ax + b ",content:" f(x) = x^2 + ax + b f(1) = 0...",knowledgePoints:[""],difficulty:3,type:"",status:"published",author:"",updatedAt:""}];function rC(e={}){const[t,r]=w.useState(tC),[n,a]=w.useState(e),[l,i]=w.useState(!1),[o,d]=w.useState(void 0),c=w.useCallback(async()=>{i(!0),d(void 0),await new Promise(x=>setTimeout(x,120)),i(!1)},[]),u=w.useMemo(()=>t.filter(x=>{var g;return!(n.status&&x.status!==n.status||n.knowledgePoint&&!((g=x.knowledgePoints)!=null&&g.includes(n.knowledgePoint))||n.type&&x.type!==n.type||typeof n.difficulty=="number"&&x.difficulty!==n.difficulty||n.query&&!x.title.toLowerCase().includes(n.query.toLowerCase()))}),[n,t]),h=w.useCallback(x=>t.find(g=>g.id===x),[t]),f=w.useCallback(async x=>{const g={id:x.id??`q-${Date.now()}`,title:x.title,content:x.content,knowledgePoints:x.knowledgePoints??[],difficulty:x.difficulty??3,type:x.type??"",status:x.status??"draft",author:x.author,updatedAt:x.updatedAt??""};return r(v=>[g,...v]),g},[]),m=w.useCallback(async(x,g)=>{let v;return r(p=>p.map(b=>b.id===x?(v={...b,...g},v):b)),v},[]);return{questions:u,isLoading:l,error:o,filters:n,setFilters:x=>a(g=>({...g,...x})),getQuestion:h,createQuestion:f,updateQuestion:m,refetch:c}}const nC=()=>{const{questions:e,isLoading:t,error:r,filters:n,setFilters:a,getQuestion:l,createQuestion:i,updateQuestion:o,refetch:d}=rC(),[c,u]=w.useState(null),[h,f]=w.useState(null),m=w.useMemo(()=>c?l(c):void 0,[c,l]),x=async v=>{if(c)await o(c,v),f("");else{const p=await i(v);u(p.id),f("")}},g=()=>{u(null)};return s.jsxs("div",{className:"grid grid-cols-12 h-full",children:[s.jsxs("div",{className:"col-span-12 md:col-span-3 border-r border-border-light bg-white p-4 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-lg font-bold text-text-main",children:""}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"px-3 h-9 rounded-lg border border-border-light text-sm",onClick:()=>void d(),children:""}),s.jsx("button",{className:"px-3 h-9 rounded-lg bg-primary text-white text-sm shadow",onClick:g,children:""})]})]}),h?s.jsxs("div",{className:"mb-3 rounded-lg border border-border-light bg-amber-50 px-3 py-2 text-xs text-amber-800 flex items-start justify-between",children:[s.jsx("p",{children:h}),s.jsx("button",{className:"text-amber-700 hover:text-amber-900",onClick:()=>f(null),"aria-label":"",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}):null,r?s.jsx("div",{className:"text-sm text-red-600",children:r.message}):null,t?s.jsx("div",{className:"text-sm text-text-secondary",children:"..."}):null,s.jsx(X2,{questions:e,onSelect:u,onFilterChange:a}),s.jsxs("div",{className:"text-[11px] text-text-secondary mt-2",children:["",n.knowledgePoint??""," / ",n.type??""," / ",n.status??""]})]}),s.jsx("div",{className:"col-span-12 md:col-span-9 bg-background-light p-4 overflow-y-auto",children:s.jsx(eC,{question:m??null,onSave:x})})]})},sC=()=>s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-text-secondary",children:""})]}),aC=({title:e="",statusLabel:t="Live",children:r})=>s.jsxs("section",{className:"relative w-full aspect-video bg-slate-900 text-white rounded-xl overflow-hidden border border-slate-800 flex items-center justify-center",role:"region","aria-live":"polite","aria-label":e,children:[s.jsxs("div",{className:"absolute top-3 left-3 flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-red-500 text-[11px] font-semibold uppercase tracking-wide",children:t}),s.jsx("span",{className:"text-xs text-white/70",children:e})]}),r||s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold",children:"Whiteboard / Stream Placeholder"}),s.jsx("p",{className:"text-sm text-white/60 mt-3",children:"TODO:  WebRTC/ SDK "})]})]}),lC=({onToggleMic:e,onToggleCamera:t,onShareScreen:r,onInsertQuestion:n,onToggleRecording:a,onEndSession:l,recordingActive:i=!1,micMuted:o=!1,cameraOff:d=!1})=>{const c="flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors";return s.jsxs("nav",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-2 shadow-sm","aria-label":"",children:[s.jsxs("button",{type:"button",className:`${c} ${o?"text-red-500":"text-text-main"}`,"aria-label":o?"":"",onClick:e,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:o?"mic_off":"mic"}),s.jsx("span",{children:o?"":""})]}),s.jsxs("button",{type:"button",className:`${c} ${d?"text-red-500":"text-text-main"}`,"aria-label":d?"":"",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:d?"videocam_off":"videocam"}),s.jsx("span",{children:d?"":""})]}),s.jsxs("button",{type:"button",className:`${c} text-text-main`,"aria-label":"",onClick:r,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"screen_share"}),s.jsx("span",{children:""})]}),s.jsxs("button",{type:"button",className:`${c} text-text-main`,"aria-label":"",onClick:n,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"quiz"}),s.jsx("span",{children:""})]}),s.jsxs("button",{type:"button",className:`${c} ${i?"text-red-500":"text-text-main"}`,"aria-label":i?"":"",onClick:a,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:i?"stop_circle":"fiber_manual_record"}),s.jsx("span",{children:i?"":""})]}),s.jsxs("button",{type:"button",className:`${c} text-red-600`,"aria-label":"",onClick:l,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"}),s.jsx("span",{children:""})]})]})},iC=({students:e,onOpenChat:t})=>s.jsxs("aside",{className:"w-full md:w-72 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl flex flex-col",children:[s.jsxs("header",{className:"px-4 py-3 border-b border-border-light dark:border-border-dark flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-text-secondary uppercase",children:""}),s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary/10 text-primary font-semibold",children:e.length})]}),s.jsxs("button",{type:"button",className:"text-xs text-primary font-medium","aria-label":"",onClick:t,children:[s.jsx("span",{className:"material-symbols-outlined text-sm align-middle",children:"forum"})," "]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",role:"list",children:e.map(r=>s.jsxs("div",{role:"listitem",className:"relative flex items-center gap-3 p-2 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-slate-800",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-cover bg-center bg-slate-200 text-slate-600 flex items-center justify-center text-sm font-bold",style:r.avatar?{backgroundImage:`url(${r.avatar})`}:void 0,"aria-hidden":!0,children:r.avatar?null:r.name.slice(0,1)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-text-main dark:text-white truncate",children:r.name}),s.jsxs("p",{className:"text-[11px] text-text-secondary flex items-center gap-1",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${r.isOnline===!1?"bg-red-400":"bg-green-500"}`,"aria-hidden":!0}),r.isOnline===!1?"":""]})]}),r.raisedHand?s.jsxs("span",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-100 text-amber-700 flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-xs","aria-hidden":!0,children:"pan_tool"}),""]}):null]},r.id))})]});function oC(e){const[t,r]=w.useState({id:"",courseId:e||"",status:"idle"}),n=t.status,a=w.useCallback(async i=>{try{const o=await Ka.startLive(i),d={id:o.id,courseId:o.courseId,status:"live",startedAt:o.startAt};return r(d),d}catch(o){throw console.error(":",o),o}},[]),l=w.useCallback(async i=>{try{const{session:o,recording:d}=await Ka.endLive(i);return r(c=>({...c,id:o.id,courseId:o.courseId,status:"ended",recordingId:d.id})),d.id}catch(o){throw console.error(":",o),o}},[]);return{session:t,status:n,start:a,end:l}}const dC=[{id:"s1",name:"",raisedHand:!1,isOnline:!0},{id:"s2",name:"",raisedHand:!0,isOnline:!0},{id:"s3",name:"",raisedHand:!1,isOnline:!1},{id:"s4",name:"Student A",raisedHand:!1,isOnline:!0}],Fb="mock.liveTeaching.events";function cC(e="evt"){return`${e}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`}function uC(){if(typeof window>"u")return[];try{const e=window.localStorage.getItem(Fb);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function hC(e){if(!(typeof window>"u"))try{window.localStorage.setItem(Fb,JSON.stringify(e))}catch{}}async function Kl(e){const t=uC();t.unshift({...e,id:cC(),ts:new Date().toISOString()}),hC(t)}const ql={async shareScreen(e){try{await me.post(`/live/${encodeURIComponent(e.sessionId)}/share-screen`,{courseId:e.courseId})}catch(t){console.warn("shareScreen API  mock ",t),await Kl({type:"share_screen",...e})}},async insertQuestion(e){try{await me.post(`/live/${encodeURIComponent(e.sessionId)}/insert-question`,{courseId:e.courseId})}catch(t){console.warn("insertQuestion API  mock ",t),await Kl({type:"insert_question",...e})}},async openChat(e){try{await me.post(`/live/${encodeURIComponent(e.sessionId)}/open-chat`,{courseId:e.courseId})}catch(t){console.warn("openChat API  mock ",t),await Kl({type:"open_chat",...e})}},async toggleRecording(e){try{await me.post(`/live/${encodeURIComponent(e.sessionId)}/recording`,{courseId:e.courseId,active:e.active})}catch(t){console.warn("toggleRecording API  mock ",t),await Kl({type:"toggle_recording",...e,payload:{active:e.active}})}}},fC=({courseId:e,onBackToCourse:t})=>{const r=$e(),{session:n,status:a,start:l,end:i}=oC(e),[o,d]=w.useState(!1),[c,u]=w.useState(!1),[h,f]=w.useState(!1),[m,x]=w.useState(!1),[g,v]=w.useState(null),[p,b]=w.useState(null);w.useEffect(()=>{a==="idle"&&e&&l(e)},[e,l,a]);const y=async()=>{if(n.id&&!m){x(!0),b(null);try{const P=await i(n.id);v(P)}catch(P){const T=P instanceof Error?P.message:"";b(T)}finally{x(!1)}}},j=async()=>{if(n.id)try{await ql.shareScreen({courseId:e,sessionId:n.id})}catch(P){console.error(":",P)}},N=async()=>{if(n.id)try{await ql.insertQuestion({courseId:e,sessionId:n.id})}catch(P){console.error(":",P)}},R=async()=>{if(n.id)try{await ql.openChat({courseId:e,sessionId:n.id})}catch(P){console.error(":",P)}},k=async()=>{if(!n.id)return;const P=!h;f(P);try{await ql.toggleRecording({courseId:e,sessionId:n.id,active:P})}catch(T){console.error(":",T),f(!P)}};return s.jsxs("div",{className:"min-h-screen bg-background-dark text-white","data-testid":"live-teaching-page",children:[s.jsxs("header",{className:"flex items-center justify-between px-4 py-3",children:[s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-sm font-medium text-white/90 hover:text-white",onClick:()=>t==null?void 0:t(e),"aria-label":"",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_back"}),""]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/70",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-white text-[11px] font-semibold uppercase tracking-wide ${a==="live"?"bg-red-500":"bg-gray-500"}`,"data-testid":"live-status-badge",children:a==="live"?"Live":a==="ended"?"Ended":"Idle"}),s.jsxs("span",{"data-testid":"course-id-display",children:[" ID: ",e]})]})]}),m?s.jsx("div",{className:"px-4",children:s.jsx("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-white/80",children:""})}):null,!m&&g?s.jsx("div",{className:"px-4",children:s.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-white/80 flex flex-wrap items-center justify-between gap-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-semibold text-white",children:""}),s.jsxs("div",{children:[" ID",s.jsx("span",{className:"font-mono text-[11px]",children:g}),s.jsx("span",{className:"ml-2 text-white/60",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg bg-primary text-white text-xs font-bold",onClick:()=>r(Au(e)),children:""}),s.jsx("button",{type:"button",className:"px-3 py-2 rounded-lg border border-white/20 text-white/90 text-xs",onClick:()=>v(null),"aria-label":"",children:""})]})]})}):null,!m&&p?s.jsx("div",{className:"px-4",children:s.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-2 text-xs text-red-100",role:"alert",children:p})}):null,s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-4 px-4 pb-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(aC,{title:"",statusLabel:a==="live"?"Live":"Ended"}),s.jsx(lC,{onToggleMic:()=>d(P=>!P),onToggleCamera:()=>u(P=>!P),onShareScreen:()=>void j(),onInsertQuestion:()=>void N(),onToggleRecording:()=>void k(),onEndSession:y,recordingActive:h,micMuted:o,cameraOff:c})]}),s.jsx(iC,{students:dC,onOpenChat:()=>void R()})]})]})},Bm=()=>{const e=$e(),t=lo(),[r]=_u(),n=w.useMemo(()=>{var i;if(t.courseId)return t.courseId;const l=(i=r.get("courseId"))==null?void 0:i.trim();return l||"course-live-1"},[t.courseId,r]),a=w.useCallback(l=>{e(Va(l))},[e]);return s.jsx(fC,{courseId:n,onBackToCourse:a})},mC=()=>{const e=$e(),[t,r]=w.useState(""),[n,a]=w.useState(""),[l,i]=w.useState(!1),[o,d]=w.useState({}),[c,u]=w.useState(!1),h=()=>{const x={};return t.trim()?t.length<3&&(x.username="3"):x.username="",n?n.length<6&&(x.password="6"):x.password="",d(x),Object.keys(x).length===0},f=async x=>{if(x.preventDefault(),d({}),!!h()){i(!0);try{if(await new Promise(g=>setTimeout(g,800)),t==="error")throw new Error("");typeof window<"u"&&(localStorage.setItem("auth_token","mock_token_"+Date.now()),localStorage.setItem("user_info",JSON.stringify({id:"u1",name:"",role:"teacher",email:t.includes("@")?t:`${t}@example.com`}))),e(G.dashboard)}catch(g){d({general:g instanceof Error?g.message:""})}finally{i(!1)}}},m=(x,g)=>{x==="username"?(r(g),o.username&&d(v=>({...v,username:void 0}))):(a(g),o.password&&d(v=>({...v,password:void 0}))),o.general&&d(v=>({...v,general:void 0}))};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark text-text-main dark:text-white p-6",children:s.jsxs("div",{className:"w-full max-w-sm",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 text-primary mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"school"})}),s.jsx("h1",{className:"text-2xl font-bold text-text-main dark:text-white",children:""}),s.jsx("p",{className:"text-sm text-text-secondary mt-2",children:""})]}),s.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-xl p-6 shadow-sm",children:[o.general&&s.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 flex items-start gap-2",role:"alert",children:[s.jsx("span",{className:"material-symbols-outlined text-red-500 text-lg flex-shrink-0",children:"error"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o.general})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4",noValidate:!0,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-xs font-medium text-text-secondary mb-1.5",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"person"})}),s.jsx("input",{id:"username",type:"text",value:t,onChange:x=>m("username",x.target.value),className:`w-full h-11 pl-10 pr-3 rounded-lg border bg-white dark:bg-gray-800 transition-colors ${o.username?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-border-light dark:border-border-dark focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"",autoComplete:"username",disabled:l,"aria-invalid":!!o.username,"aria-describedby":o.username?"username-error":void 0})]}),o.username&&s.jsxs("p",{id:"username-error",className:"mt-1.5 text-xs text-red-500 flex items-center gap-1",role:"alert",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"info"}),o.username]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-text-secondary mb-1.5",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"lock"})}),s.jsx("input",{id:"password",type:c?"text":"password",value:n,onChange:x=>m("password",x.target.value),className:`w-full h-11 pl-10 pr-10 rounded-lg border bg-white dark:bg-gray-800 transition-colors ${o.password?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-border-light dark:border-border-dark focus:border-primary focus:ring-primary/20"} focus:outline-none focus:ring-2`,placeholder:"",autoComplete:"current-password",disabled:l,"aria-invalid":!!o.password,"aria-describedby":o.password?"password-error":void 0}),s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-text-main transition-colors",onClick:()=>u(!c),"aria-label":c?"":"",disabled:l,children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:c?"visibility_off":"visibility"})})]}),o.password&&s.jsxs("p",{id:"password-error",className:"mt-1.5 text-xs text-red-500 flex items-center gap-1",role:"alert",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"info"}),o.password]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-border-light text-primary focus:ring-primary/20",disabled:l}),s.jsx("span",{className:"text-text-secondary",children:""})]}),s.jsx("button",{type:"button",className:"text-primary hover:text-primary-600 font-medium transition-colors",disabled:l,children:""})]}),s.jsx("button",{type:"submit",className:"w-full h-11 rounded-lg bg-primary text-white font-bold hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 shadow-sm hover:shadow-md",disabled:l,"aria-busy":l,children:l?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner","aria-hidden":"true"}),s.jsx("span",{children:"..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"login"}),s.jsx("span",{children:""})]})})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border-light dark:border-border-dark"})}),s.jsx("div",{className:"relative flex justify-center text-xs",children:s.jsx("span",{className:"px-2 bg-surface-light dark:bg-surface-dark text-text-secondary",children:""})})]}),s.jsxs("button",{type:"button",className:"w-full h-10 rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-gray-800 text-text-main dark:text-white text-sm font-medium hover:border-primary hover:bg-primary/5 transition-all flex items-center justify-center gap-2",onClick:()=>{r("demo@example.com"),a("demo123")},disabled:l,children:[s.jsx("span",{className:"material-symbols-outlined text-lg text-primary",children:"play_circle"}),""]}),s.jsx("p",{className:"mt-4 text-xs text-text-secondary text-center",children:"demo@example.com / demo123"})]}),s.jsxs("p",{className:"mt-6 text-xs text-text-secondary text-center",children:["",s.jsx("a",{href:"#",className:"text-primary hover:underline",children:""})]})]})})},xC=Hw([{element:s.jsx(Xk,{}),children:[{path:G.login,element:s.jsx(mC,{}),handle:{title:""}}]},{element:s.jsx(Yk,{}),children:[{path:G.dashboard,element:s.jsx(HS,{}),handle:{title:""}},{path:G.courseSchedule,element:s.jsx(Pm,{}),handle:{title:""}},{path:G.courseScheduleNew,element:s.jsx(Pm,{}),handle:{title:""}},{path:G.recordings,element:s.jsx(ZS,{}),handle:{title:""}},{path:G.recordingDetail,element:s.jsx(e2,{}),handle:{title:""}},{path:G.resourceLibrary,element:s.jsx(u2,{}),handle:{title:""}},{path:G.resourceUpload,element:s.jsx(h2,{}),handle:{title:""}},{path:G.assignmentNew,element:s.jsx(z2,{}),handle:{title:""}},{path:G.assignmentGrading,element:s.jsx(vm,{}),handle:{title:""}},{path:G.assignmentDetail,element:s.jsx(B1,{}),handle:{title:""}},{path:G.assignmentManagement,element:s.jsx(U1,{}),handle:{title:""}},{path:G.gradingWorkspace,element:s.jsx(vm,{}),handle:{title:""}},{path:G.gradebook,element:s.jsx(W1,{}),handle:{title:""}},{path:G.examManagement,element:s.jsx(Um,{}),handle:{title:""}},{path:G.examDetail,element:s.jsx(Um,{}),handle:{title:""}},{path:G.studentList,element:s.jsx(P2,{}),handle:{title:""}},{path:G.teachingAnalytics,element:s.jsx(W2,{}),handle:{title:""}},{path:G.inbox,element:s.jsx(qS,{}),handle:{title:""}},{path:G.settings,element:s.jsx(y2,{}),handle:{title:""}},{path:G.collaborationReview,element:s.jsx(rS,{}),handle:{title:""}},{path:G.questionBank,element:s.jsx(nC,{}),handle:{title:""}},{path:"*",element:s.jsx(sC,{}),handle:{title:""}}]},{element:s.jsx(Kk,{}),children:[{path:G.courseDetail,element:s.jsx(jS,{}),handle:{title:""}},{path:G.courseEdit,element:s.jsx(IS,{}),handle:{title:""}},{path:G.studentProfile,element:s.jsx($2,{}),handle:{title:""}}]},{element:s.jsx(Gk,{}),children:[{path:G.liveTeachingWithCourse,element:s.jsx(Bm,{}),handle:{title:""}},{path:G.liveTeaching,element:s.jsx(Bm,{}),handle:{title:""}}]},...Wk.map(({from:e,to:t})=>({path:e,element:s.jsx(gw,{to:t,replace:!0})}))]);function pC(){return s.jsx(zk,{children:s.jsx(tk,{router:xC})})}const gC=document.getElementById("root");cd.createRoot(gC).render(s.jsx(pC,{}));
